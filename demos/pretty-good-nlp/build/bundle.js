var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(n)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(s(t,n))}function u(e,t,n,r){if(e){const i=c(e,t,n,r);return e[0](i)}}function c(e,n,r,i){return e[1]&&i?t(r.ctx.slice(),e[1](i(n))):r.ctx}function f(e,t,n,r,i,o,a){const s=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(s){const i=c(t,n,r,a);e.p(i,s)}}function h(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function d(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function p(e){return null==e?"":e}function v(e,t,n=t){return e.set(n),t}function g(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function x(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function S(){return k(" ")}function C(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function O(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e,t){for(const n in t)O(e,n,t[n])}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}let M,A;function N(){if(void 0===M){M=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){M=!0}}return M}function E(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=w("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=N();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=C(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=C(n.contentWindow,"resize",t)}),g(e,n),()=>{(r||i&&n.contentWindow)&&i(),y(n)}}function j(e,t,n){e.classList[n?"add":"remove"](t)}function P(e){A=e}function _(){if(!A)throw new Error("Function called outside component initialization");return A}function I(e){_().$$.on_mount.push(e)}function R(){const e=_();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function W(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const D=[],z=[],F=[],B=[],H=Promise.resolve();let V=!1;function U(e){F.push(e)}let q=!1;const G=new Set;function Y(){if(!q){q=!0;do{for(let e=0;e<D.length;e+=1){const t=D[e];P(t),K(t.$$)}for(P(null),D.length=0;z.length;)z.pop()();for(let e=0;e<F.length;e+=1){const t=F[e];G.has(t)||(G.add(t),t())}F.length=0}while(D.length);for(;B.length;)B.pop()();V=!1,q=!1,G.clear()}}function K(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}const J=new Set;let X;function Q(){X={r:0,c:[],p:X}}function Z(){X.r||i(X.c),X=X.p}function ee(e,t){e&&e.i&&(J.delete(e),e.i(t))}function te(e,t,n,r){if(e&&e.o){if(J.has(e))return;J.add(e),X.c.push((()=>{J.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function ne(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const e in a)e in s||(r[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[o]=s}else for(const e in a)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function re(e){e&&e.c()}function ie(e,t,r,a){const{fragment:s,on_mount:l,on_destroy:u,after_update:c}=e.$$;s&&s.m(t,r),a||U((()=>{const t=l.map(n).filter(o);u?u.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(U)}function oe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(e,t){-1===e.$$.dirty[0]&&(D.push(e),V||(V=!0,H.then(Y)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(t,n,o,a,s,l,u=[-1]){const c=A;P(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:n.context||[]),callbacks:r(),dirty:u,skip_bound:!1};let h=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),h&&ae(t,e)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&ee(t.$$.fragment),ie(t,n.target,n.anchor,n.customElement),Y()}P(c)}class le{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ue={name:"SplitterContext"};function ce(t){let n,r,i,o;return{c(){n=w("div"),r=w("div"),O(r,"class","line svelte-16wga0t"),O(r,"style",t[2]),O(n,"class",i=p(t[3])+" svelte-16wga0t"),O(n,"tabindex","0"),U((()=>t[13].call(n)))},m(e,i){m(e,n,i),g(n,r),o=E(n,t[13].bind(n))},p(e,[t]){4&t&&O(r,"style",e[2]),8&t&&i!==(i=p(e[3])+" svelte-16wga0t")&&O(n,"class",i)},i:e,o:e,d(e){e&&y(n),o()}}}function fe(e,t,n){let r,i,o,a,s,u,c,{color:f="silver"}=t,{hoverColor:h="gray"}=t,{dragColor:d="black"}=t,p=(v=ue,_().$$.context.get(v));var v;let g,m;return l(e,p,(e=>n(9,c=e))),e.$$set=e=>{"color"in e&&n(5,f=e.color),"hoverColor"in e&&n(6,h=e.hoverColor),"dragColor"in e&&n(7,d=e.dragColor)},e.$$.update=()=>{512&e.$$.dirty&&n(8,r=c.dragging),512&e.$$.dirty&&n(10,i=c.horizontal),1027&e.$$.dirty&&n(11,o=i?m:g),2528&e.$$.dirty&&n(12,a={"--splitter-line-margin":`${Math.max(0,Math.floor(o/2)-1)}px`,"--splitter-line-size":(o%2==0?2:3)+"px","--splitter-line-color":r?d:f,"--splitter-line-hover-color":r?d:h}),4096&e.$$.dirty&&n(2,s=Object.entries(a).map((([e,t])=>`${e}:${t}`)).join(";")),1024&e.$$.dirty&&n(3,u=i?"splitter horizontal":"splitter vertical")},[g,m,s,u,p,f,h,d,r,c,i,o,a,function(){g=this.clientWidth,m=this.clientHeight,n(0,g),n(1,m)}]}class he extends le{constructor(e){super(),se(this,e,fe,ce,a,{color:5,hoverColor:6,dragColor:7})}}const de=[];function pe(t,n=e){let r;const i=[];function o(e){if(a(t,e)&&(t=e,r)){const e=!de.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),de.push(n,t)}if(e){for(let e=0;e<de.length;e+=2)de[e][0](de[e+1]);de.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,s=e){const l=[a,s];return i.push(l),1===i.length&&(r=n(o)||e),a(t),()=>{const e=i.indexOf(l);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}const ve=e=>({}),ge=e=>({}),me=e=>({}),ye=e=>({}),be=e=>({}),we=e=>({});function xe(e){let t,n,r,o,a,s,l,c,h,d,v,b,x,k;const T=e[33].primary,L=u(T,e,e[32],we),$=e[33].splitter,M=u($,e,e[32],ye),A=M||function(e){let t,n;return t=new he({}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}(),N=e[33].secondary,j=u(N,e,e[32],ge);return{c(){t=w("div"),n=w("div"),L&&L.c(),o=S(),a=w("div"),A&&A.c(),l=S(),c=w("div"),j&&j.c(),O(n,"class","primary svelte-603y9m"),U((()=>e[34].call(n))),O(a,"class","splitter svelte-603y9m"),U((()=>e[35].call(a))),O(c,"class","secondary svelte-603y9m"),U((()=>e[36].call(c))),O(t,"class",d=p(e[9])+" svelte-603y9m"),O(t,"style",e[8]),U((()=>e[37].call(t)))},m(i,u){m(i,t,u),g(t,n),L&&L.m(n,null),r=E(n,e[34].bind(n)),g(t,o),g(t,a),A&&A.m(a,null),s=E(a,e[35].bind(a)),g(t,l),g(t,c),j&&j.m(c,null),h=E(c,e[36].bind(c)),v=E(t,e[37].bind(t)),b=!0,x||(k=[C(a,"pointerdown",e[10]),C(a,"pointermove",e[11]),C(a,"pointerup",e[12]),C(a,"dblclick",e[13]),C(a,"keydown",e[14])],x=!0)},p(e,n){L&&L.p&&2&n[1]&&f(L,T,e,e[32],n,be,we),M&&M.p&&2&n[1]&&f(M,$,e,e[32],n,me,ye),j&&j.p&&2&n[1]&&f(j,N,e,e[32],n,ve,ge),(!b||512&n[0]&&d!==(d=p(e[9])+" svelte-603y9m"))&&O(t,"class",d),(!b||256&n[0])&&O(t,"style",e[8])},i(e){b||(ee(L,e),ee(A,e),ee(j,e),b=!0)},o(e){te(L,e),te(A,e),te(j,e),b=!1},d(e){e&&y(t),L&&L.d(e),r(),A&&A.d(e),s(),j&&j.d(e),h(),v(),x=!1,i(k)}}}function ke(e,t,n){let r,i,o,a,s,l,u,c,f,h,d,p,v,g,m,y,b,{$$slots:w={},$$scope:x}=t,{horizontal:k=!1}=t,{initialPrimarySize:S="50%"}=t,{minPrimarySize:C="0"}=t,{minSecondarySize:O="0"}=t,{splitterSize:T="7px"}=t,{resetOnDoubleClick:L=!0}=t;const $=e=>Math.max(0,Math.min(e,100));let M,A,N,E=!1;const j=pe({horizontal:k,dragging:E});var P,I;P=ue,I=j,_().$$.context.set(P,I);const W=R();return e.$$set=e=>{"horizontal"in e&&n(15,k=e.horizontal),"initialPrimarySize"in e&&n(16,S=e.initialPrimarySize),"minPrimarySize"in e&&n(17,C=e.minPrimarySize),"minSecondarySize"in e&&n(18,O=e.minSecondarySize),"splitterSize"in e&&n(19,T=e.splitterSize),"resetOnDoubleClick"in e&&n(20,L=e.resetOnDoubleClick),"$$scope"in e&&n(32,x=e.$$scope)},e.$$.update=()=>{32771&e.$$.dirty[0]&&n(25,r=k?d:h),32780&e.$$.dirty[0]&&n(26,i=k?v:p),32816&e.$$.dirty[0]&&n(27,o=k?m:g),32960&e.$$.dirty[0]&&n(28,a=k?b:y),234881024&e.$$.dirty[0]&&n(29,s=$(Math.ceil((i-o)/(r-o)*100))),16809984&e.$$.dirty[0]&&j.set({horizontal:k,dragging:E}),1023410176&e.$$.dirty[0]&&W("changed",{percent:s,primarySize:i,splitterSize:o,secondarySize:a,dragging:E}),8454144&e.$$.dirty[0]&&n(30,l=void 0!==M?`${M}%`:S),1074659328&e.$$.dirty[0]&&n(31,u={"--primary-size":`${l}`,"--min-primary-size":`${C}`,"--min-secondary-size":`${O}`,"--splitter-size":`${T}`}),1&e.$$.dirty[1]&&n(8,c=Object.entries(u).map((([e,t])=>`${e}:${t}`)).join(";")),32768&e.$$.dirty[0]&&n(9,f=k?"split horizontal":"split vertical")},[h,d,p,v,g,m,y,b,c,f,e=>{e.currentTarget.setPointerCapture(e.pointerId),A=k?e.clientY:e.clientX,N=i,n(24,E=!0)},e=>{if(e.currentTarget.hasPointerCapture(e.pointerId)){const t=k?e.clientY:e.clientX;let i=N+(t-A);i=Math.max(0,Math.min(i,r));n(23,M=i/r*100)}},e=>{e.currentTarget.releasePointerCapture(e.pointerId),n(24,E=!1)},()=>{L&&n(23,M=void 0)},e=>{const t=M||s;if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){switch(e.code){case"Space":return void n(23,M=void 0)}if(k)switch(e.code){case"ArrowUp":return void n(23,M=$(t-1));case"ArrowDown":return void n(23,M=$(t+1))}else switch(e.code){case"ArrowLeft":return void n(23,M=$(t-1));case"ArrowRight":return void n(23,M=$(t+1))}}},k,S,C,O,T,L,()=>s,e=>{n(23,M=$(e))},M,E,r,i,o,a,s,l,u,x,w,function(){p=this.clientWidth,v=this.clientHeight,n(2,p),n(3,v)},function(){g=this.clientWidth,m=this.clientHeight,n(4,g),n(5,m)},function(){y=this.clientWidth,b=this.clientHeight,n(6,y),n(7,b)},function(){h=this.clientWidth,d=this.clientHeight,n(0,h),n(1,d)}]}class Se extends le{constructor(e){super(),se(this,e,ke,xe,a,{horizontal:15,initialPrimarySize:16,minPrimarySize:17,minSecondarySize:18,splitterSize:19,resetOnDoubleClick:20,getPercent:21,setPercent:22},[-1,-1])}get getPercent(){return this.$$.ctx[21]}get setPercent(){return this.$$.ctx[22]}}var Ce=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Te(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function Le(e){var t={exports:{}};return e(t,t.exports),t.exports}var $e="object"==typeof Oe&&Oe&&Oe.Object===Object&&Oe,Me="object"==typeof self&&self&&self.Object===Object&&self,Ae=$e||Me||Function("return this")(),Ne=function(){return Ae.Date.now()},Ee=/\s/;var je=function(e){for(var t=e.length;t--&&Ee.test(e.charAt(t)););return t},Pe=/^\s+/;var _e=function(e){return e?e.slice(0,je(e)+1).replace(Pe,""):e},Ie=Ae.Symbol,Re=Object.prototype,We=Re.hasOwnProperty,De=Re.toString,ze=Ie?Ie.toStringTag:void 0;var Fe=function(e){var t=We.call(e,ze),n=e[ze];try{e[ze]=void 0;var r=!0}catch(e){}var i=De.call(e);return r&&(t?e[ze]=n:delete e[ze]),i},Be=Object.prototype.toString;var He=function(e){return Be.call(e)},Ve=Ie?Ie.toStringTag:void 0;var Ue=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ve&&Ve in Object(e)?Fe(e):He(e)};var qe=function(e){return null!=e&&"object"==typeof e};var Ge=function(e){return"symbol"==typeof e||qe(e)&&"[object Symbol]"==Ue(e)},Ye=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Je=/^0o[0-7]+$/i,Xe=parseInt;var Qe=function(e){if("number"==typeof e)return e;if(Ge(e))return NaN;if(Ce(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ce(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=_e(e);var n=Ke.test(e);return n||Je.test(e)?Xe(e.slice(2),n?2:8):Ye.test(e)?NaN:+e},Ze=Math.max,et=Math.min;var tt=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){return u=e,s=setTimeout(g,t),c?d(e):a}function v(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-u>=o}function g(){var e=Ne();if(v(e))return m(e);s=setTimeout(g,function(e){var n=t-(e-l);return f?et(n,o-(e-u)):n}(e))}function m(e){return s=void 0,h&&r?d(e):(r=i=void 0,a)}function y(){var e=Ne(),n=v(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return p(l);if(f)return clearTimeout(s),s=setTimeout(g,t),d(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=Qe(t)||0,Ce(n)&&(c=!!n.leading,o=(f="maxWait"in n)?Ze(Qe(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:m(Ne())},y};const nt=[{name:"Coffee Order",intents:[{name:"Add coffee order",examples:[{name:"Could I have an iced grande vanilla latte",parts:[{name:"order intent",phrases:["Could I have","Could I please have","I would like","I'd like","I'd love","Please","Please give me","Please make me","Make me","Give me","Gimme","I will have","I'll have","I want","Make","Brew","Add","Plus"]},{name:"quantity",phrases:["a","an","one","two","three","four","five","six"],regularExpressions:["\\d+"],variable:"quantity",weight:0},{name:"size",phrases:["short","tall","grande","venti","small","medium","large","extra large","8 ounce","8 oz","12 ounce","12 oz","16 ounce","16 oz","20 ounce","20 oz"],variable:"size",ignoreOrder:!0},{name:"flavors",phrases:["vanilla","hazelnut","caramel","raspberry"],variable:"flavor",weight:0,ignoreOrder:!0},{name:"temperature",phrases:["hot","cold","iced","extra hot","room temperature","tepid"],variable:"temperature",weight:0,ignoreOrder:!0},{name:"product",phrases:["cocoa","chocolate","espresso","espressos","latte","lattes","americano","americanos","cappuccino","cappuccinos","macchiato","macchiatos","mocha","mochas","drip","drips","drip coffee","drip coffees","coffee","coffees","brewed coffee","brewed coffees"],required:!0,variable:"product"}],neverParts:[{name:"negations",phrases:["don't","do not","won't","will not","cancel","nevermind"]}]}]}]},{name:"Vacation",intents:[{name:"Add vacation",examples:[{name:"Add vacation <dayOfWeek | date>",parts:[{phrases:["add","set","plus"],required:!0,weight:20},{phrases:["$ref=vacationPhrases"]},{phrases:["$ref=daysOfTheWeek"],regularExpressions:["$ref=dateFormat"],variable:"dayOrDate",weight:20}],neverParts:[{phrases:["$ref=negativePhrases"]}]},{name:"I will be on vacation <dayOfWeek>",parts:[{phrases:["$ref=iWillPhrases"]},{phrases:["$ref=vacationActionPhrases"]},{phrases:["$ref=vacationPhrases"],weight:4},{phrases:["$ref=daysOfTheWeek"],variable:"day",weight:4}],neverParts:[{phrases:["$ref=negativePhrases"]}]},{name:"I will be on vacation <date> through <date>",parts:[{phrases:["$ref=iWillPhrases"]},{phrases:["$ref=vacationActionPhrases"]},{phrases:["$ref=vacationPhrases"],weight:5},{regularExpressions:["$ref=dateFormat"],variable:"startDate",weight:5},{phrases:["through","to","until"," - "],weight:0},{regularExpressions:["$ref=dateFormat"],variable:"endDate",weight:100}],neverParts:[{phrases:["$ref=negativePhrases"]}]},{name:"I will be on vacation this <dayOfWeek> through next <dayOfWeek>",parts:[{phrases:["$ref=iWillPhrases"]},{phrases:["$ref=vacationActionPhrases"]},{phrases:["$ref=vacationPhrases"],weight:7},{phrases:["this","next"],weight:0,variable:"relativeStart"},{phrases:["$ref=daysOfTheWeek"],variable:"startDay",weight:7},{phrases:["through","to","until","up to"," - "]},{phrases:["this","next"],weight:0,variable:"relativeEnd"},{phrases:["$ref=daysOfTheWeek"],variable:"endDay",weight:7}],neverParts:[{phrases:["$ref=negativePhrases"]}]}]}],shared:{iWillPhrases:["I am","I'm","I will","I will be","I'll be"],vacationActionPhrases:["on","out on","away on","going","going on","starting","start","take","taking"],vacationPhrases:["vacation","away","leave","away on leave","out","out of office","OOF","OOO","holiday","personal day"],daysOfTheWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Mon","Tue","Tues","Wed","Thur","Thurs","Fri","Sat","Sun"],negativePhrases:["won't","can't","will not","can not","cannot","cancel","cancelling","cancelled","remove","minus","without"],dateFormat:["\\d{1,2}\\/\\d{1,2}(\\/(\\d{4}|\\d{2}))?"]}},{name:"Playground",intents:[{name:"Playground",examples:[{name:"Name your intent here",parts:[{phrases:["Add phrases","you would like","to recognize"],patterns:["or patterns like phone numbers ###-###-####"],regularExpressions:["or regular expressions like numbers: \\d+"]},{phrases:["Add more parts to recognize with weights and variables"],weight:2,variable:"variableNameHere"},{phrases:["You can use shared parts for phrases","$"],weight:2,variable:"variableNameHere"}],neverParts:[{phrases:["You can also add never parts","to zero the score","when they match"]}]}]}],shared:{somePhrases:["here are some","shared phrases"],somePatterns:["###-###","###-###-####","###-@@@-@@@@"],someRegularExpressions:["\\w\\w","[a-zA-Z]{0,4}"]}}],rt=pe(nt.slice()),it=pe(0),ot=function(t,n,r){const a=!Array.isArray(t),l=a?[t]:t,u=n.length<2;return{subscribe:pe(r,(t=>{let r=!1;const c=[];let f=0,h=e;const d=()=>{if(f)return;h();const r=n(a?c[0]:c,t);u?t(r):h=o(r)?r:e},p=l.map(((e,t)=>s(e,(e=>{c[t]=e,f&=~(1<<t),r&&d()}),(()=>{f|=1<<t}))));return r=!0,d(),function(){i(p),h()}})).subscribe}}([rt,it],(([e,t])=>e[t]));function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vt(e,t,n){return(vt=pt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&dt(i,n.prototype),i}).apply(null,arguments)}function gt(e){var t="function"==typeof Map?new Map:void 0;return(gt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return vt(e,arguments,ht(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dt(r,e)})(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?mt(e):t}function bt(e){var t=pt();return function(){var n,r=ht(e);if(t){var i=ht(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}function wt(e,t,n){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ht(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xt(e,t){return St(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Ct(e,t)||Tt()}function kt(e){return St(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ct(e)||Tt()}function St(e){if(Array.isArray(e))return e}function Ct(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Ct(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var $t="&",Mt="#",At="!",Nt="-",Et=".",jt="ALIAS",Pt="BLANK_LINE",_t="BLOCK_FOLDED",It="BLOCK_LITERAL",Rt="COMMENT",Wt="DIRECTIVE",Dt="DOCUMENT",zt="FLOW_MAP",Ft="FLOW_SEQ",Bt="MAP",Ht="MAP_KEY",Vt="MAP_VALUE",Ut="PLAIN",qt="QUOTE_DOUBLE",Gt="QUOTE_SINGLE",Yt="SEQ",Kt="SEQ_ITEM",Jt="tag:yaml.org,2002:",Xt={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function Qt(e){for(var t=[0],n=e.indexOf("\n");-1!==n;)n+=1,t.push(n),n=e.indexOf("\n",n);return t}function Zt(e){var t,n;return"string"==typeof e?(t=Qt(e),n=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=Qt(e.context.src)),t=e.lineStarts,n=e.context.src)),{lineStarts:t,src:n}}function en(e,t){if("number"!=typeof e||e<0)return null;var n=Zt(t),r=n.lineStarts,i=n.src;if(!r||!i||e>i.length)return null;for(var o=0;o<r.length;++o){var a=r[o];if(e<a)return{line:o,col:e-r[o-1]+1};if(e===a)return{line:o+1,col:1}}var s=r.length;return{line:s,col:e-r[s-1]+1}}function tn(e,t){var n=Zt(t),r=n.lineStarts,i=n.src;if(!r||!(e>=1)||e>r.length)return null;for(var o=r[e-1],a=r[e];a&&a>o&&"\n"===i[a-1];)--a;return i.slice(o,a)}var nn=function(){function e(t,n){st(this,e),this.start=t,this.end=n||t}return ut(e,[{key:"isEmpty",value:function(){return"number"!=typeof this.start||!this.end||this.end<=this.start}},{key:"setOrigRange",value:function(e,t){var n=this.start,r=this.end;if(0===e.length||r<=e[0])return this.origStart=n,this.origEnd=r,t;for(var i=t;i<e.length&&!(e[i]>n);)++i;this.origStart=n+i;for(var o=i;i<e.length&&!(e[i]>=r);)++i;return this.origEnd=r+i,o}}],[{key:"copy",value:function(t){return new e(t.start,t.end)}}]),e}(),rn=function(){function e(t,n,r){st(this,e),Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=t,this.value=null}return ut(e,[{key:"getPropValue",value:function(e,t,n){if(!this.context)return null;var r=this.context.src,i=this.props[e];return i&&r[i.start]===t?r.slice(i.start+(n?1:0),i.end):null}},{key:"anchor",get:function(){for(var e=0;e<this.props.length;++e){var t=this.getPropValue(e,$t,!0);if(null!=t)return t}return null}},{key:"comment",get:function(){for(var e=[],t=0;t<this.props.length;++t){var n=this.getPropValue(t,Mt,!0);null!=n&&e.push(n)}return e.length>0?e.join("\n"):null}},{key:"commentHasRequiredWhitespace",value:function(t){var n=this.context.src;if(this.header&&t===this.header.end)return!1;if(!this.valueRange)return!1;var r=this.valueRange.end;return t!==r||e.atBlank(n,r-1)}},{key:"hasComment",get:function(){if(this.context)for(var e=this.context.src,t=0;t<this.props.length;++t)if(e[this.props[t].start]===Mt)return!0;return!1}},{key:"hasProps",get:function(){if(this.context)for(var e=this.context.src,t=0;t<this.props.length;++t)if(e[this.props[t].start]!==Mt)return!0;return!1}},{key:"includesTrailingLines",get:function(){return!1}},{key:"jsonLike",get:function(){return-1!==[zt,Ft,qt,Gt].indexOf(this.type)}},{key:"rangeAsLinePos",get:function(){if(this.range&&this.context){var e=en(this.range.start,this.context.root);if(e)return{start:e,end:en(this.range.end,this.context.root)}}}},{key:"rawValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,n=e.end;return this.context.src.slice(t,n)}},{key:"tag",get:function(){for(var e=0;e<this.props.length;++e){var t=this.getPropValue(e,At,!1);if(null!=t){if("<"===t[1])return{verbatim:t.slice(2,-1)};var n=xt(t.match(/^(.*!)([^!]*)$/),3);return n[0],{handle:n[1],suffix:n[2]}}}return null}},{key:"valueRangeContainsNewline",get:function(){if(!this.valueRange||!this.context)return!1;for(var e=this.valueRange,t=e.start,n=e.end,r=this.context.src,i=t;i<n;++i)if("\n"===r[i])return!0;return!1}},{key:"parseComment",value:function(t){var n=this.context.src;if(n[t]===Mt){var r=e.endOfLine(n,t+1),i=new nn(t,r);return this.props.push(i),r}return t}},{key:"setOrigRanges",value:function(e,t){return this.range&&(t=this.range.setOrigRange(e,t)),this.valueRange&&this.valueRange.setOrigRange(e,t),this.props.forEach((function(n){return n.setOrigRange(e,t)})),t}},{key:"toString",value:function(){var t=this.context.src,n=this.range,r=this.value;if(null!=r)return r;var i=t.slice(n.start,n.end);return e.addStringTerminator(t,n.end,i)}}],[{key:"addStringTerminator",value:function(t,n,r){if("\n"===r[r.length-1])return r;var i=e.endOfWhiteSpace(t,n);return i>=t.length||"\n"===t[i]?r+"\n":r}},{key:"atDocumentBoundary",value:function(e,t,n){var r=e[t];if(!r)return!0;var i=e[t-1];if(i&&"\n"!==i)return!1;if(n){if(r!==n)return!1}else if(r!==Nt&&r!==Et)return!1;var o=e[t+1],a=e[t+2];if(o!==r||a!==r)return!1;var s=e[t+3];return!s||"\n"===s||"\t"===s||" "===s}},{key:"endOfIdentifier",value:function(e,t){for(var n=e[t],r="<"===n,i=r?["\n","\t"," ",">"]:["\n","\t"," ","[","]","{","}",","];n&&-1===i.indexOf(n);)n=e[t+=1];return r&&">"===n&&(t+=1),t}},{key:"endOfIndent",value:function(e,t){for(var n=e[t];" "===n;)n=e[t+=1];return t}},{key:"endOfLine",value:function(e,t){for(var n=e[t];n&&"\n"!==n;)n=e[t+=1];return t}},{key:"endOfWhiteSpace",value:function(e,t){for(var n=e[t];"\t"===n||" "===n;)n=e[t+=1];return t}},{key:"startOfLine",value:function(e,t){var n=e[t-1];if("\n"===n)return t;for(;n&&"\n"!==n;)n=e[t-=1];return t+1}},{key:"endOfBlockIndent",value:function(t,n,r){var i=e.endOfIndent(t,r);if(i>r+n)return i;var o=e.endOfWhiteSpace(t,i),a=t[o];return a&&"\n"!==a?null:o}},{key:"atBlank",value:function(e,t,n){var r=e[t];return"\n"===r||"\t"===r||" "===r||n&&!r}},{key:"nextNodeIsIndented",value:function(e,t,n){return!(!e||t<0)&&(t>0||n&&"-"===e)}},{key:"normalizeOffset",value:function(t,n){var r=t[n];return r?"\n"!==r&&"\n"===t[n-1]?n-1:e.endOfWhiteSpace(t,n):n}},{key:"foldNewline",value:function(t,n,r){for(var i=0,o=!1,a="",s=t[n+1];" "===s||"\t"===s||"\n"===s;){switch(s){case"\n":i=0,n+=1,a+="\n";break;case"\t":i<=r&&(o=!0),n=e.endOfWhiteSpace(t,n+2)-1;break;case" ":i+=1,n+=1}s=t[n+1]}return a||(a=" "),s&&i<=r&&(o=!0),{fold:a,offset:n,error:o}}}]),e}(),on=function(e){ft(n,e);var t=bt(n);function n(e,r,i){var o;if(st(this,n),!(i&&r instanceof rn))throw new Error("Invalid arguments for new ".concat(e));return(o=t.call(this)).name=e,o.message=i,o.source=r,o}return ut(n,[{key:"makePretty",value:function(){if(this.source){this.nodeType=this.source.type;var e=this.source.context&&this.source.context.root;if("number"==typeof this.offset){this.range=new nn(this.offset,this.offset+1);var t=e&&en(this.offset,e);if(t){var n={line:t.line,col:t.col+1};this.linePos={start:t,end:n}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){var r=this.linePos.start,i=r.line,o=r.col;this.message+=" at line ".concat(i,", column ").concat(o);var a=e&&function(e,t){var n=e.start,r=e.end,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,o=tn(n.line,t);if(!o)return null;var a=n.col;if(o.length>i)if(a<=i-10)o=o.substr(0,i-1)+"â€¦";else{var s=Math.round(i/2);o.length>a+s&&(o=o.substr(0,a+s-1)+"â€¦"),a-=o.length-i,o="â€¦"+o.substr(1-i)}var l=1,u="";r&&(r.line===n.line&&a+(r.col-n.col)<=i+1?l=r.col-n.col:(l=Math.min(o.length+1,i)-a,u="â€¦"));var c=a>1?" ".repeat(a-1):"",f="^".repeat(l);return"".concat(o,"\n").concat(c).concat(f).concat(u)}(this.linePos,e);a&&(this.message+=":\n\n".concat(a,"\n"))}delete this.source}}}]),n}(gt(Error)),an=function(e){ft(n,e);var t=bt(n);function n(e,r){return st(this,n),t.call(this,"YAMLReferenceError",e,r)}return n}(on),sn=function(e){ft(n,e);var t=bt(n);function n(e,r){return st(this,n),t.call(this,"YAMLSemanticError",e,r)}return n}(on),ln=function(e){ft(n,e);var t=bt(n);function n(e,r){return st(this,n),t.call(this,"YAMLSyntaxError",e,r)}return n}(on),un=function(e){ft(n,e);var t=bt(n);function n(e,r){return st(this,n),t.call(this,"YAMLWarning",e,r)}return n}(on),cn=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.apply(this,arguments)}return ut(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;for(var e=this.valueRange,t=e.start,n=e.end,r=this.context.src,i=r[n-1];t<n&&("\n"===i||"\t"===i||" "===i);)i=r[--n-1];for(var o="",a=t;a<n;++a){var s=r[a];if("\n"===s){var l=rn.foldNewline(r,a,-1);o+=l.fold,a=l.offset}else if(" "===s||"\t"===s){for(var u=a,c=r[a+1];a<n&&(" "===c||"\t"===c);)c=r[(a+=1)+1];"\n"!==c&&(o+=a>u?r.slice(u,a+1):s)}else o+=s}var f=r[t];switch(f){case"\t":return{errors:[new sn(this,"Plain value cannot start with a tab character")],str:o};case"@":case"`":var h="Plain value cannot start with reserved character ".concat(f);return{errors:[new sn(this,h)],str:o};default:return o}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,r=t.indent,i=t.inFlow,o=t.src,a=e,s=e,l=o[a];"\n"===l&&!rn.atDocumentBoundary(o,a+1);l=o[a]){var u=rn.endOfBlockIndent(o,r,a+1);if(null===u||"#"===o[u])break;a="\n"===o[u]?u:s=n.endOfLine(o,u,i)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=s,s}},{key:"parse",value:function(e,t){this.context=e;var r=e.inFlow,i=e.src,o=t,a=i[o];return a&&"#"!==a&&"\n"!==a&&(o=n.endOfLine(i,t,r)),this.valueRange=new nn(t,o),o=rn.endOfWhiteSpace(i,o),o=this.parseComment(o),this.hasComment&&!this.valueRange.isEmpty()||(o=this.parseBlockValue(o)),o}}],[{key:"endOfLine",value:function(e,t,n){for(var r=e[t],i=t;r&&"\n"!==r&&(!n||"["!==r&&"]"!==r&&"{"!==r&&"}"!==r&&","!==r);){var o=e[i+1];if(":"===r&&(!o||"\n"===o||"\t"===o||" "===o||n&&","===o))break;if((" "===r||"\t"===r)&&"#"===o)break;i+=1,r=o}return i}}]),n}(rn),fn=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.call(this,Pt)}return ut(n,[{key:"includesTrailingLines",get:function(){return!0}},{key:"parse",value:function(e,t){return this.context=e,this.range=new nn(t,t+1),t+1}}]),n}(rn),hn=function(e){ft(n,e);var t=bt(n);function n(e,r){var i;return st(this,n),(i=t.call(this,e,r)).node=null,i}return ut(n,[{key:"includesTrailingLines",get:function(){return!!this.node&&this.node.includesTrailingLines}},{key:"parse",value:function(e,t){this.context=e;var n=e.parseNode,r=e.src,i=e.atLineStart,o=e.lineStart;i||this.type!==Kt||(this.error=new sn(this,"Sequence items must not have preceding content on the same line"));for(var a=i?t-o:e.indent,s=rn.endOfWhiteSpace(r,t+1),l=r[s],u="#"===l,c=[],f=null;"\n"===l||"#"===l;){if("#"===l){var h=rn.endOfLine(r,s+1);c.push(new nn(s,h)),s=h}else{i=!0,o=s+1,"\n"===r[rn.endOfWhiteSpace(r,o)]&&0===c.length&&(o=(f=new fn).parse({src:r},o)),s=rn.endOfIndent(r,o)}l=r[s]}if(rn.nextNodeIsIndented(l,s-(o+a),this.type!==Kt)?this.node=n({atLineStart:i,inCollection:!1,indent:a,lineStart:o,parent:this},s):l&&o>t+1&&(s=o-1),this.node){if(f){var d=e.parent.items||e.parent.contents;d&&d.push(f)}c.length&&Array.prototype.push.apply(this.props,c),s=this.node.range.end}else if(u){var p=c[0];this.props.push(p),s=p.end}else s=rn.endOfLine(r,t+1);var v=this.node?this.node.valueRange.end:s;return this.valueRange=new nn(t,v),s}},{key:"setOrigRanges",value:function(e,t){return t=wt(ht(n.prototype),"setOrigRanges",this).call(this,e,t),this.node?this.node.setOrigRanges(e,t):t}},{key:"toString",value:function(){var e=this.context.src,t=this.node,n=this.range,r=this.value;if(null!=r)return r;var i=t?e.slice(n.start,t.range.start)+String(t):e.slice(n.start,n.end);return rn.addStringTerminator(e,n.end,i)}}]),n}(rn),dn=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.call(this,Rt)}return ut(n,[{key:"parse",value:function(e,t){this.context=e;var n=this.parseComment(t);return this.range=new nn(t,n),n}}]),n}(rn);function pn(e){for(var t=e;t instanceof hn;)t=t.node;if(!(t instanceof vn))return null;for(var n=t.items.length,r=-1,i=n-1;i>=0;--i){var o=t.items[i];if(o.type===Rt){var a=o.context,s=a.indent,l=a.lineStart;if(s>0&&o.range.start>=l+s)break;r=i}else{if(o.type!==Pt)break;r=i}}if(-1===r)return null;for(var u=t.items.splice(r,n-r),c=u[0].range.start;t.range.end=c,t.valueRange&&t.valueRange.end>c&&(t.valueRange.end=c),t!==e;)t=t.context.parent;return u}var vn=function(e){ft(n,e);var t=bt(n);function n(e){var r;st(this,n),r=t.call(this,e.type===Kt?Yt:Bt);for(var i=e.props.length-1;i>=0;--i)if(e.props[i].start<e.context.lineStart){r.props=e.props.slice(0,i+1),e.props=e.props.slice(i+1);var o=e.props[0]||e.valueRange;e.range.start=o.start;break}r.items=[e];var a=pn(e);return a&&Array.prototype.push.apply(r.items,a),r}return ut(n,[{key:"includesTrailingLines",get:function(){return this.items.length>0}},{key:"parse",value:function(e,t){this.context=e;var r=e.parseNode,i=e.src,o=rn.startOfLine(i,t),a=this.items[0];a.context.parent=this,this.valueRange=nn.copy(a.valueRange);for(var s=a.range.start-a.context.lineStart,l=t,u=i[l=rn.normalizeOffset(i,l)],c=rn.endOfWhiteSpace(i,o)===l,f=!1;u;){for(;"\n"===u||"#"===u;){if(c&&"\n"===u&&!f){var h=new fn;if(l=h.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(h),l-=1}else if("#"===u){if(l<o+s&&!n.nextContentHasIndent(i,l,s))return l;var d=new dn;if(l=d.parse({indent:s,lineStart:o,src:i},l),this.items.push(d),this.valueRange.end=l,l>=i.length){u=null;break}}if(o=l+1,l=rn.endOfIndent(i,o),rn.atBlank(i,l)){var p=rn.endOfWhiteSpace(i,l),v=i[p];v&&"\n"!==v&&"#"!==v||(l=p)}u=i[l],c=!0}if(!u)break;if(l!==o+s&&(c||":"!==u)){if(l<o+s){o>t&&(l=o);break}if(!this.error){this.error=new ln(this,"All collection items must start at the same column")}}if(a.type===Kt){if("-"!==u){o>t&&(l=o);break}}else if("-"===u&&!this.error){var g=i[l+1];if(!g||"\n"===g||"\t"===g||" "===g){this.error=new ln(this,"A collection cannot be both a mapping and a sequence")}}var m=r({atLineStart:c,inCollection:!0,indent:s,lineStart:o,parent:this},l);if(!m)return l;if(this.items.push(m),this.valueRange.end=m.valueRange.end,u=i[l=rn.normalizeOffset(i,m.range.end)],c=!1,f=m.includesTrailingLines,u){for(var y=l-1,b=i[y];" "===b||"\t"===b;)b=i[--y];"\n"===b&&(o=y+1,c=!0)}var w=pn(m);w&&Array.prototype.push.apply(this.items,w)}return l}},{key:"setOrigRanges",value:function(e,t){return t=wt(ht(n.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(n){t=n.setOrigRanges(e,t)})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,n=this.range,r=this.value;if(null!=r)return r;for(var i=e.slice(n.start,t[0].range.start)+String(t[0]),o=1;o<t.length;++o){var a=t[o],s=a.context,l=s.atLineStart,u=s.indent;if(l)for(var c=0;c<u;++c)i+=" ";i+=String(a)}return rn.addStringTerminator(e,n.end,i)}}],[{key:"nextContentHasIndent",value:function(e,t,r){var i=rn.endOfLine(e,t)+1,o=e[t=rn.endOfWhiteSpace(e,i)];return!!o&&(t>=i+r||("#"===o||"\n"===o)&&n.nextContentHasIndent(e,t,r))}}]),n}(rn),gn=function(e){ft(n,e);var t=bt(n);function n(){var e;return st(this,n),(e=t.call(this,Wt)).name=null,e}return ut(n,[{key:"parameters",get:function(){var e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}},{key:"parseName",value:function(e){for(var t=this.context.src,n=e,r=t[n];r&&"\n"!==r&&"\t"!==r&&" "!==r;)r=t[n+=1];return this.name=t.slice(e,n),n}},{key:"parseParameters",value:function(e){for(var t=this.context.src,n=e,r=t[n];r&&"\n"!==r&&"#"!==r;)r=t[n+=1];return this.valueRange=new nn(e,n),n}},{key:"parse",value:function(e,t){this.context=e;var n=this.parseName(t+1);return n=this.parseParameters(n),n=this.parseComment(n),this.range=new nn(t,n),n}}]),n}(rn),mn=function(e){ft(n,e);var t=bt(n);function n(){var e;return st(this,n),(e=t.call(this,Dt)).directives=null,e.contents=null,e.directivesEndMarker=null,e.documentEndMarker=null,e}return ut(n,[{key:"parseDirectives",value:function(e){var t=this.context.src;this.directives=[];for(var r=!0,i=!1,o=e;!rn.atDocumentBoundary(t,o,Nt);)switch(t[o=n.startCommentOrEndBlankLine(t,o)]){case"\n":if(r){var a=new fn;(o=a.parse({src:t},o))<t.length&&this.directives.push(a)}else o+=1,r=!0;break;case"#":var s=new dn;o=s.parse({src:t},o),this.directives.push(s),r=!1;break;case"%":var l=new gn;o=l.parse({parent:this,src:t},o),this.directives.push(l),i=!0,r=!1;break;default:return i?this.error=new sn(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),o}return t[o]?(this.directivesEndMarker=new nn(o,o+3),o+3):(i?this.error=new sn(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),o)}},{key:"parseContents",value:function(e){var t=this.context,r=t.parseNode,i=t.src;this.contents||(this.contents=[]);for(var o=e;"-"===i[o-1];)o-=1;var a=rn.endOfWhiteSpace(i,e),s=o===e;for(this.valueRange=new nn(a);!rn.atDocumentBoundary(i,a,Et);){switch(i[a]){case"\n":if(s){var l=new fn;(a=l.parse({src:i},a))<i.length&&this.contents.push(l)}else a+=1,s=!0;o=a;break;case"#":var u=new dn;a=u.parse({src:i},a),this.contents.push(u),s=!1;break;default:var c=rn.endOfIndent(i,a),f=r({atLineStart:s,indent:-1,inFlow:!1,inCollection:!1,lineStart:o,parent:this},c);if(!f)return this.valueRange.end=c;this.contents.push(f),a=f.range.end,s=!1;var h=pn(f);h&&Array.prototype.push.apply(this.contents,h)}a=n.startCommentOrEndBlankLine(i,a)}if(this.valueRange.end=a,i[a]&&(this.documentEndMarker=new nn(a,a+3),i[a+=3])){if("#"===i[a=rn.endOfWhiteSpace(i,a)]){var d=new dn;a=d.parse({src:i},a),this.contents.push(d)}switch(i[a]){case"\n":a+=1;break;case void 0:break;default:this.error=new ln(this,"Document end marker line cannot have a non-comment suffix")}}return a}},{key:"parse",value:function(e,t){e.root=this,this.context=e;var n=65279===e.src.charCodeAt(t)?t+1:t;return n=this.parseDirectives(n),n=this.parseContents(n)}},{key:"setOrigRanges",value:function(e,t){return t=wt(ht(n.prototype),"setOrigRanges",this).call(this,e,t),this.directives.forEach((function(n){t=n.setOrigRanges(e,t)})),this.directivesEndMarker&&(t=this.directivesEndMarker.setOrigRange(e,t)),this.contents.forEach((function(n){t=n.setOrigRanges(e,t)})),this.documentEndMarker&&(t=this.documentEndMarker.setOrigRange(e,t)),t}},{key:"toString",value:function(){var e=this.contents,t=this.directives,n=this.value;if(null!=n)return n;var r=t.join("");return e.length>0&&((t.length>0||e[0].type===Rt)&&(r+="---\n"),r+=e.join("")),"\n"!==r[r.length-1]&&(r+="\n"),r}}],[{key:"startCommentOrEndBlankLine",value:function(e,t){var n=rn.endOfWhiteSpace(e,t),r=e[n];return"#"===r||"\n"===r?n:t}}]),n}(rn),yn=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.apply(this,arguments)}return ut(n,[{key:"parse",value:function(e,t){this.context=e;var n=e.src,r=rn.endOfIdentifier(n,t+1);return this.valueRange=new nn(t+1,r),r=rn.endOfWhiteSpace(n,r),r=this.parseComment(r)}}]),n}(rn),bn="CLIP",wn="KEEP",xn="STRIP",kn=function(e){ft(n,e);var t=bt(n);function n(e,r){var i;return st(this,n),(i=t.call(this,e,r)).blockIndent=null,i.chomping=bn,i.header=null,i}return ut(n,[{key:"includesTrailingLines",get:function(){return this.chomping===wn}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,n=e.end,r=this.context,i=r.indent,o=r.src;if(this.valueRange.isEmpty())return"";for(var a=null,s=o[n-1];"\n"===s||"\t"===s||" "===s;){if((n-=1)<=t){if(this.chomping===wn)break;return""}"\n"===s&&(a=n),s=o[n-1]}var l=n+1;a&&(this.chomping===wn?(l=a,n=this.valueRange.end):n=a);for(var u=i+this.blockIndent,c=this.type===_t,f=!0,h="",d="",p=!1,v=t;v<n;++v){for(var g=0;g<u&&" "===o[v];++g)v+=1;var m=o[v];if("\n"===m)"\n"===d?h+="\n":d="\n";else{var y=rn.endOfLine(o,v),b=o.slice(v,y);v=y,c&&(" "===m||"\t"===m)&&v<l?(" "===d?d="\n":p||f||"\n"!==d||(d="\n\n"),h+=d+b,d=y<n&&o[y]||"",p=!0):(h+=d+b,d=c&&v<l?" ":"\n",p=!1),f&&""!==b&&(f=!1)}}return this.chomping===xn?h:h+"\n"}},{key:"parseBlockHeader",value:function(e){for(var t=this.context.src,n=e+1,r="";;){var i=t[n];switch(i){case"-":this.chomping=xn;break;case"+":this.chomping=wn;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r+=i;break;default:return this.blockIndent=Number(r)||null,this.header=new nn(e,n),n}n+=1}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,n=t.indent,r=t.src,i=!!this.blockIndent,o=e,a=e,s=1,l=r[o];"\n"===l&&(o+=1,!rn.atDocumentBoundary(r,o));l=r[o]){var u=rn.endOfBlockIndent(r,n,o);if(null===u)break;var c=r[u],f=u-(o+n);if(this.blockIndent){if(c&&"\n"!==c&&f<this.blockIndent){if("#"===r[u])break;if(!this.error){var h="Block scalars must not be less indented than their ".concat(i?"explicit indentation indicator":"first line");this.error=new sn(this,h)}}}else if("\n"!==r[u]){if(f<s){this.error=new sn(this,"Block scalars with more-indented leading empty lines must use an explicit indentation indicator")}this.blockIndent=f}else f>s&&(s=f);o="\n"===r[u]?u:a=rn.endOfLine(r,u)}return this.chomping!==wn&&(o=r[a]?a+1:a),this.valueRange=new nn(e+1,o),o}},{key:"parse",value:function(e,t){this.context=e;var n=e.src,r=this.parseBlockHeader(t);return r=rn.endOfWhiteSpace(n,r),r=this.parseComment(r),r=this.parseBlockValue(r)}},{key:"setOrigRanges",value:function(e,t){return t=wt(ht(n.prototype),"setOrigRanges",this).call(this,e,t),this.header?this.header.setOrigRange(e,t):t}}]),n}(rn),Sn=function(e){ft(n,e);var t=bt(n);function n(e,r){var i;return st(this,n),(i=t.call(this,e,r)).items=null,i}return ut(n,[{key:"prevNodeIsJsonLike",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.items[e-1];return!!t&&(t.jsonLike||t.type===Rt&&this.prevNodeIsJsonLike(e-1))}},{key:"parse",value:function(e,t){this.context=e;var n=e.parseNode,r=e.src,i=e.indent,o=e.lineStart,a=r[t];this.items=[{char:a,offset:t}];var s=rn.endOfWhiteSpace(r,t+1);for(a=r[s];a&&"]"!==a&&"}"!==a;){switch(a){case"\n":if(o=s+1,"\n"===r[rn.endOfWhiteSpace(r,o)]){var l=new fn;o=l.parse({src:r},o),this.items.push(l)}if((s=rn.endOfIndent(r,o))<=o+i&&(a=r[s],s<o+i||"]"!==a&&"}"!==a)){this.error=new sn(this,"Insufficient indentation in flow collection")}break;case",":this.items.push({char:a,offset:s}),s+=1;break;case"#":var u=new dn;s=u.parse({src:r},s),this.items.push(u);break;case"?":case":":var c=r[s+1];if("\n"===c||"\t"===c||" "===c||","===c||":"===a&&this.prevNodeIsJsonLike()){this.items.push({char:a,offset:s}),s+=1;break}default:var f=n({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},s);if(!f)return this.valueRange=new nn(t,s),s;this.items.push(f),s=rn.normalizeOffset(r,f.range.end)}a=r[s=rn.endOfWhiteSpace(r,s)]}return this.valueRange=new nn(t,s+1),a&&(this.items.push({char:a,offset:s}),s=rn.endOfWhiteSpace(r,s+1),s=this.parseComment(s)),s}},{key:"setOrigRanges",value:function(e,t){return t=wt(ht(n.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(n){if(n instanceof rn)t=n.setOrigRanges(e,t);else if(0===e.length)n.origOffset=n.offset;else{for(var r=t;r<e.length&&!(e[r]>n.offset);)++r;n.origOffset=n.offset+r,t=r}})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,n=this.range,r=this.value;if(null!=r)return r;var i=t.filter((function(e){return e instanceof rn})),o="",a=n.start;return i.forEach((function(t){var n=e.slice(a,t.range.start);a=t.range.end,"\n"===(o+=n+String(t))[o.length-1]&&"\n"!==e[a-1]&&"\n"===e[a]&&(a+=1)})),o+=e.slice(a,n.end),rn.addStringTerminator(e,n.end,o)}}]),n}(rn),Cn=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.apply(this,arguments)}return ut(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,n=t.start,r=t.end,i=this.context,o=i.indent,a=i.src;'"'!==a[r-1]&&e.push(new ln(this,'Missing closing "quote'));for(var s="",l=n+1;l<r-1;++l){var u=a[l];if("\n"===u){rn.atDocumentBoundary(a,l+1)&&e.push(new sn(this,"Document boundary indicators are not allowed within string values"));var c=rn.foldNewline(a,l,o);s+=c.fold,l=c.offset,c.error&&e.push(new sn(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if("\\"===u)switch(a[l+=1]){case"0":s+="\0";break;case"a":s+="";break;case"b":s+="\b";break;case"e":s+="";break;case"f":s+="\f";break;case"n":s+="\n";break;case"r":s+="\r";break;case"t":s+="\t";break;case"v":s+="\v";break;case"N":s+="Â…";break;case"_":s+="Â ";break;case"L":s+="\u2028";break;case"P":s+="\u2029";break;case" ":s+=" ";break;case'"':s+='"';break;case"/":s+="/";break;case"\\":s+="\\";break;case"\t":s+="\t";break;case"x":s+=this.parseCharCode(l+1,2,e),l+=2;break;case"u":s+=this.parseCharCode(l+1,4,e),l+=4;break;case"U":s+=this.parseCharCode(l+1,8,e),l+=8;break;case"\n":for(;" "===a[l+1]||"\t"===a[l+1];)l+=1;break;default:e.push(new ln(this,"Invalid escape sequence ".concat(a.substr(l-1,2)))),s+="\\"+a[l]}else if(" "===u||"\t"===u){for(var f=l,h=a[l+1];" "===h||"\t"===h;)h=a[(l+=1)+1];"\n"!==h&&(s+=l>f?a.slice(f,l+1):u)}else s+=u}return e.length>0?{errors:e,str:s}:s}},{key:"parseCharCode",value:function(e,t,n){var r=this.context.src,i=r.substr(e,t),o=i.length===t&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;return isNaN(o)?(n.push(new ln(this,"Invalid escape sequence ".concat(r.substr(e-2,t+2)))),r.substr(e-2,t+2)):String.fromCodePoint(o)}},{key:"parse",value:function(e,t){this.context=e;var r=e.src,i=n.endOfQuote(r,t+1);return this.valueRange=new nn(t,i),i=rn.endOfWhiteSpace(r,i),i=this.parseComment(i)}}],[{key:"endOfQuote",value:function(e,t){for(var n=e[t];n&&'"'!==n;)n=e[t+="\\"===n?2:1];return t+1}}]),n}(rn),On=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.apply(this,arguments)}return ut(n,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,n=t.start,r=t.end,i=this.context,o=i.indent,a=i.src;"'"!==a[r-1]&&e.push(new ln(this,"Missing closing 'quote"));for(var s="",l=n+1;l<r-1;++l){var u=a[l];if("\n"===u){rn.atDocumentBoundary(a,l+1)&&e.push(new sn(this,"Document boundary indicators are not allowed within string values"));var c=rn.foldNewline(a,l,o);s+=c.fold,l=c.offset,c.error&&e.push(new sn(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if("'"===u)s+=u,"'"!==a[l+=1]&&e.push(new ln(this,"Unescaped single quote? This should not happen."));else if(" "===u||"\t"===u){for(var f=l,h=a[l+1];" "===h||"\t"===h;)h=a[(l+=1)+1];"\n"!==h&&(s+=l>f?a.slice(f,l+1):u)}else s+=u}return e.length>0?{errors:e,str:s}:s}},{key:"parse",value:function(e,t){this.context=e;var r=e.src,i=n.endOfQuote(r,t+1);return this.valueRange=new nn(t,i),i=rn.endOfWhiteSpace(r,i),i=this.parseComment(i)}}],[{key:"endOfQuote",value:function(e,t){for(var n=e[t];n;)if("'"===n){if("'"!==e[t+1])break;n=e[t+=2]}else n=e[t+=1];return t+1}}]),n}(rn);function Tn(e,t){switch(e){case jt:return new yn(e,t);case _t:case It:return new kn(e,t);case zt:case Ft:return new Sn(e,t);case Ht:case Vt:case Kt:return new hn(e,t);case Rt:case Ut:return new cn(e,t);case qt:return new Cn(e,t);case Gt:return new On(e,t);default:return null}}var Ln=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.atLineStart,o=r.inCollection,a=r.inFlow,s=r.indent,l=r.lineStart,u=r.parent;st(this,e),ct(this,"parseNode",(function(n,r){if(rn.atDocumentBoundary(t.src,r))return null;var i=new e(t,n),o=i.parseProps(r),a=o.props,s=o.type,l=o.valueStart,u=Tn(s,a),c=u.parse(i,l);if(u.range=new nn(r,c),c<=r&&(u.error=new Error("Node#parse consumed no characters"),u.error.parseEnd=c,u.error.source=u,u.range.end=r+1),i.nodeStartsCollection(u)){u.error||i.atLineStart||i.parent.type!==Dt||(u.error=new ln(u,"Block collection must not have preceding content here (e.g. directives-end indicator)"));var f=new vn(u);return c=f.parse(new e(i),c),f.range=new nn(r,c),f}return u})),this.atLineStart=null!=i?i:n.atLineStart||!1,this.inCollection=null!=o?o:n.inCollection||!1,this.inFlow=null!=a?a:n.inFlow||!1,this.indent=null!=s?s:n.indent,this.lineStart=null!=l?l:n.lineStart,this.parent=null!=u?u:n.parent||{},this.root=n.root,this.src=n.src}return ut(e,[{key:"nodeStartsCollection",value:function(e){var t=this.inCollection,n=this.inFlow,r=this.src;if(t||n)return!1;if(e instanceof hn)return!0;var i=e.range.end;return"\n"!==r[i]&&"\n"!==r[i-1]&&":"===r[i=rn.endOfWhiteSpace(r,i)]}},{key:"parseProps",value:function(t){for(var n=this.inFlow,r=this.parent,i=this.src,o=[],a=!1,s=i[t=this.atLineStart?rn.endOfIndent(i,t):rn.endOfWhiteSpace(i,t)];s===$t||s===Mt||s===At||"\n"===s;){if("\n"===s){var l=t,u=void 0;do{u=l+1,l=rn.endOfIndent(i,u)}while("\n"===i[l]);var c=l-(u+this.indent),f=r.type===Kt&&r.context.atLineStart;if("#"!==i[l]&&!rn.nextNodeIsIndented(i[l],c,!f))break;this.atLineStart=!0,this.lineStart=u,a=!1,t=l}else if(s===Mt){var h=rn.endOfLine(i,t+1);o.push(new nn(t,h)),t=h}else{var d=rn.endOfIdentifier(i,t+1);s===At&&","===i[d]&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(t+1,d+13))&&(d=rn.endOfIdentifier(i,d+5)),o.push(new nn(t,d)),a=!0,t=rn.endOfWhiteSpace(i,d)}s=i[t]}return a&&":"===s&&rn.atBlank(i,t+1,!0)&&(t-=1),{props:o,type:e.parseType(i,t,n),valueStart:t}}}],[{key:"parseType",value:function(e,t,n){switch(e[t]){case"*":return jt;case">":return _t;case"|":return It;case"{":return zt;case"[":return Ft;case"?":return!n&&rn.atBlank(e,t+1,!0)?Ht:Ut;case":":return!n&&rn.atBlank(e,t+1,!0)?Vt:Ut;case"-":return!n&&rn.atBlank(e,t+1,!0)?Kt:Ut;case'"':return qt;case"'":return Gt;default:return Ut}}}]),e}();function $n(e){var t=[];-1!==e.indexOf("\r")&&(e=e.replace(/\r\n?/g,(function(e,n){return e.length>1&&t.push(n),"\n"})));var n=[],r=0;do{var i=new mn,o=new Ln({src:e});r=i.parse(o,r),n.push(i)}while(r<e.length);return n.setOrigRanges=function(){if(0===t.length)return!1;for(var e=1;e<t.length;++e)t[e]-=e;for(var r=0,i=0;i<n.length;++i)r=n[i].setOrigRanges(t,r);return t.splice(0,t.length),!0},n.toString=function(){return n.join("...\n")},n}function Mn(e,t,n){return n?-1===n.indexOf("\n")?"".concat(e," #").concat(n):"".concat(e,"\n")+n.replace(/^/gm,"".concat(t||"","#")):e}var An=function e(){st(this,e)};function Nn(e,t,n){if(Array.isArray(e))return e.map((function(e,t){return Nn(e,String(t),n)}));if(e&&"function"==typeof e.toJSON){var r=n&&n.anchors&&n.anchors.get(e);r&&(n.onCreate=function(e){r.res=e,delete n.onCreate});var i=e.toJSON(t,n);return r&&n.onCreate&&n.onCreate(i),i}return n&&n.keep||"bigint"!=typeof e?e:Number(e)}var En=function(e){ft(n,e);var t=bt(n);function n(e){var r;return st(this,n),(r=t.call(this)).value=e,r}return ut(n,[{key:"toJSON",value:function(e,t){return t&&t.keep?this.value:Nn(this.value,e,t)}},{key:"toString",value:function(){return String(this.value)}}]),n}(An);function jn(e,t,n){for(var r=n,i=t.length-1;i>=0;--i){var o=t[i];if(Number.isInteger(o)&&o>=0){var a=[];a[o]=r,r=a}else{var s={};Object.defineProperty(s,o,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=s}}return e.createNode(r,!1)}var Pn=function(e){return null==e||"object"===at(e)&&e[Symbol.iterator]().next().done},_n=function(e){ft(n,e);var t=bt(n);function n(e){var r;return st(this,n),ct(mt(r=t.call(this)),"items",[]),r.schema=e,r}return ut(n,[{key:"addIn",value:function(e,t){if(Pn(e))this.add(t);else{var r=kt(e),i=r[0],o=r.slice(1),a=this.get(i,!0);if(a instanceof n)a.addIn(o,t);else{if(void 0!==a||!this.schema)throw new Error("Expected YAML collection at ".concat(i,". Remaining path: ").concat(o));this.set(i,jn(this.schema,o,t))}}}},{key:"deleteIn",value:function(e){var t=kt(e),r=t[0],i=t.slice(1);if(0===i.length)return this.delete(r);var o=this.get(r,!0);if(o instanceof n)return o.deleteIn(i);throw new Error("Expected YAML collection at ".concat(r,". Remaining path: ").concat(i))}},{key:"getIn",value:function(e,t){var r=kt(e),i=r[0],o=r.slice(1),a=this.get(i,!0);return 0===o.length?!t&&a instanceof En?a.value:a:a instanceof n?a.getIn(o,t):void 0}},{key:"hasAllNullValues",value:function(){return this.items.every((function(e){if(!e||"PAIR"!==e.type)return!1;var t=e.value;return null==t||t instanceof En&&null==t.value&&!t.commentBefore&&!t.comment&&!t.tag}))}},{key:"hasIn",value:function(e){var t=kt(e),r=t[0],i=t.slice(1);if(0===i.length)return this.has(r);var o=this.get(r,!0);return o instanceof n&&o.hasIn(i)}},{key:"setIn",value:function(e,t){var r=kt(e),i=r[0],o=r.slice(1);if(0===o.length)this.set(i,t);else{var a=this.get(i,!0);if(a instanceof n)a.setIn(o,t);else{if(void 0!==a||!this.schema)throw new Error("Expected YAML collection at ".concat(i,". Remaining path: ").concat(o));this.set(i,jn(this.schema,o,t))}}}},{key:"toJSON",value:function(){return null}},{key:"toString",value:function(e,t,r,i){var o=this,a=t.blockItem,s=t.flowChars,l=t.isMap,u=t.itemIndent,c=e,f=c.indent,h=c.indentStep,d=c.stringify,p=this.type===zt||this.type===Ft||e.inFlow;p&&(u+=h);var v=l&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:v,indent:u,inFlow:p,type:null});var g,m=!1,y=!1,b=this.items.reduce((function(t,n,r){var i;n&&(!m&&n.spaceBefore&&t.push({type:"comment",str:""}),n.commentBefore&&n.commentBefore.match(/^.*$/gm).forEach((function(e){t.push({type:"comment",str:"#".concat(e)})})),n.comment&&(i=n.comment),p&&(!m&&n.spaceBefore||n.commentBefore||n.comment||n.key&&(n.key.commentBefore||n.key.comment)||n.value&&(n.value.commentBefore||n.value.comment))&&(y=!0)),m=!1;var a=d(n,e,(function(){return i=null}),(function(){return m=!0}));return p&&!y&&a.includes("\n")&&(y=!0),p&&r<o.items.length-1&&(a+=","),a=Mn(a,u,i),m&&(i||p)&&(m=!1),t.push({type:"item",str:a}),t}),[]);if(0===b.length)g=s.start+s.end;else if(p){var w=s.start,x=s.end,k=b.map((function(e){return e.str}));if(y||k.reduce((function(e,t){return e+t.length+2}),2)>n.maxFlowStringSingleLineLength){g=w;var S,C=Lt(k);try{for(C.s();!(S=C.n()).done;){var O=S.value;g+=O?"\n".concat(h).concat(f).concat(O):"\n"}}catch(e){C.e(e)}finally{C.f()}g+="\n".concat(f).concat(x)}else g="".concat(w," ").concat(k.join(" ")," ").concat(x)}else{var T=b.map(a);g=T.shift();var L,$=Lt(T);try{for($.s();!(L=$.n()).done;){var M=L.value;g+=M?"\n".concat(f).concat(M):"\n"}}catch(e){$.e(e)}finally{$.f()}}return this.comment?(g+="\n"+this.comment.replace(/^/gm,"".concat(f,"#")),r&&r()):m&&i&&i(),g}}]),n}(An);function In(e){var t=e instanceof En?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),Number.isInteger(t)&&t>=0?t:null}ct(_n,"maxFlowStringSingleLineLength",60);var Rn=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.apply(this,arguments)}return ut(n,[{key:"add",value:function(e){this.items.push(e)}},{key:"delete",value:function(e){var t=In(e);return"number"==typeof t&&this.items.splice(t,1).length>0}},{key:"get",value:function(e,t){var n=In(e);if("number"==typeof n){var r=this.items[n];return!t&&r instanceof En?r.value:r}}},{key:"has",value:function(e){var t=In(e);return"number"==typeof t&&t<this.items.length}},{key:"set",value:function(e,t){var n=In(e);if("number"!=typeof n)throw new Error("Expected a valid index, not ".concat(e,"."));this.items[n]=t}},{key:"toJSON",value:function(e,t){var n=[];t&&t.onCreate&&t.onCreate(n);var r,i=0,o=Lt(this.items);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.push(Nn(a,String(i++),t))}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"toString",value:function(e,t,r){return e?wt(ht(n.prototype),"toString",this).call(this,e,{blockItem:function(e){return"comment"===e.type?e.str:"- ".concat(e.str)},flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},t,r):JSON.stringify(this)}}]),n}(_n),Wn=function(e){ft(n,e);var t=bt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return st(this,n),(r=t.call(this)).key=e,r.value=i,r.type=n.Type.PAIR,r}return ut(n,[{key:"commentBefore",get:function(){return this.key instanceof An?this.key.commentBefore:void 0},set:function(e){if(null==this.key&&(this.key=new En(null)),!(this.key instanceof An)){throw new Error("Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.")}this.key.commentBefore=e}},{key:"addToJSMap",value:function(e,t){var n=Nn(this.key,"",e);if(t instanceof Map){var r=Nn(this.value,n,e);t.set(n,r)}else if(t instanceof Set)t.add(n);else{var i=function(e,t,n){return null===t?"":"object"!==at(t)?String(t):e instanceof An&&n&&n.doc?e.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(t)}(this.key,n,e),o=Nn(this.value,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}return t}},{key:"toJSON",value:function(e,t){var n=t&&t.mapAsMap?new Map:{};return this.addToJSMap(t,n)}},{key:"toString",value:function(e,t,n){if(!e||!e.doc)return JSON.stringify(this);var r=e.doc.options,i=r.indent,o=r.indentSeq,a=r.simpleKeys,s=this.key,l=this.value,u=s instanceof An&&s.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(s instanceof _n){throw new Error("With simple keys, collection cannot be used as a key value")}}var c=!a&&(!s||u||(s instanceof An?s instanceof _n||s.type===_t||s.type===It:"object"===at(s))),f=e,h=f.doc,d=f.indent,p=f.indentStep,v=f.stringify;e=Object.assign({},e,{implicitKey:!c,indent:d+p});var g=!1,m=v(s,e,(function(){return u=null}),(function(){return g=!0}));if(m=Mn(m,e.indent,u),!c&&m.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(m=Mn(m,e.indent,this.comment),t&&t()):g&&!u&&n&&n(),e.inFlow&&!c?m:"? ".concat(m);m=c?"? ".concat(m,"\n").concat(d,":"):"".concat(m,":"),this.comment&&(m=Mn(m,e.indent,this.comment),t&&t());var y="",b=null;if(l instanceof An){if(l.spaceBefore&&(y="\n"),l.commentBefore){var w=l.commentBefore.replace(/^/gm,"".concat(e.indent,"#"));y+="\n".concat(w)}b=l.comment}else l&&"object"===at(l)&&(l=h.schema.createNode(l,!0));e.implicitKey=!1,!c&&!this.comment&&l instanceof En&&(e.indentAtStart=m.length+1),g=!1,!o&&i>=2&&!e.inFlow&&!c&&l instanceof Rn&&l.type!==Ft&&!l.tag&&!h.anchors.getName(l)&&(e.indent=e.indent.substr(2));var x=v(l,e,(function(){return b=null}),(function(){return g=!0})),k=" ";if(y||this.comment)k="".concat(y,"\n").concat(e.indent);else if(!c&&l instanceof _n){("["===x[0]||"{"===x[0])&&!x.includes("\n")||(k="\n".concat(e.indent))}else"\n"===x[0]&&(k="");return g&&!b&&n&&n(),Mn(m+k+x,e.indent,b)}}]),n}(An);ct(Wn,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Dn=function e(t,n){if(t instanceof zn){var r=n.get(t.source);return r.count*r.aliasCount}if(t instanceof _n){var i,o=0,a=Lt(t.items);try{for(a.s();!(i=a.n()).done;){var s=e(i.value,n);s>o&&(o=s)}}catch(e){a.e(e)}finally{a.f()}return o}if(t instanceof Wn){var l=e(t.key,n),u=e(t.value,n);return Math.max(l,u)}return 1},zn=function(e){ft(n,e);var t=bt(n);function n(e){var r;return st(this,n),(r=t.call(this)).source=e,r.type=jt,r}return ut(n,[{key:"tag",set:function(e){throw new Error("Alias nodes cannot have tags")}},{key:"toJSON",value:function(e,t){if(!t)return Nn(this.source,e,t);var n=t.anchors,r=t.maxAliasCount,i=n.get(this.source);if(!i||void 0===i.res){var o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new an(this.cstNode,o):new ReferenceError(o)}if(r>=0&&(i.count+=1,0===i.aliasCount&&(i.aliasCount=Dn(this.source,n)),i.count*i.aliasCount>r)){var a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new an(this.cstNode,a):new ReferenceError(a)}return i.res}},{key:"toString",value:function(e){return n.stringify(this,e)}}],[{key:"stringify",value:function(e,t){var n=e.range,r=e.source,i=t.anchors,o=t.doc,a=t.implicitKey,s=t.inStringifyKey,l=Object.keys(i).find((function(e){return i[e]===r}));if(!l&&s&&(l=o.anchors.getName(r)||o.anchors.newName()),l)return"*".concat(l).concat(a?" ":"");var u=o.anchors.getName(r)?"Alias node must be after source node":"Source node not found for alias node";throw new Error("".concat(u," [").concat(n,"]"))}}]),n}(An);function Fn(e,t){var n,r=t instanceof En?t.value:t,i=Lt(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof Wn){if(o.key===t||o.key===r)return o;if(o.key&&o.key.value===r)return o}}}catch(e){i.e(e)}finally{i.f()}}ct(zn,"default",!0);var Bn=function(e){ft(n,e);var t=bt(n);function n(){return st(this,n),t.apply(this,arguments)}return ut(n,[{key:"add",value:function(e,t){e?e instanceof Wn||(e=new Wn(e.key||e,e.value)):e=new Wn(e);var n=Fn(this.items,e.key),r=this.schema&&this.schema.sortMapEntries;if(n){if(!t)throw new Error("Key ".concat(e.key," already set"));n.value=e.value}else if(r){var i=this.items.findIndex((function(t){return r(e,t)<0}));-1===i?this.items.push(e):this.items.splice(i,0,e)}else this.items.push(e)}},{key:"delete",value:function(e){var t=Fn(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}},{key:"get",value:function(e,t){var n=Fn(this.items,e),r=n&&n.value;return!t&&r instanceof En?r.value:r}},{key:"has",value:function(e){return!!Fn(this.items,e)}},{key:"set",value:function(e,t){this.add(new Wn(e,t),!0)}},{key:"toJSON",value:function(e,t,n){var r=n?new n:t&&t.mapAsMap?new Map:{};t&&t.onCreate&&t.onCreate(r);var i,o=Lt(this.items);try{for(o.s();!(i=o.n()).done;){i.value.addToJSMap(t,r)}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"toString",value:function(e,t,r){if(!e)return JSON.stringify(this);var i,o=Lt(this.items);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!(a instanceof Wn))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(a)," instead"))}}catch(e){o.e(e)}finally{o.f()}return wt(ht(n.prototype),"toString",this).call(this,e,{blockItem:function(e){return e.str},flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},t,r)}}]),n}(_n),Hn=function(e){ft(n,e);var t=bt(n);function n(e){var r;if(st(this,n),e instanceof Wn){var i=e.value;i instanceof Rn||((i=new Rn).items.push(e.value),i.range=e.value.range),(r=t.call(this,e.key,i)).range=e.range}else r=t.call(this,new En("<<"),new Rn);return r.type=Wn.Type.MERGE_PAIR,yt(r)}return ut(n,[{key:"addToJSMap",value:function(e,t){var n,r=Lt(this.value.items);try{for(r.s();!(n=r.n()).done;){var i=n.value.source;if(!(i instanceof Bn))throw new Error("Merge sources must be maps");var o,a=Lt(i.toJSON(null,e,Map));try{for(a.s();!(o=a.n()).done;){var s=xt(o.value,2),l=s[0],u=s[1];t instanceof Map?t.has(l)||t.set(l,u):t instanceof Set?t.add(l):Object.prototype.hasOwnProperty.call(t,l)||Object.defineProperty(t,l,{value:u,writable:!0,enumerable:!0,configurable:!0})}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"toString",value:function(e,t){var r=this.value;if(r.items.length>1)return wt(ht(n.prototype),"toString",this).call(this,e,t);this.value=r.items[0];var i=wt(ht(n.prototype),"toString",this).call(this,e,t);return this.value=r,i}}]),n}(Wn),Vn={defaultType:It,lineWidth:76},Un={trueStr:"true",falseStr:"false"},qn={asBigInt:!1},Gn={nullStr:"null"},Yn={defaultType:Ut,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Kn(e,t,n){var r,i=Lt(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.format,s=o.test,l=o.resolve;if(s){var u=e.match(s);if(u){var c=l.apply(null,u);return c instanceof En||(c=new En(c)),a&&(c.format=a),c}}}}catch(e){i.e(e)}finally{i.f()}return n&&(e=n(e)),new En(e)}var Jn="flow",Xn="block",Qn="quoted",Zn=function(e,t){for(var n=e[t+1];" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t};function er(e,t,n,r){var i=r.indentAtStart,o=r.lineWidth,a=void 0===o?80:o,s=r.minContentWidth,l=void 0===s?20:s,u=r.onFold,c=r.onOverflow;if(!a||a<0)return e;var f=Math.max(1+l,1+a-t.length);if(e.length<=f)return e;var h=[],d={},p=a-t.length;"number"==typeof i&&(i>a-Math.max(2,l)?h.push(0):p=a-i);var v,g=void 0,m=void 0,y=!1,b=-1,w=-1,x=-1;for(n===Xn&&-1!==(b=Zn(e,b))&&(p=b+f);v=e[b+=1];){if(n===Qn&&"\\"===v){switch(w=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}x=b}if("\n"===v)n===Xn&&(b=Zn(e,b)),p=b+f,g=void 0;else{if(" "===v&&m&&" "!==m&&"\n"!==m&&"\t"!==m){var k=e[b+1];k&&" "!==k&&"\n"!==k&&"\t"!==k&&(g=b)}if(b>=p)if(g)h.push(g),p=g+f,g=void 0;else if(n===Qn){for(;" "===m||"\t"===m;)m=v,v=e[b+=1],y=!0;var S=b>x+1?b-2:w-1;if(d[S])return e;h.push(S),d[S]=!0,p=S+f,g=void 0}else y=!0}m=v}if(y&&c&&c(),0===h.length)return e;u&&u();for(var C=e.slice(0,h[0]),O=0;O<h.length;++O){var T=h[O],L=h[O+1]||e.length;0===T?C="\n".concat(t).concat(e.slice(0,L)):(n===Qn&&d[T]&&(C+="".concat(e[T],"\\")),C+="\n".concat(t).concat(e.slice(T+1,L)))}return C}var tr=function(e){var t=e.indentAtStart;return t?Object.assign({indentAtStart:t},Yn.fold):Yn.fold},nr=function(e){return/^(%|---|\.\.\.)/m.test(e)};function rr(e,t){var n=t.implicitKey,r=Yn.doubleQuoted,i=r.jsonEncoding,o=r.minMultiLineLength,a=JSON.stringify(e);if(i)return a;for(var s=t.indent||(nr(e)?"  ":""),l="",u=0,c=0,f=a[c];f;f=a[++c])if(" "===f&&"\\"===a[c+1]&&"n"===a[c+2]&&(l+=a.slice(u,c)+"\\ ",u=c+=1,f="\\"),"\\"===f)switch(a[c+1]){case"u":l+=a.slice(u,c);var h=a.substr(c+2,4);switch(h){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:"00"===h.substr(0,2)?l+="\\x"+h.substr(2):l+=a.substr(c,6)}u=(c+=5)+1;break;case"n":if(n||'"'===a[c+2]||a.length<o)c+=1;else{for(l+=a.slice(u,c)+"\n\n";"\\"===a[c+2]&&"n"===a[c+3]&&'"'!==a[c+4];)l+="\n",c+=2;l+=s," "===a[c+2]&&(l+="\\"),u=(c+=1)+1}break;default:c+=1}return l=u?l+a.slice(u):a,n?l:er(l,s,Qn,tr(t))}function ir(e,t){if(t.implicitKey){if(/\n/.test(e))return rr(e,t)}else if(/[ \t]\n|\n[ \t]/.test(e))return rr(e,t);var n=t.indent||(nr(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(n))+"'";return t.implicitKey?r:er(r,n,Jn,tr(t))}function or(e,t,n,r){var i=e.comment,o=e.type,a=e.value;if(/\n[\t ]+$/.test(a)||/^\s*$/.test(a))return rr(a,t);var s=t.indent||(t.forceBlockIndent||nr(a)?"  ":""),l=s?"2":"1",u=o!==_t&&(o===It||!function(e,t,n){if(!t||t<0)return!1;var r=t-n,i=e.length;if(i<=r)return!1;for(var o=0,a=0;o<i;++o)if("\n"===e[o]){if(o-a>r)return!0;if(i-(a=o+1)<=r)return!1}return!0}(a,Yn.fold.lineWidth,s.length)),c=u?"|":">";if(!a)return c+"\n";var f="",h="";if(a=a.replace(/[\n\t ]*$/,(function(e){var t=e.indexOf("\n");return-1===t?c+="-":a!==e&&t===e.length-1||(c+="+",r&&r()),h=e.replace(/\n$/,""),""})).replace(/^[\n ]*/,(function(e){-1!==e.indexOf(" ")&&(c+=l);var t=e.match(/ +$/);return t?(f=e.slice(0,-t[0].length),t[0]):(f=e,"")})),h&&(h=h.replace(/\n+(?!\n|$)/g,"$&".concat(s))),f&&(f=f.replace(/\n+/g,"$&".concat(s))),i&&(c+=" #"+i.replace(/ ?[\r\n]+/g," "),n&&n()),!a)return"".concat(c).concat(l,"\n").concat(s).concat(h);if(u)return a=a.replace(/\n+/g,"$&".concat(s)),"".concat(c,"\n").concat(s).concat(f).concat(a).concat(h);a=a.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(s));var d=er("".concat(f).concat(a).concat(h),s,Xn,Yn.fold);return"".concat(c,"\n").concat(s).concat(d)}function ar(e,t,n,r){var i=Yn.defaultType,o=t.implicitKey,a=t.inFlow,s=e,l=s.type,u=s.value;"string"!=typeof u&&(u=String(u),e=Object.assign({},e,{value:u}));var c=function(i){switch(i){case _t:case It:return or(e,t,n,r);case qt:return rr(u,t);case Gt:return ir(u,t);case Ut:return function(e,t,n,r){var i=e.comment,o=e.type,a=e.value,s=t.actualString,l=t.implicitKey,u=t.indent,c=t.inFlow;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return rr(a,t);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||-1===a.indexOf("\n")?-1!==a.indexOf('"')&&-1===a.indexOf("'")?ir(a,t):rr(a,t):or(e,t,n,r);if(!l&&!c&&o!==Ut&&-1!==a.indexOf("\n"))return or(e,t,n,r);if(""===u&&nr(a))return t.forceBlockIndent=!0,or(e,t,n,r);var f=a.replace(/\n+/g,"$&\n".concat(u));if(s){var h=t.doc.schema.tags;if("string"!=typeof Kn(f,h,h.scalarFallback).value)return rr(a,t)}var d=l?f:er(f,u,Jn,tr(t));return!i||c||-1===d.indexOf("\n")&&-1===i.indexOf("\n")?d:(n&&n(),function(e,t,n){if(!n)return e;var r=n.replace(/[\s\S]^/gm,"$&".concat(t,"#"));return"#".concat(r,"\n").concat(t).concat(e)}(d,u,i))}(e,t,n,r);default:return null}};l!==qt&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(u)?l=qt:!o&&!a||l!==_t&&l!==It||(l=qt);var f=c(l);if(null===f&&null===(f=c(i)))throw new Error("Unsupported default string type ".concat(i));return f}function sr(e){var t=e.format,n=e.minFractionDigits,r=e.tag,i=e.value;if("bigint"==typeof i)return String(i);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";var o=JSON.stringify(i);if(!t&&n&&(!r||"tag:yaml.org,2002:float"===r)&&/^\d/.test(o)){var a=o.indexOf(".");a<0&&(a=o.length,o+=".");for(var s=n-(o.length-a-1);s-- >0;)o+="0"}return o}function lr(e,t){var n,r,i;switch(t.type){case zt:n="}",r="flow map";break;case Ft:n="]",r="flow sequence";break;default:return void e.push(new sn(t,"Not a flow collection!?"))}for(var o=t.items.length-1;o>=0;--o){var a=t.items[o];if(!a||a.type!==Rt){i=a;break}}if(i&&i.char!==n){var s,l="Expected ".concat(r," to end with ").concat(n);"number"==typeof i.offset?(s=new sn(t,l)).offset=i.offset+1:(s=new sn(i,l),i.range&&i.range.end&&(s.offset=i.range.end-i.range.start)),e.push(s)}}function ur(e,t){var n=t.context.src[t.range.start-1];if("\n"!==n&&"\t"!==n&&" "!==n){e.push(new sn(t,"Comments must be separated from other tokens by white space characters"))}}function cr(e,t){var n=String(t),r=n.substr(0,8)+"..."+n.substr(-8);return new sn(e,'The "'.concat(r,'" key is too long'))}function fr(e,t){var n,r=Lt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.afterKey,a=i.before,s=i.comment,l=e.items[a];l?(o&&l.value&&(l=l.value),void 0===s?!o&&l.commentBefore||(l.spaceBefore=!0):l.commentBefore?l.commentBefore+="\n"+s:l.commentBefore=s):void 0!==s&&(e.comment?e.comment+="\n"+s:e.comment=s)}}catch(e){r.e(e)}finally{r.f()}}function hr(e,t){var n=t.strValue;return n?"string"==typeof n?n:(n.errors.forEach((function(n){n.source||(n.source=t),e.errors.push(n)})),n.str):""}function dr(e,t){var n=t.tag,r=t.type,i=!1;if(n){var o=n.handle,a=n.suffix,s=n.verbatim;if(s){if("!"!==s&&"!!"!==s)return s;var l="Verbatim tags aren't resolved, so ".concat(s," is invalid.");e.errors.push(new sn(t,l))}else if("!"!==o||a)try{return function(e,t){var n=t.tag,r=n.handle,i=n.suffix,o=e.tagPrefixes.find((function(e){return e.handle===r}));if(!o){var a=e.getDefaults().tagPrefixes;if(a&&(o=a.find((function(e){return e.handle===r}))),!o)throw new sn(t,"The ".concat(r," tag handle is non-default and was not declared."))}if(!i)throw new sn(t,"The ".concat(r," tag has no suffix."));if("!"===r&&"1.0"===(e.version||e.options.version)){if("^"===i[0])return e.warnings.push(new un(t,"YAML 1.0 ^ tag expansion is not supported")),i;if(/[:/]/.test(i)){var s=i.match(/^([a-z0-9-]+)\/(.*)/i);return s?"tag:".concat(s[1],".yaml.org,2002:").concat(s[2]):"tag:".concat(i)}}return o.prefix+decodeURIComponent(i)}(e,t)}catch(t){e.errors.push(t)}else i=!0}switch(r){case _t:case It:case qt:case Gt:return Xt.STR;case zt:case Bt:return Xt.MAP;case Ft:case Yt:return Xt.SEQ;case Ut:return i?Xt.STR:null;default:return null}}function pr(e,t,n){var r,i=e.schema.tags,o=[],a=Lt(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.tag===n){if(!s.test){var l=s.resolve(e,t);return l instanceof _n?l:new En(l)}o.push(s)}}}catch(e){a.e(e)}finally{a.f()}var u=hr(e,t);return"string"==typeof u&&o.length>0?Kn(u,o,i.scalarFallback):null}function vr(e,t,n){try{var r=pr(e,t,n);if(r)return n&&t.tag&&(r.tag=n),r}catch(n){return n.source||(n.source=t),e.errors.push(n),null}try{var i=function(e){switch(e.type){case zt:case Bt:return Xt.MAP;case Ft:case Yt:return Xt.SEQ;default:return Xt.STR}}(t);if(!i)throw new Error("The tag ".concat(n," is unavailable"));var o="The tag ".concat(n," is unavailable, falling back to ").concat(i);e.warnings.push(new un(t,o));var a=pr(e,t,i);return a.tag=n,a}catch(n){var s=new an(t,n.message);return s.stack=n.stack,e.errors.push(s),null}}function gr(e,t){var n,r={before:[],after:[]},i=!1,o=!1,a=Lt(function(e){if(!e)return!1;var t=e.type;return t===Ht||t===Vt||t===Kt}(t.context.parent)?t.context.parent.props.concat(t.props):t.props);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=s.start,u=s.end;switch(t.context.src[l]){case Mt:if(!t.commentHasRequiredWhitespace(l)){e.push(new sn(t,"Comments must be separated from other tokens by white space characters"))}var c=t.header,f=t.valueRange;(f&&(l>f.start||c&&l>c.start)?r.after:r.before).push(t.context.src.slice(l+1,u));break;case $t:if(i){e.push(new sn(t,"A node can have at most one anchor"))}i=!0;break;case At:if(o){e.push(new sn(t,"A node can have at most one tag"))}o=!0}}}catch(e){a.e(e)}finally{a.f()}return{comments:r,hasAnchor:i,hasTag:o}}function mr(e,t){if(!t)return null;t.error&&e.errors.push(t.error);var n=gr(e.errors,t),r=n.comments,i=n.hasAnchor,o=n.hasTag;if(i){var a=e.anchors,s=t.anchor,l=a.getNode(s);l&&(a.map[a.newName(s)]=l),a.map[s]=t}if(t.type===jt&&(i||o)){e.errors.push(new sn(t,"An alias node must not specify any properties"))}var u=function(e,t){var n=e.anchors,r=e.errors,i=e.schema;if(t.type===jt){var o=t.rawValue,a=n.getNode(o);if(!a){var s="Aliased anchor not found: ".concat(o);return r.push(new an(t,s)),null}var l=new zn(a);return n._cstAliases.push(l),l}var u=dr(e,t);if(u)return vr(e,t,u);if(t.type!==Ut){var c="Failed to resolve ".concat(t.type," node here");return r.push(new ln(t,c)),null}try{return Kn(hr(e,t),i.tags,i.tags.scalarFallback)}catch(e){return e.source||(e.source=t),r.push(e),null}}(e,t);if(u){u.range=[t.range.start,t.range.end],e.options.keepCstNodes&&(u.cstNode=t),e.options.keepNodeTypes&&(u.type=t.type);var c=r.before.join("\n");c&&(u.commentBefore=u.commentBefore?"".concat(u.commentBefore,"\n").concat(c):c);var f=r.after.join("\n");f&&(u.comment=u.comment?"".concat(u.comment,"\n").concat(f):f)}return t.resolved=u}function yr(e,t){if(t.type!==Bt&&t.type!==zt){var n="A ".concat(t.type," node cannot be resolved as a mapping");return e.errors.push(new ln(t,n)),null}var r=t.type===zt?function(e,t){for(var n=[],r=[],i=void 0,o=!1,a="{",s=0;s<t.items.length;++s){var l=t.items[s];if("string"==typeof l.char){var u=l.char,c=l.offset;if("?"===u&&void 0===i&&!o){o=!0,a=":";continue}if(":"===u){if(void 0===i&&(i=null),":"===a){a=",";continue}}else if(o&&(void 0===i&&","!==u&&(i=null),o=!1),void 0!==i&&(r.push(new Wn(i)),i=void 0,","===u)){a=":";continue}if("}"===u){if(s===t.items.length-1)continue}else if(u===a){a=":";continue}var f="Flow map contains an unexpected ".concat(u),h=new ln(t,f);h.offset=c,e.errors.push(h)}else l.type===Pt?n.push({afterKey:!!i,before:r.length}):l.type===Rt?(ur(e.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):void 0===i?(","===a&&e.errors.push(new sn(l,"Separator , missing in flow map")),i=mr(e,l)):(","!==a&&e.errors.push(new sn(l,"Indicator : missing in flow map entry")),r.push(new Wn(i,mr(e,l))),i=void 0,o=!1)}lr(e.errors,t),void 0!==i&&r.push(new Wn(i));return{comments:n,items:r}}(e,t):function(e,t){for(var n=[],r=[],i=void 0,o=null,a=0;a<t.items.length;++a){var s=t.items[a];switch(s.type){case Pt:n.push({afterKey:!!i,before:r.length});break;case Rt:n.push({afterKey:!!i,before:r.length,comment:s.comment});break;case Ht:void 0!==i&&r.push(new Wn(i)),s.error&&e.errors.push(s.error),i=mr(e,s.node),o=null;break;case Vt:if(void 0===i&&(i=null),s.error&&e.errors.push(s.error),!s.context.atLineStart&&s.node&&s.node.type===Bt&&!s.node.context.atLineStart){var l="Nested mappings are not allowed in compact mappings";e.errors.push(new sn(s.node,l))}var u=s.node;if(!u&&s.props.length>0){(u=new cn(Ut,[])).context={parent:s,src:s.context.src};var c=s.range.start+1;if(u.range={start:c,end:c},u.valueRange={start:c,end:c},"number"==typeof s.range.origStart){var f=s.range.origStart+1;u.range.origStart=u.range.origEnd=f,u.valueRange.origStart=u.valueRange.origEnd=f}}var h=new Wn(i,mr(e,u));br(s,h),r.push(h),i&&"number"==typeof o&&s.range.start>o+1024&&e.errors.push(cr(t,i)),i=void 0,o=null;break;default:void 0!==i&&r.push(new Wn(i)),i=mr(e,s),o=s.range.start,s.error&&e.errors.push(s.error);e:for(var d=a+1;;++d){var p=t.items[d];switch(p&&p.type){case Pt:case Rt:continue e;case Vt:break e;default:var v="Implicit map keys need to be followed by map values";e.errors.push(new sn(s,v));break e}}if(s.valueRangeContainsNewline){var g="Implicit map keys need to be on a single line";e.errors.push(new sn(s,g))}}}void 0!==i&&r.push(new Wn(i));return{comments:n,items:r}}(e,t),i=r.comments,o=r.items,a=new Bn;a.items=o,fr(a,i);for(var s=!1,l=0;l<o.length;++l){var u=o[l].key;if(u instanceof _n&&(s=!0),e.schema.merge&&u&&"<<"===u.value){o[l]=new Hn(o[l]);var c=o[l].value.items,f=null;c.some((function(e){if(e instanceof zn){var t=e.source.type;return t!==Bt&&t!==zt&&(f="Merge nodes aliases can only point to maps")}return f="Merge nodes can only have Alias nodes as values"})),f&&e.errors.push(new sn(t,f))}else for(var h=l+1;h<o.length;++h){var d=o[h].key;if(u===d||u&&d&&Object.prototype.hasOwnProperty.call(u,"value")&&u.value===d.value){var p='Map keys must be unique; "'.concat(u,'" is repeated');e.errors.push(new sn(t,p));break}}}if(s&&!e.options.mapAsMap){e.warnings.push(new un(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this."))}return t.resolved=a,a}function br(e,t){if(function(e){var t=e.context,n=t.lineStart,r=t.node,i=t.src,o=e.props;if(0===o.length)return!1;var a=o[0].start;if(r&&a>r.valueRange.start)return!1;if(i[a]!==Mt)return!1;for(var s=n;s<a;++s)if("\n"===i[s])return!1;return!0}(e)){var n=e.getPropValue(0,Mt,!0),r=!1,i=t.value.commentBefore;if(i&&i.startsWith(n))t.value.commentBefore=i.substr(n.length+1),r=!0;else{var o=t.value.comment;!e.node&&o&&o.startsWith(n)&&(t.value.comment=o.substr(n.length+1),r=!0)}r&&(t.comment=n)}}function wr(e,t){if(t.type!==Yt&&t.type!==Ft){var n="A ".concat(t.type," node cannot be resolved as a sequence");return e.errors.push(new ln(t,n)),null}var r=t.type===Ft?function(e,t){for(var n=[],r=[],i=!1,o=void 0,a=null,s="[",l=null,u=0;u<t.items.length;++u){var c=t.items[u];if("string"==typeof c.char){var f=c.char,h=c.offset;if(":"===f||!i&&void 0===o||(i&&void 0===o&&(o=s?r.pop():null),r.push(new Wn(o)),i=!1,o=void 0,a=null),f===s)s=null;else if(s||"?"!==f){if("["!==s&&":"===f&&void 0===o){if(","===s){if((o=r.pop())instanceof Wn){var d=new sn(t,"Chaining flow sequence pairs is invalid");d.offset=h,e.errors.push(d)}if(!i&&"number"==typeof a){var p=c.range?c.range.start:c.offset;p>a+1024&&e.errors.push(cr(t,o));for(var v=l.context.src,g=a;g<p;++g)if("\n"===v[g]){var m="Implicit keys of flow sequence pairs need to be on a single line";e.errors.push(new sn(l,m));break}}}else o=null;a=null,i=!1,s=null}else if("["===s||"]"!==f||u<t.items.length-1){var y="Flow sequence contains an unexpected ".concat(f),b=new ln(t,y);b.offset=h,e.errors.push(b)}}else i=!0}else if(c.type===Pt)n.push({before:r.length});else if(c.type===Rt)ur(e.errors,c),n.push({comment:c.comment,before:r.length});else{if(s){var w="Expected a ".concat(s," in flow sequence");e.errors.push(new sn(c,w))}var x=mr(e,c);void 0===o?(r.push(x),l=c):(r.push(new Wn(o,x)),o=void 0),a=c.range.start,s=","}}lr(e.errors,t),void 0!==o&&r.push(new Wn(o));return{comments:n,items:r}}(e,t):function(e,t){for(var n=[],r=[],i=0;i<t.items.length;++i){var o=t.items[i];switch(o.type){case Pt:n.push({before:r.length});break;case Rt:n.push({comment:o.comment,before:r.length});break;case Kt:if(o.error&&e.errors.push(o.error),r.push(mr(e,o.node)),o.hasProps){var a="Sequence items cannot have tags or anchors before the - indicator";e.errors.push(new sn(o,a))}break;default:o.error&&e.errors.push(o.error),e.errors.push(new ln(o,"Unexpected ".concat(o.type," node in sequence")))}}return{comments:n,items:r}}(e,t),i=r.comments,o=r.items,a=new Rn;if(a.items=o,fr(a,i),!e.options.mapAsMap&&o.some((function(e){return e instanceof Wn&&e.key instanceof _n}))){e.warnings.push(new un(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this."))}return t.resolved=a,a}var xr={identify:function(e){return e instanceof Uint8Array},default:!1,tag:"tag:yaml.org,2002:binary",resolve:function(e,t){var n=hr(e,t);if("function"==typeof Buffer)return Buffer.from(n,"base64");if("function"==typeof atob){for(var r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}return e.errors.push(new an(t,"This environment does not support reading binary tags; either Buffer or atob is required")),null},options:Vn,stringify:function(e,t,n,r){var i,o=e.comment,a=e.type,s=e.value;if("function"==typeof Buffer)i=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");for(var l="",u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);i=btoa(l)}if(a||(a=Vn.defaultType),a===qt)s=i;else{for(var c=Vn.lineWidth,f=Math.ceil(i.length/c),h=new Array(f),d=0,p=0;d<f;++d,p+=c)h[d]=i.substr(p,c);s=h.join(a===It?"\n":" ")}return ar({comment:o,type:a,value:s},t,n,r)}};function kr(e,t){for(var n=wr(e,t),r=0;r<n.items.length;++r){var i=n.items[r];if(!(i instanceof Wn)){if(i instanceof Bn){if(i.items.length>1){throw new sn(t,"Each pair must have its own sequence indicator")}var o=i.items[0]||new Wn;i.commentBefore&&(o.commentBefore=o.commentBefore?"".concat(i.commentBefore,"\n").concat(o.commentBefore):i.commentBefore),i.comment&&(o.comment=o.comment?"".concat(i.comment,"\n").concat(o.comment):i.comment),i=o}n.items[r]=i instanceof Wn?i:new Wn(i)}}return n}function Sr(e,t,n){var r=new Rn(e);r.tag="tag:yaml.org,2002:pairs";var i,o=Lt(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=void 0,l=void 0;if(Array.isArray(a)){if(2!==a.length)throw new TypeError("Expected [key, value] tuple: ".concat(a));s=a[0],l=a[1]}else if(a&&a instanceof Object){var u=Object.keys(a);if(1!==u.length)throw new TypeError("Expected { key: value } tuple: ".concat(a));l=a[s=u[0]]}else s=a;var c=e.createPair(s,l,n);r.items.push(c)}}catch(e){o.e(e)}finally{o.f()}return r}var Cr={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:kr,createNode:Sr},Or=function(e){ft(n,e);var t=bt(n);function n(){var e;return st(this,n),ct(mt(e=t.call(this)),"add",Bn.prototype.add.bind(mt(e))),ct(mt(e),"delete",Bn.prototype.delete.bind(mt(e))),ct(mt(e),"get",Bn.prototype.get.bind(mt(e))),ct(mt(e),"has",Bn.prototype.has.bind(mt(e))),ct(mt(e),"set",Bn.prototype.set.bind(mt(e))),e.tag=n.tag,e}return ut(n,[{key:"toJSON",value:function(e,t){var n=new Map;t&&t.onCreate&&t.onCreate(n);var r,i=Lt(this.items);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=void 0,s=void 0;if(o instanceof Wn?(a=Nn(o.key,"",t),s=Nn(o.value,a,t)):a=Nn(o,"",t),n.has(a))throw new Error("Ordered maps must not include duplicate keys");n.set(a,s)}}catch(e){i.e(e)}finally{i.f()}return n}}]),n}(Rn);ct(Or,"tag","tag:yaml.org,2002:omap");var Tr={identify:function(e){return e instanceof Map},nodeClass:Or,default:!1,tag:"tag:yaml.org,2002:omap",resolve:function(e,t){var n,r=kr(e,t),i=[],o=Lt(r.items);try{for(o.s();!(n=o.n()).done;){var a=n.value.key;if(a instanceof En){if(i.includes(a.value)){throw new sn(t,"Ordered maps must not include duplicate keys")}i.push(a.value)}}}catch(e){o.e(e)}finally{o.f()}return Object.assign(new Or,r)},createNode:function(e,t,n){var r=Sr(e,t,n),i=new Or;return i.items=r.items,i}},Lr=function(e){ft(n,e);var t=bt(n);function n(){var e;return st(this,n),(e=t.call(this)).tag=n.tag,e}return ut(n,[{key:"add",value:function(e){var t=e instanceof Wn?e:new Wn(e);Fn(this.items,t.key)||this.items.push(t)}},{key:"get",value:function(e,t){var n=Fn(this.items,e);return!t&&n instanceof Wn?n.key instanceof En?n.key.value:n.key:n}},{key:"set",value:function(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(at(t)));var n=Fn(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Wn(e))}},{key:"toJSON",value:function(e,t){return wt(ht(n.prototype),"toJSON",this).call(this,e,t,Set)}},{key:"toString",value:function(e,t,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return wt(ht(n.prototype),"toString",this).call(this,e,t,r);throw new Error("Set items must all have null values")}}]),n}(Bn);ct(Lr,"tag","tag:yaml.org,2002:set");var $r={identify:function(e){return e instanceof Set},nodeClass:Lr,default:!1,tag:"tag:yaml.org,2002:set",resolve:function(e,t){var n=yr(e,t);if(!n.hasAllNullValues())throw new sn(t,"Set items must all have null values");return Object.assign(new Lr,n)},createNode:function(e,t,n){var r,i=new Lr,o=Lt(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.items.push(e.createPair(a,null,n))}}catch(e){o.e(e)}finally{o.f()}return i}},Mr=function(e,t){var n=t.split(":").reduce((function(e,t){return 60*e+Number(t)}),0);return"-"===e?-n:n},Ar=function(e){var t=e.value;if(isNaN(t)||!isFinite(t))return sr(t);var n="";t<0&&(n="-",t=Math.abs(t));var r=[t%60];return t<60?r.unshift(0):(t=Math.round((t-r[0])/60),r.unshift(t%60),t>=60&&(t=Math.round((t-r[0])/60),r.unshift(t))),n+r.map((function(e){return e<10?"0"+String(e):String(e)})).join(":").replace(/000000\d*$/,"")},Nr={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:function(e,t,n){return Mr(t,n.replace(/_/g,""))},stringify:Ar},Er={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:function(e,t,n){return Mr(t,n.replace(/_/g,""))},stringify:Ar},jr={identify:function(e){return e instanceof Date},default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:function(e,t,n,r,i,o,a,s,l){s&&(s=(s+"00").substr(1,3));var u=Date.UTC(t,n-1,r,i||0,o||0,a||0,s||0);if(l&&"Z"!==l){var c=Mr(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:function(e){return e.value.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")}};function Pr(e){var t="undefined"!=typeof process&&process.env||{};return e?"undefined"!=typeof YAML_SILENCE_DEPRECATION_WARNINGS?!YAML_SILENCE_DEPRECATION_WARNINGS:!t.YAML_SILENCE_DEPRECATION_WARNINGS:"undefined"!=typeof YAML_SILENCE_WARNINGS?!YAML_SILENCE_WARNINGS:!t.YAML_SILENCE_WARNINGS}function _r(e,t){if(Pr(!1)){var n="undefined"!=typeof process&&process.emitWarning;n?n(e,t):console.warn(t?"".concat(t,": ").concat(e):e)}}var Ir={};var Rr={createNode:function(e,t,n){var r=new Bn(e);if(t instanceof Map){var i,o=Lt(t);try{for(o.s();!(i=o.n()).done;){var a=xt(i.value,2),s=a[0],l=a[1];r.items.push(e.createPair(s,l,n))}}catch(e){o.e(e)}finally{o.f()}}else if(t&&"object"===at(t))for(var u=0,c=Object.keys(t);u<c.length;u++){var f=c[u];r.items.push(e.createPair(f,t[f],n))}return"function"==typeof e.sortMapEntries&&r.items.sort(e.sortMapEntries),r},default:!0,nodeClass:Bn,tag:"tag:yaml.org,2002:map",resolve:yr};var Wr={createNode:function(e,t,n){var r=new Rn(e);if(t&&t[Symbol.iterator]){var i,o=Lt(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=e.createNode(a,n.wrapScalars,null,n);r.items.push(s)}}catch(e){o.e(e)}finally{o.f()}}return r},default:!0,nodeClass:Rn,tag:"tag:yaml.org,2002:seq",resolve:wr},Dr=[Rr,Wr,{identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:hr,stringify:function(e,t,n,r){return ar(e,t=Object.assign({actualString:!0},t),n,r)},options:Yn}],zr=function(e){return"bigint"==typeof e||Number.isInteger(e)},Fr=function(e,t,n){return qn.asBigInt?BigInt(e):parseInt(t,n)};function Br(e,t,n){var r=e.value;return zr(r)&&r>=0?n+r.toString(t):sr(e)}var Hr={identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new En(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:Gn,stringify:function(){return Gn.nullStr}},Vr={identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:function(e){return"t"===e[0]||"T"===e[0]},options:Un,stringify:function(e){return e.value?Un.trueStr:Un.falseStr}},Ur={identify:function(e){return zr(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:function(e,t){return Fr(e,t,8)},options:qn,stringify:function(e){return Br(e,8,"0o")}},qr={identify:zr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:function(e){return Fr(e,e,10)},options:qn,stringify:sr},Gr={identify:function(e){return zr(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:function(e,t){return Fr(e,t,16)},options:qn,stringify:function(e){return Br(e,16,"0x")}},Yr={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:sr},Kr={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e)},stringify:function(e){var t=e.value;return Number(t).toExponential()}},Jr={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve:function(e,t,n){var r=t||n,i=new En(parseFloat(e));return r&&"0"===r[r.length-1]&&(i.minFractionDigits=r.length),i},stringify:sr},Xr=Dr.concat([Hr,Vr,Ur,qr,Gr,Yr,Kr,Jr]),Qr=function(e){return"bigint"==typeof e||Number.isInteger(e)},Zr=function(e){var t=e.value;return JSON.stringify(t)},ei=[Rr,Wr,{identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:hr,stringify:Zr},{identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new En(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:function(){return null},stringify:Zr},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:function(e){return"true"===e},stringify:Zr},{identify:Qr,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:function(e){return qn.asBigInt?BigInt(e):parseInt(e,10)},stringify:function(e){var t=e.value;return Qr(t)?t.toString():JSON.stringify(t)}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:function(e){return parseFloat(e)},stringify:Zr}];ei.scalarFallback=function(e){throw new SyntaxError("Unresolved plain scalar ".concat(JSON.stringify(e)))};var ti=function(e){return e.value?Un.trueStr:Un.falseStr},ni=function(e){return"bigint"==typeof e||Number.isInteger(e)};function ri(e,t,n){var r=t.replace(/_/g,"");if(qn.asBigInt){switch(n){case 2:r="0b".concat(r);break;case 8:r="0o".concat(r);break;case 16:r="0x".concat(r)}var i=BigInt(r);return"-"===e?BigInt(-1)*i:i}var o=parseInt(r,n);return"-"===e?-1*o:o}function ii(e,t,n){var r=e.value;if(ni(r)){var i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return sr(e)}var oi=Dr.concat([{identify:function(e){return null==e},createNode:function(e,t,n){return n.wrapScalars?new En(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:Gn,stringify:function(){return Gn.nullStr}},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:function(){return!0},options:Un,stringify:ti},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:function(){return!1},options:Un,stringify:ti},{identify:ni,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:function(e,t,n){return ri(t,n,2)},stringify:function(e){return ii(e,2,"0b")}},{identify:ni,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:function(e,t,n){return ri(t,n,8)},stringify:function(e){return ii(e,8,"0")}},{identify:ni,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:function(e,t,n){return ri(t,n,10)},stringify:sr},{identify:ni,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:function(e,t,n){return ri(t,n,16)},stringify:function(e){return ii(e,16,"0x")}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:sr},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e.replace(/_/g,""))},stringify:function(e){var t=e.value;return Number(t).toExponential()}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve:function(e,t){var n=new En(parseFloat(e.replace(/_/g,"")));if(t){var r=t.replace(/_/g,"");"0"===r[r.length-1]&&(n.minFractionDigits=r.length)}return n},stringify:sr}],xr,Tr,Cr,$r,Nr,Er,jr),ai={core:Xr,failsafe:Dr,json:ei,yaml11:oi},si={binary:xr,bool:Vr,float:Jr,floatExp:Kr,floatNaN:Yr,floatTime:Er,int:qr,intHex:Gr,intOct:Ur,intTime:Nr,map:Rr,null:Hr,omap:Tr,pairs:Cr,seq:Wr,set:$r,timestamp:jr};function li(e,t,n){if(e instanceof An)return e;var r=n.defaultPrefix,i=n.onTagObj,o=n.prevObjects,a=n.schema,s=n.wrapScalars;t&&t.startsWith("!!")&&(t=r+t.slice(2));var l=function(e,t,n){if(t){var r=n.filter((function(e){return e.tag===t})),i=r.find((function(e){return!e.format}))||r[0];if(!i)throw new Error("Tag ".concat(t," not found"));return i}return n.find((function(t){return(t.identify&&t.identify(e)||t.class&&e instanceof t.class)&&!t.format}))}(e,t,a.tags);if(!l){if("function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==at(e))return s?new En(e):e;l=e instanceof Map?Rr:e[Symbol.iterator]?Wr:Rr}i&&(i(l),delete n.onTagObj);var u={value:void 0,node:void 0};if(e&&"object"===at(e)&&o){var c=o.get(e);if(c){var f=new zn(c);return n.aliasNodes.push(f),f}u.value=e,o.set(e,u)}return u.node=l.createNode?l.createNode(n.schema,e,n):s?new En(e):e,t&&u.node instanceof An&&(u.node.tag=t),u.node}var ui=function(e,t){return e.key<t.key?-1:e.key>t.key?1:0},ci=function(){function e(t){var n=t.customTags,r=t.merge,i=t.schema,o=t.sortMapEntries,a=t.tags;st(this,e),this.merge=!!r,this.name=i,this.sortMapEntries=!0===o?ui:o||null,!n&&a&&function(e,t){if(!Ir[e]&&Pr(!0)){Ir[e]=!0;var n="The option '".concat(e,"' will be removed in a future release");_r(n+=t?", use '".concat(t,"' instead."):".","DeprecationWarning")}}("tags","customTags"),this.tags=function(e,t,n,r){var i=e[r.replace(/\W/g,"")];if(!i){var o=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown schema "'.concat(r,'"; use one of ').concat(o))}if(Array.isArray(n)){var a,s=Lt(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;i=i.concat(l)}}catch(e){s.e(e)}finally{s.f()}}else"function"==typeof n&&(i=n(i.slice()));for(var u=0;u<i.length;++u){var c=i[u];if("string"==typeof c){var f=t[c];if(!f){var h=Object.keys(t).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown custom tag "'.concat(c,'"; use one of ').concat(h))}i[u]=f}}return i}(ai,si,n||a,i)}return ut(e,[{key:"createNode",value:function(t,n,r,i){var o={defaultPrefix:e.defaultPrefix,schema:this,wrapScalars:n};return li(t,r,i?Object.assign(i,o):o)}},{key:"createPair",value:function(e,t,n){n||(n={wrapScalars:!0});var r=this.createNode(e,n.wrapScalars,null,n),i=this.createNode(t,n.wrapScalars,null,n);return new Wn(r,i)}}]),e}();ct(ci,"defaultPrefix",Jt),ct(ci,"defaultTags",Xt);var fi={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},hi={get binary(){return Vn},set binary(e){Object.assign(Vn,e)},get bool(){return Un},set bool(e){Object.assign(Un,e)},get int(){return qn},set int(e){Object.assign(qn,e)},get null(){return Gn},set null(e){Object.assign(Gn,e)},get str(){return Yn},set str(e){Object.assign(Yn,e)}},di={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Jt},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Jt}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Jt}]}};function pi(e,t){if("1.0"===(e.version||e.options.version)){var n=t.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(n)return"!"+n[1];var r=t.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return r?"!".concat(r[1],"/").concat(r[2]):"!".concat(t.replace(/^tag:/,""))}var i=e.tagPrefixes.find((function(e){return 0===t.indexOf(e.prefix)}));if(!i){var o=e.getDefaults().tagPrefixes;i=o&&o.find((function(e){return 0===t.indexOf(e.prefix)}))}if(!i)return"!"===t[0]?t:"!<".concat(t,">");var a=t.substr(i.prefix.length).replace(/[!,[\]{}]/g,(function(e){return{"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"}[e]}));return i.handle+a}function vi(e,t,n,r){var i,o=t.doc,a=o.anchors,s=o.schema;if(!(e instanceof An)){var l={aliasNodes:[],onTagObj:function(e){return i=e},prevObjects:new Map};e=s.createNode(e,!0,null,l);var u,c=Lt(l.aliasNodes);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.source=f.source.node;var h=a.getName(f.source);h||(h=a.newName(),a.map[h]=f.source)}}catch(e){c.e(e)}finally{c.f()}}if(e instanceof Wn)return e.toString(t,n,r);i||(i=function(e,t){if(t instanceof zn)return zn;if(t.tag){var n=e.filter((function(e){return e.tag===t.tag}));if(n.length>0)return n.find((function(e){return e.format===t.format}))||n[0]}var r,i;if(t instanceof En){i=t.value;var o=e.filter((function(e){return e.identify&&e.identify(i)||e.class&&i instanceof e.class}));r=o.find((function(e){return e.format===t.format}))||o.find((function(e){return!e.format}))}else i=t,r=e.find((function(e){return e.nodeClass&&i instanceof e.nodeClass}));if(!r){var a=i&&i.constructor?i.constructor.name:at(i);throw new Error("Tag not resolved for ".concat(a," value"))}return r}(s.tags,e));var d=function(e,t,n){var r=n.anchors,i=n.doc,o=[],a=i.anchors.getName(e);return a&&(r[a]=e,o.push("&".concat(a))),e.tag?o.push(pi(i,e.tag)):t.default||o.push(pi(i,t.tag)),o.join(" ")}(e,i,t);d.length>0&&(t.indentAtStart=(t.indentAtStart||0)+d.length+1);var p="function"==typeof i.stringify?i.stringify(e,t,n,r):e instanceof En?ar(e,t,n,r):e.toString(t,n,r);return d?e instanceof En||"{"===p[0]||"["===p[0]?"".concat(d," ").concat(p):"".concat(d,"\n").concat(t.indent).concat(p):p}var gi=function(){function e(t){st(this,e),ct(this,"map",Object.create(null)),this.prefix=t}return ut(e,[{key:"createAlias",value:function(e,t){return this.setAnchor(e,t),new zn(e)}},{key:"createMergePair",value:function(){for(var e=this,t=new Hn,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.value.items=r.map((function(t){if(t instanceof zn){if(t.source instanceof Bn)return t}else if(t instanceof Bn)return e.createAlias(t);throw new Error("Merge sources must be Map nodes or their Aliases")})),t}},{key:"getName",value:function(e){var t=this.map;return Object.keys(t).find((function(n){return t[n]===e}))}},{key:"getNames",value:function(){return Object.keys(this.map)}},{key:"getNode",value:function(e){return this.map[e]}},{key:"newName",value:function(e){e||(e=this.prefix);for(var t=Object.keys(this.map),n=1;;++n){var r="".concat(e).concat(n);if(!t.includes(r))return r}}},{key:"resolveNodes",value:function(){var e=this.map,t=this._cstAliases;Object.keys(e).forEach((function(t){e[t]=e[t].resolved})),t.forEach((function(e){e.source=e.source.resolved})),delete this._cstAliases}},{key:"setAnchor",value:function(t,n){if(null!=t&&!e.validAnchorNode(t))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");var r=this.map,i=t&&Object.keys(r).find((function(e){return r[e]===t}));if(i){if(!n)return i;i!==n&&(delete r[i],r[n]=t)}else{if(!n){if(!t)return null;n=this.newName()}r[n]=t}return n}}],[{key:"validAnchorNode",value:function(e){return e instanceof En||e instanceof Rn||e instanceof Bn}}]),e}(),mi=function e(t,n){if(t&&"object"===at(t)){var r=t.tag;t instanceof _n?(r&&(n[r]=!0),t.items.forEach((function(t){return e(t,n)}))):t instanceof Wn?(e(t.key,n),e(t.value,n)):t instanceof En&&r&&(n[r]=!0)}return n},yi=function(e){return Object.keys(mi(e,{}))};function bi(e,t){var n=e.tagPrefixes,r=xt(t.parameters,2),i=r[0],o=r[1];if(!i||!o){throw new sn(t,"Insufficient parameters given for %TAG directive")}if(n.some((function(e){return e.handle===i}))){throw new sn(t,"The %TAG directive must only be given at most once per handle in the same document.")}return{handle:i,prefix:o}}function wi(e,t){var n=xt(t.parameters,1)[0];if("YAML:1.0"===t.name&&(n="1.0"),!n){throw new sn(t,"Insufficient parameters given for %YAML directive")}if(!di[n]){var r=e.version||e.options.version,i="Document will be parsed as YAML ".concat(r," rather than YAML ").concat(n);e.warnings.push(new un(t,i))}return n}function xi(e){if(e instanceof _n)return!0;throw new Error("Expected a YAML collection as document contents")}var ki=function(){function e(t){st(this,e),this.anchors=new gi(t.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=t,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}return ut(e,[{key:"add",value:function(e){return xi(this.contents),this.contents.add(e)}},{key:"addIn",value:function(e,t){xi(this.contents),this.contents.addIn(e,t)}},{key:"delete",value:function(e){return xi(this.contents),this.contents.delete(e)}},{key:"deleteIn",value:function(e){return Pn(e)?null!=this.contents&&(this.contents=null,!0):(xi(this.contents),this.contents.deleteIn(e))}},{key:"getDefaults",value:function(){return e.defaults[this.version]||e.defaults[this.options.version]||{}}},{key:"get",value:function(e,t){return this.contents instanceof _n?this.contents.get(e,t):void 0}},{key:"getIn",value:function(e,t){return Pn(e)?!t&&this.contents instanceof En?this.contents.value:this.contents:this.contents instanceof _n?this.contents.getIn(e,t):void 0}},{key:"has",value:function(e){return this.contents instanceof _n&&this.contents.has(e)}},{key:"hasIn",value:function(e){return Pn(e)?void 0!==this.contents:this.contents instanceof _n&&this.contents.hasIn(e)}},{key:"set",value:function(e,t){xi(this.contents),this.contents.set(e,t)}},{key:"setIn",value:function(e,t){Pn(e)?this.contents=t:(xi(this.contents),this.contents.setIn(e,t))}},{key:"setSchema",value:function(e,t){if(e||t||!this.schema){"number"==typeof e&&(e=e.toFixed(1)),"1.0"===e||"1.1"===e||"1.2"===e?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&"string"==typeof e&&(this.options.schema=e),Array.isArray(t)&&(this.options.customTags=t);var n=Object.assign({},this.getDefaults(),this.options);this.schema=new ci(n)}}},{key:"parse",value:function(e,t){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");var n=e.directives,r=void 0===n?[]:n,i=e.contents,o=void 0===i?[]:i,a=e.directivesEndMarker,s=e.error,l=e.valueRange;if(s&&(s.source||(s.source=this),this.errors.push(s)),function(e,t,n){var r,i=[],o=!1,a=Lt(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.comment,u=s.name;switch(u){case"TAG":try{e.tagPrefixes.push(bi(e,s))}catch(t){e.errors.push(t)}o=!0;break;case"YAML":case"YAML:1.0":e.version&&e.errors.push(new sn(s,"The %YAML directive must only be given at most once per document."));try{e.version=wi(e,s)}catch(t){e.errors.push(t)}o=!0;break;default:if(u){var c="YAML only supports %TAG and %YAML directives, and not %".concat(u);e.warnings.push(new un(s,c))}}l&&i.push(l)}}catch(e){a.e(e)}finally{a.f()}n&&!o&&"1.1"===(e.version||n.version||e.options.version)&&(e.tagPrefixes=n.tagPrefixes.map((function(e){return{handle:e.handle,prefix:e.prefix}})),e.version=n.version);e.commentBefore=i.join("\n")||null}(this,r,t),a&&(this.directivesEndMarker=!0),this.range=l?[l.start,l.end]:null,this.setSchema(),this.anchors._cstAliases=[],function(e,t){var n,r={before:[],after:[]},i=void 0,o=!1,a=Lt(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.valueRange){if(void 0!==i){e.errors.push(new ln(s,"Document contains trailing content not separated by a ... or --- line"));break}var l=mr(e,s);o&&(l.spaceBefore=!0,o=!1),i=l}else null!==s.comment?(void 0===i?r.before:r.after).push(s.comment):s.type===Pt&&(o=!0,void 0===i&&r.before.length>0&&!e.commentBefore&&(e.commentBefore=r.before.join("\n"),r.before=[]))}}catch(e){a.e(e)}finally{a.f()}if(e.contents=i||null,i){var u=r.before.join("\n");if(u){var c=i instanceof _n&&i.items[0]?i.items[0]:i;c.commentBefore=c.commentBefore?"".concat(u,"\n").concat(c.commentBefore):u}e.comment=r.after.join("\n")||null}else e.comment=r.before.concat(r.after).join("\n")||null}(this,o),this.anchors.resolveNodes(),this.options.prettyErrors){var u,c=Lt(this.errors);try{for(c.s();!(u=c.n()).done;){var f=u.value;f instanceof on&&f.makePretty()}}catch(e){c.e(e)}finally{c.f()}var h,d=Lt(this.warnings);try{for(d.s();!(h=d.n()).done;){var p=h.value;p instanceof on&&p.makePretty()}}catch(e){d.e(e)}finally{d.f()}}return this}},{key:"listNonDefaultTags",value:function(){return yi(this.contents).filter((function(e){return 0!==e.indexOf(ci.defaultPrefix)}))}},{key:"setTagPrefix",value:function(e,t){if("!"!==e[0]||"!"!==e[e.length-1])throw new Error("Handle must start and end with !");if(t){var n=this.tagPrefixes.find((function(t){return t.handle===e}));n?n.prefix=t:this.tagPrefixes.push({handle:e,prefix:t})}else this.tagPrefixes=this.tagPrefixes.filter((function(t){return t.handle!==e}))}},{key:"toJSON",value:function(e,t){var n=this,r=this.options,i=r.keepBlobsInJSON,o=r.mapAsMap,a=r.maxAliasCount,s=i&&("string"!=typeof e||!(this.contents instanceof En)),l={doc:this,indentStep:"  ",keep:s,mapAsMap:s&&!!o,maxAliasCount:a,stringify:vi},u=Object.keys(this.anchors.map);u.length>0&&(l.anchors=new Map(u.map((function(e){return[n.anchors.map[e],{alias:[],aliasCount:0,count:1}]}))));var c=Nn(this.contents,e,l);if("function"==typeof t&&l.anchors){var f,h=Lt(l.anchors.values());try{for(h.s();!(f=h.n()).done;){var d=f.value,p=d.count;t(d.res,p)}}catch(e){h.e(e)}finally{h.f()}}return c}},{key:"toString",value:function(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");var e=this.options.indent;if(!Number.isInteger(e)||e<=0){var t=JSON.stringify(e);throw new Error('"indent" option must be a positive integer, not '.concat(t))}this.setSchema();var n=[],r=!1;if(this.version){var i="%YAML 1.2";"yaml-1.1"===this.schema.name&&("1.0"===this.version?i="%YAML:1.0":"1.1"===this.version&&(i="%YAML 1.1")),n.push(i),r=!0}var o=this.listNonDefaultTags();this.tagPrefixes.forEach((function(e){var t=e.handle,i=e.prefix;o.some((function(e){return 0===e.indexOf(i)}))&&(n.push("%TAG ".concat(t," ").concat(i)),r=!0)})),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&(!r&&this.directivesEndMarker||n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));var a={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:vi},s=!1,l=null;if(this.contents){this.contents instanceof An&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),a.forceBlockIndent=!!this.comment,l=this.contents.comment);var u=l?null:function(){return s=!0},c=vi(this.contents,a,(function(){return l=null}),u);n.push(Mn(c,"",l))}else void 0!==this.contents&&n.push(vi(this.contents,a));return this.comment&&(s&&!l||""===n[n.length-1]||n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join("\n")+"\n"}}]),e}();ct(ki,"defaults",di);var Si=function(e){ft(n,e);var t=bt(n);function n(e){return st(this,n),t.call(this,Object.assign({},fi,e))}return n}(ki);function Ci(e,t){var n=$n(e),r=new Si(t).parse(n[0]);if(n.length>1){r.errors.unshift(new sn(n[1],"Source contains multiple documents; please use YAML.parseAllDocuments()"))}return r}var Oi={createNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;void 0===n&&"string"==typeof t&&(n=t,t=!0);var r=Object.assign({},ki.defaults[fi.version],fi),i=new ci(r);return i.createNode(e,t,n)},defaultOptions:fi,Document:Si,parse:function(e,t){var n=Ci(e,t);if(n.warnings.forEach((function(e){return _r(e)})),n.errors.length>0)throw n.errors[0];return n.toJSON()},parseAllDocuments:function(e,t){var n,r,i=[],o=Lt($n(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=new Si(t);s.parse(a,n),i.push(s),n=s}}catch(e){o.e(e)}finally{o.f()}return i},parseCST:$n,parseDocument:Ci,scalarOptions:hi,stringify:function(e,t){var n=new Si(t);return n.contents=e,String(n)}},Ti=Te(Object.freeze({__proto__:null,YAML:Oi})).YAML,Li=Le((function(e,t){e.exports=function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),v=h&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),m=v||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=v||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),x=f&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(f=!1,l=!0);var k=y&&(u||f&&(null==x||x<12.11)),S=n||a&&s>=9;function C(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var O,T=function(e,t){var n=e.className,r=C(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function L(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function $(e,t){return L(e).appendChild(t)}function M(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=M(e,t,n,r);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function E(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function j(e,t){var n=e.className;C(t).test(n)||(e.className+=(n?" ":"")+t)}function P(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!C(n[r]).test(t)&&(t+=" "+n[r]);return t}O=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var _=function(e){e.select()};function I(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function R(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function W(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}v?_=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(_=function(e){try{e.select()}catch(e){}});var D=function(){this.id=null,this.f=null,this.time=0,this.handler=I(this.onTimeout,this)};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}D.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},D.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var F=50,B={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},V={origin:"*mouse"},U={origin:"+move"};function q(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var G=[""];function Y(e){for(;G.length<=e;)G.push(K(G)+" ");return G[e]}function K(e){return e[e.length-1]}function J(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function X(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function Q(){}function Z(e,t){var n;return Object.create?n=Object.create(e):(Q.prototype=e,n=new Q),t&&R(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"Â€"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function ae(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var ue=null;function ce(e,t,n){var r;ue=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ue=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ue=i)}return null!=r?r:ue}var fe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var c=e.length,f=[],h=0;h<c;++h)f.push(n(e.charCodeAt(h)));for(var d=0,p=u;d<c;++d){var v=f[d];"m"==v?f[d]=p:p=v}for(var g=0,m=u;g<c;++g){var y=f[g];"1"==y&&"r"==m?f[g]="n":o.test(y)&&(m=y,"r"==y&&(f[g]="R"))}for(var b=1,w=f[0];b<c-1;++b){var x=f[b];"+"==x&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=x||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=x}for(var k=0;k<c;++k){var S=f[k];if(","==S)f[k]="N";else if("%"==S){var C=void 0;for(C=k+1;C<c&&"%"==f[C];++C);for(var O=k&&"!"==f[k-1]||C<c&&"1"==f[C]?"1":"N",T=k;T<C;++T)f[T]=O;k=C-1}}for(var L=0,$=u;L<c;++L){var M=f[L];"L"==$&&"1"==M?f[L]="L":o.test(M)&&($=M)}for(var A=0;A<c;++A)if(i.test(f[A])){var N=void 0;for(N=A+1;N<c&&i.test(f[N]);++N);for(var E="L"==(A?f[A-1]:u),j=E==("L"==(N<c?f[N]:u))?E?"L":"R":u,P=A;P<N;++P)f[P]=j;A=N-1}for(var _,I=[],R=0;R<c;)if(a.test(f[R])){var W=R;for(++R;R<c&&a.test(f[R]);++R);I.push(new l(0,W,R))}else{var D=R,z=I.length,F="rtl"==t?1:0;for(++R;R<c&&"L"!=f[R];++R);for(var B=D;B<R;)if(s.test(f[B])){D<B&&(I.splice(z,0,new l(1,D,B)),z+=F);var H=B;for(++B;B<R&&s.test(f[B]);++B);I.splice(z,0,new l(2,H,B)),z+=F,D=B}else++B;D<R&&I.splice(z,0,new l(1,D,R))}return"ltr"==t&&(1==I[0].level&&(_=e.match(/^\s+/))&&(I[0].from=_[0].length,I.unshift(new l(0,0,_[0].length))),1==K(I).level&&(_=e.match(/\s+$/))&&(K(I).to-=_[0].length,I.push(new l(0,c-_[0].length,c)))),"rtl"==t?I.reverse():I}}();function he(e,t){var n=e.order;return null==n&&(n=e.order=fe(e.text,t)),n}var de=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||de).concat(n)}};function ve(e,t){return e._handlers&&e._handlers[t]||de}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=z(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function me(e,t){var n=ve(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),me(e,n||t.type,e,t),Ce(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(n,t[r])&&n.push(t[r])}function we(e,t){return ve(e,t).length>0}function xe(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function ke(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Se(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Oe(e){ke(e),Se(e)}function Te(e){return e.target||e.srcElement}function Le(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var $e,Me,Ae=function(){if(a&&s<9)return!1;var e=M("div");return"draggable"in e||"dragDrop"in e}();function Ne(e){if(null==$e){var t=M("span","â€‹");$(e,M("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&($e=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=$e?M("span","â€‹"):M("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ee(e){if(null!=Me)return Me;var t=$(e,document.createTextNode("AØ®A")),n=O(t,0,1).getBoundingClientRect(),r=O(t,1,2).getBoundingClientRect();return L(e),!(!n||n.left==n.right)&&(Me=r.right-n.right<3)}var je,Pe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},_e=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ie="oncopy"in(je=M("div"))||(je.setAttribute("oncopy","return;"),"function"==typeof je.oncopy),Re=null;function We(e){if(null!=Re)return Re;var t=$(e,M("span","x")),n=t.getBoundingClientRect(),r=O(t,0,1).getBoundingClientRect();return Re=Math.abs(n.left-r.left)>1}var De={},ze={};function Fe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),De[e]=t}function Be(e,t){ze[e]=t}function He(e){if("string"==typeof e&&ze.hasOwnProperty(e))e=ze[e];else if(e&&"string"==typeof e.name&&ze.hasOwnProperty(e.name)){var t=ze[e.name];"string"==typeof t&&(t={name:t}),(e=Z(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=He(t);var n=De[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if(Ue.hasOwnProperty(t.name)){var i=Ue[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ue={};function qe(e,t){R(t,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function Ge(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ye(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ke(e,t,n){return!e.startState||e.startState(t,n)}var Je=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Xe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Qe(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ze(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function et(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function tt(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function nt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function rt(e,t){return t>=e.first&&t<e.first+e.size}function it(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,n){if(void 0===n&&(n=null),!(this instanceof ot))return new ot(e,t,n);this.line=e,this.ch=t,this.sticky=n}function at(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==at(e,t)}function lt(e){return ot(e.line,e.ch)}function ut(e,t){return at(e,t)<0?t:e}function ct(e,t){return at(e,t)<0?e:t}function ft(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return ot(e.first,0);var n=e.first+e.size-1;return t.line>n?ot(n,Xe(e,n).text.length):dt(t,Xe(e,t.line).text.length)}function dt(e,t){var n=e.ch;return null==n||n>t?ot(e.line,t):n<0?ot(e.line,0):e}function pt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ht(e,t[r]);return n}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Je.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Je.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=W(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return W(this.string,null,this.tabSize)-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var vt=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function mt(e,t,n,r){var i=[e.state.modeGen],o={};Tt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,Tt(e,t.text,s.mode,n,(function(e,t){for(var n=l;u<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function yt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=bt(e,tt(t)),i=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,r.state),o=mt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function bt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new gt(r,!0,t);var o=Lt(e,t,n),a=o>r.first&&Xe(r,o-1).stateAfter,s=a?gt.fromSaved(r,a,o):new gt(r,Ke(r.mode),o);return r.iter(o,t,(function(n){wt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function wt(e,t,n,r){var i=e.doc.mode,o=new Je(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&xt(i,n.state);!o.eol();)kt(i,o,n.state),o.start=o.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ye(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function kt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ye(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,n){return t instanceof vt?new gt(e,Ge(e.mode,t.state),n,t.lookAhead):new gt(e,Ge(e.mode,t),n)},gt.prototype.save=function(e){var t=!1!==e?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new vt(t,this.maxLookAhead):t};var St=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ct(e,t,n,r){var i,o,a=e.doc,s=a.mode,l=Xe(a,(t=ht(a,t)).line),u=bt(e,t.line,n),c=new Je(l.text,e.options.tabSize,u);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=kt(s,c,u.state),r&&o.push(new St(c,i,Ge(a.mode,u.state)));return r?o:new St(c,i,u.state)}function Ot(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Tt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new Je(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&Ot(xt(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&wt(e,t,r,f.pos),f.pos=t.length,l=null):l=Ot(kt(n,f,r.state,h),o),h){var d=h[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!s||c!=l){for(;u<f.start;)i(u=Math.min(f.start,u+5e3),c);c=l}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function Lt(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Xe(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof vt?u.lookAhead:0)<=o.modeFrontier))return s;var c=W(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function $t(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Xe(e,r).stateAfter;if(i&&(!(i instanceof vt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Mt=!1,At=!1;function Nt(){Mt=!0}function Et(){At=!0}function jt(e,t,n){this.marker=e,this.from=t,this.to=n}function Pt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function _t(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function It(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Rt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new jt(a,o.from,s?null:o.to))}}return r}function Wt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new jt(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Dt(e,t){if(t.full)return null;var n=rt(e,t.from.line)&&Xe(e,t.from.line).markedSpans,r=rt(e,t.to.line)&&Xe(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==at(t.from,t.to),s=Rt(n,i,a),l=Wt(r,o,a),u=1==t.text.length,c=K(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=Pt(l,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(l)for(var p=0;p<l.length;++p){var v=l[p];null!=v.to&&(v.to+=c),null==v.from?Pt(s,v.marker)||(v.from=c,u&&(s||(s=[])).push(v)):(v.from+=c,u&&(s||(s=[])).push(v))}s&&(s=zt(s)),l&&l!=s&&(l=zt(l));var g=[s];if(!u){var m,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(m||(m=[])).push(new jt(s[b].marker,null,null));for(var w=0;w<y;++w)g.push(m);g.push(l)}return g}function zt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ft(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(at(u.to,s.from)<0||at(u.from,s.to)>0)){var c=[l,1],f=at(u.from,s.from),h=at(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function Bt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function Ut(e){return e.inclusiveRight?1:0}function qt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=at(r.from,i.from)||Vt(e)-Vt(t);if(o)return-o;var a=at(r.to,i.to)||Ut(e)-Ut(t);return a||t.id-e.id}function Gt(e,t){var n,r=At&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||qt(n,i.marker)<0)&&(n=i.marker);return n}function Yt(e){return Gt(e,!0)}function Kt(e){return Gt(e,!1)}function Jt(e,t){var n,r=At&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||qt(n,o.marker)<0)&&(n=o.marker)}return n}function Xt(e,t,n,r,i){var o=Xe(e,t),a=At&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=at(u.from,n)||Vt(l.marker)-Vt(i),f=at(u.to,r)||Ut(l.marker)-Ut(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.to,n)>=0:at(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.from,r)<=0:at(u.from,r)<0)))return!0}}}function Qt(e){for(var t;t=Yt(e);)e=t.find(-1,!0).line;return e}function Zt(e){for(var t;t=Kt(e);)e=t.find(1,!0).line;return e}function en(e){for(var t,n;t=Kt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function tn(e,t){var n=Xe(e,t),r=Qt(n);return n==r?t:tt(r)}function nn(e,t){if(t>e.lastLine())return t;var n,r=Xe(e,t);if(!rn(e,r))return t;for(;n=Kt(r);)r=n.find(1,!0).line;return tt(r)+1}function rn(e,t){var n=At&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&on(e,t,r))return!0}}function on(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return on(e,r.line,Pt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&on(e,t,i))return!0}function an(e){for(var t=0,n=(e=Qt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function sn(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Yt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Kt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function ln(e){var t=e.display,n=e.doc;t.maxLine=Xe(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var un=function(e,t,n){this.text=e,Ht(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Bt(e),Ht(e,n);var i=r?r(e):1;i!=e.height&&et(e,i)}function fn(e){e.parent=null,Bt(e)}un.prototype.lineNo=function(){return tt(this)},xe(un);var hn={},dn={};function pn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?dn:hn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function vn(e,t){var n=A("span",null,null,l?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=mn,Ee(e.display.measure)&&(a=he(o,e.doc.direction))&&(r.addToken=bn(r.addToken,a)),r.map=[],xn(o,r,yt(e,o,t!=e.display.externalMeasured&&tt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=P(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=P(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ne(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return me(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=P(r.pre.className,r.textClass||"")),r}function gn(e){var t=M("span","â€¢","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function mn(e,t,n,r,i,o,l){if(t){var u,c=e.splitSpaces?yn(t,e.trailingSpace):t,f=e.cm.state.specialChars,h=!1;if(f.test(t)){u=document.createDocumentFragment();for(var d=0;;){f.lastIndex=d;var p=f.exec(t),v=p?p.index-d:t.length-d;if(v){var g=document.createTextNode(c.slice(d,d+v));a&&s<9?u.appendChild(M("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+v,g),e.col+=v,e.pos+=v}if(!p)break;d+=v+1;var m=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(m=u.appendChild(M("span",Y(b),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((m=u.appendChild(M("span","\r"==p[0]?"â":"â¤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?u.appendChild(M("span",[m])):u.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||h||o||l){var w=n||"";r&&(w+=r),i&&(w+=i);var x=M("span",[u],w,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&x.setAttribute(k,l[k]);return e.content.appendChild(x)}e.content.appendChild(u)}}function yn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="Â "),r+=o,n=" "==o}return r}function bn(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>u&&f.from<=u);h++);if(f.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,f.to-u),i,o,null,s,l),o=null,r=r.slice(f.to-u),u=f.to}}}function wn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function xn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,f,h,d=i.length,p=0,v=1,g="",m=0;;){if(m==p){l=u=c=s="",h=null,f=null,m=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],k=x.marker;if("bookmark"==k.type&&x.from==p&&k.widgetNode)y.push(k);else if(x.from<=p&&(null==x.to||x.to>p||k.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&x.from==p&&(c+=" "+k.startStyle),k.endStyle&&x.to==m&&(b||(b=[])).push(k.endStyle,x.to),k.title&&((h||(h={})).title=k.title),k.attributes)for(var S in k.attributes)(h||(h={}))[S]=k.attributes[S];k.collapsed&&(!f||qt(f.marker,k)<0)&&(f=x)}else x.from>p&&m>x.from&&(m=x.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==m&&(u+=" "+b[C]);if(!f||f.from==p)for(var O=0;O<y.length;++O)wn(t,0,y[O]);if(f&&(f.from||0)==p){if(wn(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var T=Math.min(d,m);;){if(g){var L=p+g.length;if(!f){var $=L>T?g.slice(0,T-p):g;t.addToken(t,$,a?a+l:l,c,p+$.length==m?u:"",s,h)}if(L>=T){g=g.slice(T-p),p=T;break}p=L,c=""}g=i.slice(o,o=n[v++]),a=pn(n[v++],t.cm.options)}}else for(var M=1;M<n.length;M+=2)t.addToken(t,i.slice(o,o=n[M]),pn(n[M+1],t.cm.options))}function kn(e,t,n){this.line=t,this.rest=en(t),this.size=this.rest?tt(K(this.rest))-n+1:1,this.node=this.text=null,this.hidden=rn(e,t)}function Sn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new kn(e.doc,Xe(e.doc,o),o);r=o+a.size,i.push(a)}return i}var Cn=null;function On(e){Cn?Cn.ops.push(e):e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}function Tn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Ln(e,t){var n=e.ownsGroup;if(n)try{Tn(n)}finally{Cn=null,t(n)}}var $n=null;function Mn(e,t){var n=ve(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:$n?r=$n:(r=$n=[],setTimeout(An,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function An(){var e=$n;$n=null;for(var t=0;t<e.length;++t)e[t]()}function Nn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?_n(e,t):"gutter"==o?Rn(e,t,n,r):"class"==o?In(e,t):"widget"==o&&Wn(e,t,r)}t.changes=null}function En(e){return e.node==e.text&&(e.node=M("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function jn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=En(t);t.background=r.insertBefore(M("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Pn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):vn(e,t)}function _n(e,t){var n=t.text.className,r=Pn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,In(e,t)):n&&(t.text.className=n)}function In(e,t){jn(e,t),t.line.wrapClass?En(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Rn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=En(t);t.gutterBackground=M("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=En(t),s=t.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(M("div",it(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(M("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Wn(e,t,n){t.alignable&&(t.alignable=null);for(var r=C("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);zn(e,t,n)}function Dn(e,t,n,r){var i=Pn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),In(e,t),Rn(e,t,n,r),zn(e,t,r),t.node}function zn(e,t,n){if(Fn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Fn(e,t.rest[r],t,n,!1)}function Fn(e,t,n,r,i){if(t.widgets)for(var o=En(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=M("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Bn(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Mn(l,"redraw")}}function Bn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),$(t.display.measure,M("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var n=Te(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Un(e){return e.lineSpace.offsetTop}function qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Gn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=$(e.measure,M("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Yn(e){return F-e.display.nativeBarWidth}function Kn(e){return e.display.scroller.clientWidth-Yn(e)-e.display.barWidth}function Jn(e){return e.display.scroller.clientHeight-Yn(e)-e.display.barHeight}function Xn(e,t,n){var r=e.options.lineWrapping,i=r&&Kn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Qn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(tt(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Zn(e,t){var n=tt(t=Qt(t)),r=e.display.externalMeasured=new kn(e.doc,t,n);r.lineN=n;var i=r.built=vn(e,r);return r.text=i.pre,$(e.display.lineMeasure,i.pre),r}function er(e,t,n,r){return rr(e,nr(e,t),n,r)}function tr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ir(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function nr(e,t){var n=tt(t),r=tr(e,n);r&&!r.text?r=null:r&&r.changes&&(Nn(e,r,n,Nr(e)),e.curOp.forceUpdate=!0),r||(r=Zn(e,t));var i=Qn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function rr(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xn(e,t.view,t.rect),t.hasHeights=!0),(o=lr(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var ir,or={left:0,right:0,top:0,bottom:0};function ar(e,t,n){for(var r,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?o=1+(i=t-s):(u==e.length-3||t==l&&e[u+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function sr(e,t){var n=or;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function lr(e,t,n,r){var i,o=ar(t.map,n,r),l=o.node,u=o.start,c=o.end,f=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;u&&oe(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():sr(O(l,u,c).getClientRects(),r)).left||i.right||0==u)break;c=u,u-=1,f="right"}a&&s<11&&(i=ur(e.display.measure,i))}else{var d;u>0&&(f=r="right"),i=e.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==r?d.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Ar(e.display),top:p.top,bottom:p.bottom}:or}for(var v=i.top-t.rect.top,g=i.bottom-t.rect.top,m=(v+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(m<y[b]);b++);var w=b?y[b-1]:0,x=y[b],k={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:w,bottom:x};return i.left||i.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=v,k.rbottom=g),k}function ur(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!We(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function fr(e){e.display.externalMeasure=null,L(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function hr(e){fr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function dr(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pr(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function vr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Hn(e.widgets[n]));return t}function gr(e,t,n,r,i){if(!i){var o=vr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=an(t);if("local"==r?a+=Un(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:pr());var l=s.left+("window"==r?0:dr());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function mr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=dr(),i-=pr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function yr(e,t,n,r,i){return r||(r=Xe(e.doc,t.line)),gr(e,r,er(e,r,t.ch,i),n)}function br(e,t,n,r,i,o){function a(t,a){var s=rr(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,gr(e,r,s,n)}r=r||Xe(e.doc,t.line),i||(i=nr(e,r));var s=he(r,e.doc.direction),l=t.ch,u=t.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(e,t,n){return a(n?e-1:e,1==s[t].level!=n)}var f=ce(s,l,u),h=ue,d=c(l,f,"before"==u);return null!=h&&(d.other=c(l,h,"before"!=u)),d}function wr(e,t){var n=0;t=ht(e.doc,t),e.options.lineWrapping||(n=Ar(e.display)*t.ch);var r=Xe(e.doc,t.line),i=an(r)+Un(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function xr(e,t,n,r,i){var o=ot(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function kr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return xr(r.first,0,null,-1,-1);var i=nt(r,n),o=r.first+r.size-1;if(i>o)return xr(r.first+r.size-1,Xe(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=Xe(r,i);;){var s=Tr(e,a,i,t,n),l=Jt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=Xe(r,i=u.line)}}function Sr(e,t,n,r){r-=vr(t);var i=t.text.length,o=se((function(t){return rr(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=se((function(t){return rr(e,n,t).top>r}),o,i)}}function Cr(e,t,n,r){return n||(n=nr(e,t)),Sr(e,t,n,gr(e,t,rr(e,n,r),"line").top)}function Or(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Tr(e,t,n,r,i){i-=an(t);var o=nr(e,t),a=vr(t),s=0,l=t.text.length,u=!0,c=he(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?$r:Lr)(e,t,n,o,c,r,i);s=(u=1!=f.level)?f.from:f.to-1,l=u?f.to:f.from-1}var h,d,p=null,v=null,g=se((function(t){var n=rr(e,o,t);return n.top+=a,n.bottom+=a,!!Or(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,v=n),!0)}),s,l),m=!1;if(v){var y=r-v.left<v.right-r,b=y==u;g=p+(b?0:1),d=b?"after":"before",h=y?v.left:v.right}else{u||g!=l&&g!=s||g++,d=0==g?"after":g==t.text.length?"before":rr(e,o,g-(u?1:0)).bottom+a<=i==u?"after":"before";var w=br(e,ot(n,g,d),"line",t,o);h=w.left,m=i<w.top?-1:i>=w.bottom?1:0}return xr(n,g=ae(t.text,g,1),d,m,r-h)}function Lr(e,t,n,r,i,o,a){var s=se((function(s){var l=i[s],u=1!=l.level;return Or(br(e,ot(n,u?l.to:l.from,u?"before":"after"),"line",t,r),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=br(e,ot(n,u?l.from:l.to,u?"after":"before"),"line",t,r);Or(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function $r(e,t,n,r,i,o,a){var s=Sr(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=l)){var p=rr(e,r,1!=d.level?Math.min(u,d.to)-1:Math.max(l,d.from)).right,v=p<o?o-p+1e9:p-o;(!c||f>v)&&(c=d,f=v)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Mr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ir){ir=M("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)ir.appendChild(document.createTextNode("x")),ir.appendChild(M("br"));ir.appendChild(document.createTextNode("x"))}$(e.measure,ir);var n=ir.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),L(e.measure),n||1}function Ar(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=M("span","xxxxxxxxxx"),n=M("pre",[t],"CodeMirror-line-like");$(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Nr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:Er(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Er(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function jr(e){var t=Mr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Ar(e.display)-3);return function(i){if(rn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Pr(e){var t=e.doc,n=jr(e);t.iter((function(e){var t=n(e);t!=e.height&&et(e,t)}))}function _r(e,t,n,r){var i=e.display;if(!n&&"true"==Te(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(e){return null}var l,u=kr(e,o,a);if(r&&u.xRel>0&&(l=Xe(e.doc,u.line).text).length==u.ch){var c=W(l,l.length,e.options.tabSize)-l.length;u=ot(u.line,Math.max(0,Math.round((o-Gn(e.display).left)/Ar(e.display))-c))}return u}function Ir(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Rr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)At&&tn(e.doc,t)<i.viewTo&&Dr(e);else if(n<=i.viewFrom)At&&nn(e.doc,n+r)>i.viewFrom?Dr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Dr(e);else if(t<=i.viewFrom){var o=zr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Dr(e)}else if(n>=i.viewTo){var a=zr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Dr(e)}else{var s=zr(e,t,t,-1),l=zr(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(Sn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Dr(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function Wr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Ir(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==z(a,n)&&a.push(n)}}}function Dr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function zr(e,t,n,r){var i,o=Ir(e,t),a=e.display.view;if(!At||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;tn(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Fr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Sn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Sn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Ir(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Sn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Ir(e,n)))),r.viewTo=n}function Br(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Hr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Ur(e,s.head,i),l||Gr(e,s,o)}}return r}function Ur(e,t,n){var r=br(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(M("div","Â ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=yr(e,t,"div",null,null);i.style.width=Math.max(0,o.right-o.left)+"px"}if(r.other){var a=n.appendChild(M("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function qr(e,t){return e.top-t.top||e.left-t.left}function Gr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=Gn(e.display),s=a.left,l=Math.max(r.sizerWidth,Kn(e)-r.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function f(t,n,r){var o,a,f=Xe(i,t),h=f.text.length;function d(n,r){return yr(e,ot(t,n),"div",f,r)}function p(t,n,r){var i=Cr(e,f,null,t),o="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var v=he(f,i.direction);return le(v,n||0,null==r?h:r,(function(e,t,i,f){var g="ltr"==i,m=d(e,g?"left":"right"),y=d(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==h,x=0==f,k=!v||f==v.length-1;if(y.top-m.top<=3){var S=(u?w:b)&&k,C=(u?b:w)&&x?s:(g?m:y).left,O=S?l:(g?y:m).right;c(C,m.top,O-C,m.bottom)}else{var T,L,$,M;g?(T=u&&b&&x?s:m.left,L=u?l:p(e,i,"before"),$=u?s:p(t,i,"after"),M=u&&w&&k?l:y.right):(T=u?p(e,i,"before"):s,L=!u&&b&&x?l:m.right,$=!u&&w&&k?s:y.left,M=u?p(t,i,"after"):l),c(T,m.top,L-T,m.bottom),m.bottom<y.top&&c(s,m.bottom,null,y.top),c($,y.top,M-$,y.bottom)}(!o||qr(m,o)<0)&&(o=m),qr(y,o)<0&&(o=y),(!a||qr(m,a)<0)&&(a=m),qr(y,a)<0&&(a=y)})),{start:o,end:a}}var h=t.from(),d=t.to();if(h.line==d.line)f(h.line,h.ch,d.ch);else{var p=Xe(i,h.line),v=Xe(i,d.line),g=Qt(p)==Qt(v),m=f(h.line,h.ch,g?p.text.length+1:null).end,y=f(d.line,g?0:null,d.ch).start;g&&(m.top<y.top-2?(c(m.right,m.top,null,m.bottom),c(s,y.top,y.left,y.bottom)):c(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&c(s,m.bottom,null,y.top)}n.appendChild(o)}function Yr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Qr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Kr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Xr(e))}function Jr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Qr(e))}),100)}function Xr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(me(e,"focus",e,t),e.state.focused=!0,j(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Yr(e))}function Qr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(me(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Zr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-n,n=c}else{var f=i.node.getBoundingClientRect();l=f.bottom-f.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var h=i.line.height-l;if((h>.005||h<-.005)&&(et(i.line,l),ei(i.line),i.rest))for(var d=0;d<i.rest.length;d++)ei(i.rest[d]);if(u>e.display.sizerWidth){var p=Math.ceil(u/Ar(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function ei(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ti(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Un(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=nt(t,r),a=nt(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=nt(t,an(Xe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=nt(t,an(Xe(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function ni(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=M("div","â€‹",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Un(e.display))+"px;\n                         height: "+(t.bottom-t.top+Yn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ri(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?ot(t.line,t.ch+1,"before"):t,t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var a=!1,s=br(e,t),l=n&&n!=t?br(e,n):s,u=oi(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(hi(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(pi(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}function ii(e,t){var n=oi(e,t);null!=n.scrollTop&&hi(e,n.scrollTop),null!=n.scrollLeft&&pi(e,n.scrollLeft)}function oi(e,t){var n=e.display,r=Mr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Jn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+qn(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.options.fixedGutter?0:n.gutters.offsetWidth,h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-f,d=Kn(e)-n.gutters.offsetWidth,p=t.right-t.left>d;return p&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<h?a.scrollLeft=Math.max(0,t.left+f-(p?0:10)):t.right>d+h-3&&(a.scrollLeft=t.right+(p?0:10)-d),a}function ai(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function si(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function li(e,t,n){null==t&&null==n||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function ui(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,fi(e,wr(e,t.from),wr(e,t.to),t.margin))}function fi(e,t,n,r){var i=oi(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});li(e,i.scrollLeft,i.scrollTop)}function hi(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Hi(e,{top:t}),di(e,t,!0),n&&Hi(e),_i(e,100))}function di(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function pi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Gi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function vi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Yn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var gi=function(e,t,n){this.cm=n;var r=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),pe(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),pe(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},gi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gi.prototype.zeroWidthHack=function(){var e=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new D,this.disableVert=new D},gi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},gi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var mi=function(){};function yi(e,t){t||(t=vi(e));var n=e.display.barWidth,r=e.display.barHeight;bi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Zr(e),bi(e,vi(e)),n=e.display.barWidth,r=e.display.barHeight}function bi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}mi.prototype.update=function(){return{bottom:0,right:0}},mi.prototype.setScrollLeft=function(){},mi.prototype.setScrollTop=function(){},mi.prototype.clear=function(){};var wi={native:gi,null:mi};function xi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new wi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?pi(e,t):hi(e,t)}),e),e.display.scrollbars.addClass&&j(e.display.wrapper,e.display.scrollbars.addClass)}var ki=0;function Si(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ki,markArrays:null},On(e.curOp)}function Ci(e){var t=e.curOp;t&&Ln(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Oi(e)}))}function Oi(e){for(var t=e.ops,n=0;n<t.length;n++)Ti(t[n]);for(var r=0;r<t.length;r++)Li(t[r]);for(var i=0;i<t.length;i++)$i(t[i]);for(var o=0;o<t.length;o++)Mi(t[o]);for(var a=0;a<t.length;a++)Ai(t[a])}function Ti(e){var t=e.cm,n=t.display;Wi(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ri(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Li(e){e.updatedDisplay=e.mustUpdate&&Fi(e.cm,e.update)}function $i(e){var t=e.cm,n=t.display;e.updatedDisplay&&Zr(t),e.barMeasure=vi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=er(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Yn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Kn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Mi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&pi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==E();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&yi(t,e.barMeasure),e.updatedDisplay&&qi(t,e.barMeasure),e.selectionChanged&&Yr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Kr(e.cm)}function Ai(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&Bi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&di(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&pi(t,e.scrollLeft,!0,!0),e.scrollToPos&&ni(t,ri(t,ht(r,e.scrollToPos.from),ht(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||me(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&me(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ni(e,t){if(e.curOp)return t();Si(e);try{return t()}finally{Ci(e)}}function Ei(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Si(e);try{return t.apply(e,arguments)}finally{Ci(e)}}}function ji(e){return function(){if(this.curOp)return e.apply(this,arguments);Si(this);try{return e.apply(this,arguments)}finally{Ci(this)}}}function Pi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Si(t);try{return e.apply(this,arguments)}finally{Ci(t)}}}function _i(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,I(Ii,e))}function Ii(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=bt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ge(t.mode,r.state):null,l=mt(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&wt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return _i(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Ni(e,(function(){for(var t=0;t<i.length;t++)Wr(e,i[t],"text")}))}}var Ri=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ti(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Kn(e),this.force=n,this.dims=Nr(e),this.events=[]};function Wi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Yn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Yn(e)+"px",t.scrollbarsClipped=!0)}function Di(e){if(e.hasFocus())return null;var t=E();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function zi(e){if(e&&e.activeElt&&e.activeElt!=E()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Fi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Dr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Br(e))return!1;Yi(e)&&(Dr(e),t.dims=Nr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),At&&(o=tn(e.doc,o),a=nn(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Fr(e,o,a),n.viewOffset=an(Xe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Br(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Di(e);return l>4&&(n.lineDiv.style.display="none"),Vi(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,zi(u),L(n.cursorDiv),L(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,_i(e,400)),n.updateLineNumbers=null,!0}function Bi(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Kn(e))r&&(t.visible=ti(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qn(e.display)-Jn(e),n.top)}),t.visible=ti(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Fi(e,t))break;Zr(e);var i=vi(e);Hr(e),yi(e,i),qi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Hi(e,t){var n=new Ri(e,t);if(Fi(e,n)){Zr(e),Bi(e,n);var r=vi(e);Hr(e),yi(e,r),qi(e,r),n.finish()}}function Vi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,f=0;f<u.length;f++){var h=u[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var d=i&&null!=t&&t<=c&&h.lineNumber;h.changes&&(z(h.changes,"gutter")>-1&&(d=!1),Nn(e,h,c,n)),d&&(L(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(it(e.options,c)))),a=h.node.nextSibling}else{var p=Dn(e,h,c,n);o.insertBefore(p,a)}c+=h.size}for(;a;)a=s(a)}function Ui(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Mn(e,"gutterChanged",e)}function qi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Yn(e)+"px"}function Gi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Er(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Yi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=it(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ui(e.display),!0}return!1}function Ki(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Ji(e){var t=e.gutters,n=e.gutterSpecs;L(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=t.appendChild(M("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ui(e)}function Xi(e){Ji(e.display),Rr(e),Gi(e)}function Qi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=M("div",null,"CodeMirror-cursors"),o.measure=M("div",null,"CodeMirror-measure"),o.lineMeasure=M("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=M("div",[u],null,"position: relative"),o.sizer=M("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=M("div",null,null,"position: absolute; height: "+F+"px; width: 1px;"),o.gutters=M("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=M("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=M("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),o.wrapper.setAttribute("translate","no"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&m||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Ki(i.gutters,i.lineNumbers),Ji(o),r.init(o)}Ri.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Ri.prototype.finish=function(){for(var e=0;e<this.events.length;e++)me.apply(null,this.events[e])};var Zi=0,eo=null;function to(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function no(e){var t=to(e);return t.x*=eo,t.y*=eo,t}function ro(e,t){var r=to(t),i=r.x,o=r.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||o&&c){if(o&&y&&l)e:for(var h=t.target,d=a.view;h!=s;h=h.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==h){e.display.currentWheelTarget=h;break e}if(i&&!n&&!f&&null!=eo)return o&&c&&hi(e,Math.max(0,s.scrollTop+o*eo)),pi(e,Math.max(0,s.scrollLeft+i*eo)),(!o||o&&c)&&ke(t),void(a.wheelStartX=null);if(o&&null!=eo){var v=o*eo,g=e.doc.scrollTop,m=g+a.wrapper.clientHeight;v<0?g=Math.max(0,g+v-50):m=Math.min(e.doc.height,m+v+50),Hi(e,{top:g,bottom:m})}Zi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(eo=(eo*Zi+n)/(Zi+1),++Zi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?eo=-.53:n?eo=15:c?eo=-.7:h&&(eo=-1/3);var io=function(e,t){this.ranges=e,this.primIndex=t};io.prototype.primary=function(){return this.ranges[this.primIndex]},io.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!st(n.anchor,r.anchor)||!st(n.head,r.head))return!1}return!0},io.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new oo(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new io(e,this.primIndex)},io.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},io.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(at(t,r.from())>=0&&at(e,r.to())<=0)return n}return-1};var oo=function(e,t){this.anchor=e,this.head=t};function ao(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return at(e.from(),t.from())})),n=z(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=at(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=ct(s.from(),a.from()),c=ut(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new oo(f?c:u,f?u:c))}}return new io(t,n)}function so(e,t){return new io([new oo(e,t||e)],0)}function lo(e){return e.text?ot(e.from.line+e.text.length-1,K(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function uo(e,t){if(at(e,t.from)<0)return e;if(at(e,t.to)<=0)return lo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=lo(t).ch-t.to.ch),ot(n,r)}function co(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new oo(uo(i.anchor,t),uo(i.head,t)))}return ao(e.cm,n,e.sel.primIndex)}function fo(e,t,n){return e.line==t.line?ot(n.line,e.ch-t.ch+n.ch):ot(n.line+(e.line-t.line),e.ch)}function ho(e,t,n){for(var r=[],i=ot(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=fo(s.from,i,o),u=fo(lo(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=at(c.head,c.anchor)<0;r[a]=new oo(f?u:l,f?l:u)}else r[a]=new oo(l,l)}return new io(r,e.sel.primIndex)}function po(e){e.doc.mode=Ve(e.options,e.doc.modeOption),vo(e)}function vo(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,_i(e,100),e.state.modeGen++,e.curOp&&Rr(e)}function go(e,t){return 0==t.from.ch&&0==t.to.ch&&""==K(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function mo(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){cn(e,n,i,r),Mn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new un(u[o],i(o),r));return n}var s=t.from,l=t.to,u=t.text,c=Xe(e,s.line),f=Xe(e,l.line),h=K(u),d=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(go(e,t)){var v=a(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),d);else{var g=a(1,u.length-1);g.push(new un(h+c.text.slice(l.ch),d,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(l.ch),d);var m=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,m)}Mn(e,"change",e,t)}function yo(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function bo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Pr(e),po(e),wo(e),e.options.direction=t.direction,e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,Rr(e)}function wo(e){("rtl"==e.doc.direction?j:T)(e.display.lineDiv,"CodeMirror-rtl")}function xo(e){Ni(e,(function(){wo(e),Rr(e)}))}function ko(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function So(e,t){var n={from:lt(t.from),to:lo(t),text:Qe(e,t.from,t.to)};return Ao(e,n,t.from.line,t.to.line+1),yo(e,(function(e){return Ao(e,n,t.from.line,t.to.line+1)}),!0),n}function Co(e){for(;e.length&&K(e).ranges;)e.pop()}function Oo(e,t){return t?(Co(e.done),K(e.done)):e.done.length&&!K(e.done).ranges?K(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),K(e.done)):void 0}function To(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=Oo(i,i.lastOp==r)))a=K(o.changes),0==at(t.from,t.to)&&0==at(t.from,a.to)?a.to=lo(t):o.changes.push(So(e,t));else{var l=K(i.done);for(l&&l.ranges||Mo(e.sel,i.done),o={changes:[So(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||me(e,"historyAdded")}function Lo(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function $o(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Lo(e,o,K(i.done),t))?i.done[i.done.length-1]=t:Mo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Co(i.undone)}function Mo(e,t){var n=K(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ao(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function No(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Eo(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(No(n[i]));return r}function jo(e,t){var n=Eo(e,t),r=Dt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function Po(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?io.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&z(t,Number(c[1]))>-1&&(K(s)[f]=u[f],delete u[f])}}}return r}function _o(e,t,n,r){if(r){var i=e.anchor;if(n){var o=at(t,i)<0;o!=at(n,i)<0?(i=t,t=n):o!=at(t,n)<0&&(t=n)}return new oo(i,t)}return new oo(n||t,t)}function Io(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Bo(e,new io([_o(e.sel.primary(),t,n,i)],0),r)}function Ro(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=_o(e.sel.ranges[o],t[o],null,i);Bo(e,ao(e.cm,r,e.sel.primIndex),n)}function Wo(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Bo(e,ao(e.cm,i,e.sel.primIndex),r)}function Do(e,t,n,r){Bo(e,so(t,n),r)}function zo(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new oo(ht(e,t[n].anchor),ht(e,t[n].head))},origin:n&&n.origin};return me(e,"beforeSelectionChange",e,r),e.cm&&me(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ao(e.cm,r.ranges,r.ranges.length-1):t}function Fo(e,t,n){var r=e.history.done,i=K(r);i&&i.ranges?(r[r.length-1]=t,Ho(e,t,n)):Bo(e,t,n)}function Bo(e,t,n){Ho(e,t,n),$o(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ho(e,t,n){(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=zo(e,t,n));var r=n&&n.bias||(at(t.primary().head,e.sel.primary().head)<0?-1:1);Vo(e,qo(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||si(e.cm)}function Vo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),Mn(e,"cursorActivity",e))}function Uo(e){Vo(e,qo(e,e.sel,null,!1))}function qo(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Yo(e,a.anchor,s&&s.anchor,n,r),u=Yo(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new oo(l,u))}return i?ao(e.cm,i,t.primIndex):t}function Go(e,t,n,r,i){var o=Xe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(me(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),h=void 0;if((r<0?c:u)&&(f=Ko(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(h=at(f,n))&&(r<0?h<0:h>0))return Go(e,f,t,r,i)}var d=l.find(r<0?-1:1);return(r<0?u:c)&&(d=Ko(e,d,r,d.line==t.line?o:null)),d?Go(e,d,t,r,i):null}}return t}function Yo(e,t,n,r,i){var o=r||1,a=Go(e,t,n,o,i)||!i&&Go(e,t,n,o,!0)||Go(e,t,n,-o,i)||!i&&Go(e,t,n,-o,!0);return a||(e.cantEdit=!0,ot(e.first,0))}function Ko(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ht(e,ot(t.line-1)):null:n>0&&t.ch==(r||Xe(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+n)}function Jo(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),H)}function Xo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=ht(e,t)),n&&(r.to=ht(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),me(e,"beforeChange",e,r),e.cm&&me(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Qo(e,t,n){if(e.cm){if(!e.cm.curOp)return Ei(e.cm,Qo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=Xo(e,t,!0))){var r=Mt&&!n&&Ft(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Zo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Zo(e,t)}}function Zo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=at(t.from,t.to)){var n=co(e,t);To(e,t,n,e.cm?e.cm.curOp.id:NaN),na(e,t,n,Dt(e,t));var r=[];yo(e,(function(e,n){n||-1!=z(r,e.history)||(sa(e.history,t),r.push(e.history)),na(e,t,null,Dt(e,t))}))}}function ea(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(Mo(i,l),n&&!i.equals(e.sel))return void Bo(e,i,{clearRedo:!1});a=i}var c=[];Mo(a,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=t,f&&!Xo(e,r,!1))return s.length=0,{};c.push(So(e,r));var o=n?co(e,r):K(s);na(e,r,o,jo(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:lo(r)});var a=[];yo(e,(function(e,t){t||-1!=z(a,e.history)||(sa(e.history,r),a.push(e.history)),na(e,r,null,jo(e,r))}))},d=i.changes.length-1;d>=0;--d){var p=h(d);if(p)return p.v}}}}function ta(e,t){if(0!=t&&(e.first+=t,e.sel=new io(J(e.sel.ranges,(function(e){return new oo(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Rr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Wr(e.cm,r,"gutter")}}function na(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ei(e.cm,na)(e,t,n,r);if(t.to.line<e.first)ta(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ta(e,i),t={from:ot(e.first,0),to:ot(t.to.line+i,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ot(o,Xe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qe(e,t.from,t.to),n||(n=co(e,t)),e.cm?ra(e.cm,t,r):mo(e,t,r),Ho(e,n,H),e.cantEdit&&Yo(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function ra(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=tt(Qt(Xe(r,o.line))),r.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&be(e),mo(r,t,n,jr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=sn(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),$t(r,o.line),_i(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Rr(e):o.line!=a.line||1!=t.text.length||go(e.doc,t)?Rr(e,o.line,a.line+1,u):Wr(e,o.line,"text");var c=we(e,"changes"),f=we(e,"change");if(f||c){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Mn(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function ia(e,t,n,r,i){var o;r||(r=n),at(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Qo(e,{from:n,to:r,text:t,origin:i})}function oa(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function aa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)oa(o.ranges[s].anchor,t,n,r),oa(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=ot(u.from.line+r,u.from.ch),u.to=ot(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function sa(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;aa(e.done,n,r,i),aa(e.undone,n,r,i)}function la(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Xe(e,ft(e,t)):i=tt(t),null==i?null:(r(o,i)&&e.cm&&Wr(e.cm,i,n),o)}function ua(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ca(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}oo.prototype.from=function(){return ct(this.anchor,this.head)},oo.prototype.to=function(){return ut(this.anchor,this.head)},oo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ua.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,fn(i),Mn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ua))){var s=[];this.collapse(s),this.children=[new ua(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new ua(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ca(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=z(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ca(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var fa=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function ha(e,t,n){an(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ai(e,n)}function da(e,t,n,r){var i=new fa(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),la(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!rn(e,t)){var r=an(t)<e.scrollTop;et(t,t.height+Hn(i)),r&&ai(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&Mn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:tt(t)),i}fa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=tt(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Hn(this);et(n,Math.max(0,n.height-o)),e&&(Ni(e,(function(){ha(e,n,-o),Wr(e,r,"widget")})),Mn(e,"lineWidgetCleared",e,this,r))}},fa.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Hn(this)-t;i&&(rn(this.doc,r)||et(r,r.height+i),n&&Ni(n,(function(){n.curOp.forceUpdate=!0,ha(n,r,i),Mn(n,"lineWidgetChanged",n,e,tt(r))})))},xe(fa);var pa=0,va=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++pa};function ga(e,t,n,r,i){if(r&&r.shared)return ya(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Ei(e.cm,ga)(e,t,n,r,i);var o=new va(e,i),a=at(t,n);if(r&&R(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Xt(e,t.line,t,n,o)||t.line!=n.line&&Xt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Et()}o.addToHistory&&To(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,(function(r){u&&o.collapsed&&!u.options.lineWrapping&&Qt(r)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&et(r,0),It(r,new jt(o,l==t.line?t.ch:null,l==n.line?n.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){rn(e,t)&&et(t,0)})),o.clearOnEnter&&pe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Nt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++pa,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Rr(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)Wr(u,c,"text");o.atomic&&Uo(u.doc),Mn(u,"markerAdded",u,o)}return o}va.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Si(e),we(this,"clear")){var n=this.find();n&&Mn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Pt(a.markedSpans,this);e&&!this.collapsed?Wr(e,tt(a),"text"):e&&(null!=s.to&&(i=tt(a)),null!=s.from&&(r=tt(a))),a.markedSpans=_t(a.markedSpans,s),null==s.from&&this.collapsed&&!rn(this.doc,a)&&e&&et(a,Mr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Qt(this.lines[l]),c=sn(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Rr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Uo(e.doc)),e&&Mn(e,"markerCleared",e,this,r,i),t&&Ci(e),this.parent&&this.parent.clear()}},va.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Pt(o.markedSpans,this);if(null!=a.from&&(n=ot(t?o:tt(o),a.from),-1==e))return n;if(null!=a.to&&(r=ot(t?o:tt(o),a.to),1==e))return r}return n&&{from:n,to:r}},va.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Ni(r,(function(){var i=t.line,o=tt(t.line),a=tr(r,o);if(a&&(cr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!rn(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=Hn(n)-s;l&&et(i,i.height+l)}Mn(r,"markerChanged",r,e)}))},va.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},va.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},xe(va);var ma=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ya(e,t,n,r,i){(r=R(r)).shared=!1;var o=[ga(e,t,n,r,i)],a=o[0],s=r.widgetNode;return yo(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(ga(e,ht(e,t),ht(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=K(o)})),new ma(o,a)}function ba(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),(function(e){return e.parent}))}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(at(o,a)){var s=ga(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function xa(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];yo(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==z(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}ma.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Mn(this,"clear")}},ma.prototype.find=function(e,t){return this.primary.find(e,t)},xe(ma);var ka=0,Sa=function(e,t,n,r,i){if(!(this instanceof Sa))return new Sa(e,t,n,r,i);null==n&&(n=0),ca.call(this,[new ua([new un("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ot(n,0);this.sel=so(o),this.history=new ko(null),this.id=++ka,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),mo(this,{from:o,to:o,text:e}),Bo(this,so(o),H)};Sa.prototype=Z(ca.prototype,{constructor:Sa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Pi((function(e){var t=ot(this.first,0),n=this.first+this.size-1;Qo(this,{from:t,to:ot(n,Xe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&li(this.cm,0,0),Bo(this,so(t),H)})),replaceRange:function(e,t,n,r){ia(this,e,t=ht(this,t),n=n?ht(this,n):t,r)},getRange:function(e,t,n){var r=Qe(this,ht(this,e),ht(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(rt(this,e))return Xe(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Xe(this,e)),Qt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Pi((function(e,t,n){Do(this,ht(this,"number"==typeof e?ot(e,t||0):e),null,n)})),setSelection:Pi((function(e,t,n){Do(this,ht(this,e),ht(this,t||e),n)})),extendSelection:Pi((function(e,t,n){Io(this,ht(this,e),t&&ht(this,t),n)})),extendSelections:Pi((function(e,t){Ro(this,pt(this,e),t)})),extendSelectionsBy:Pi((function(e,t){Ro(this,pt(this,J(this.sel.ranges,e)),t)})),setSelections:Pi((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new oo(ht(this,e[i].anchor),ht(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Bo(this,ao(this.cm,r,t),n)}})),addSelection:Pi((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new oo(ht(this,e),ht(this,t||e))),Bo(this,ao(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Qe(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Qe(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Pi((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&ho(this,r,t),l=r.length-1;l>=0;l--)Qo(this,r[l]);s?Fo(this,s):this.cm&&si(this.cm)})),undo:Pi((function(){ea(this,"undo")})),redo:Pi((function(){ea(this,"redo")})),undoSelection:Pi((function(){ea(this,"undo",!0)})),redoSelection:Pi((function(){ea(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new ko(this.history),yo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Po(this.history.done),undone:Po(this.history.undone)}},setHistory:function(e){var t=this.history=new ko(this.history);t.done=Po(e.done.slice(0),null,!0),t.undone=Po(e.undone.slice(0),null,!0)},setGutterMarker:Pi((function(e,t,n){return la(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Pi((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&la(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!rt(this,e))return null;if(t=e,!(e=Xe(this,e)))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Pi((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(C(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Pi((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(C(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Pi((function(e,t,n){return da(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ga(this,ht(this,e),ht(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ga(this,e=ht(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Xe(this,(e=ht(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ht(this,e),t=ht(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),ht(this,ot(n,t))},indexFromPos:function(e){var t=(e=ht(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Sa(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Sa(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],wa(r,ba(this)),r},unlinkDoc:function(e){if(e instanceof Rs&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xa(ba(this));break}if(e.history==this.history){var n=[e.id];yo(e,(function(e){return n.push(e.id)}),!0),e.history=new ko(null),e.history.done=Po(this.history.done,n),e.history.undone=Po(this.history.undone,n)}},iterLinkedDocs:function(e){yo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Pi((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&xo(this.cm))}))}),Sa.prototype.eachLine=Sa.prototype.iter;var Ca=0;function Oa(e){var t=this;if($a(t),!ye(t,e)&&!Vn(t.display,e)){ke(e),a&&(Ca=+new Date);var n=_r(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(){++s==i&&Ei(t,(function(){var e={from:n=ht(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Qo(t.doc,e),Fo(t.doc,so(ht(t.doc,n),ht(t.doc,lo(e))))}))()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==z(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},r.readAsText(e)}},c=0;c<r.length;c++)u(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Ho(t.doc,so(n,n)),h)for(var d=0;d<h.length;++d)ia(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ta(e,t){if(a&&(!e.state.draggingText||+new Date-Ca<100))Oe(t);else if(!ye(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}function La(e,t){var n=_r(e,t);if(n){var r=document.createDocumentFragment();Ur(e,n,r),e.display.dragCursor||(e.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),$(e.display.dragCursor,r)}}function $a(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ma(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Aa=!1;function Na(){Aa||(Ea(),Aa=!0)}function Ea(){var e;pe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ma(ja)}),100))})),pe(window,"blur",(function(){return Ma(Qr)}))}function ja(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Pa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},_a=0;_a<10;_a++)Pa[_a+48]=Pa[_a+96]=String(_a);for(var Ia=65;Ia<=90;Ia++)Pa[Ia]=String.fromCharCode(Ia);for(var Ra=1;Ra<=12;Ra++)Pa[Ra+111]=Pa[Ra+63235]="F"+Ra;var Wa={};function Da(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function za(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=J(n.split(" "),Da),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function Fa(e,t,n,r){var i=(t=Ua(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Fa(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Fa(e,t.fallthrough[o],n,r);if(a)return a}}}function Ba(e){var t="string"==typeof e?e:Pa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ha(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Va(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=Pa[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ha(n,e,t))}function Ua(e){return"string"==typeof e?Wa[e]:e}function qa(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&at(o.from,K(r).to)<=0;){var a=r.pop();if(at(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Ni(e,(function(){for(var t=r.length-1;t>=0;t--)ia(e.doc,"",r[t].from,r[t].to,"+delete");si(e)}))}function Ga(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ya(e,t,n){var r=Ga(e,t.ch,n);return null==r?null:new ot(t.line,r,n<0?"after":"before")}function Ka(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=he(n,t.doc.direction);if(o){var a,s=i<0?K(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=nr(t,n);a=i<0?n.text.length-1:0;var c=rr(t,u,a).top;a=se((function(e){return rr(t,u,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Ga(n,a,1))}else a=i<0?s.to:s.from;return new ot(r,a,l)}}return new ot(r,i<0?n.text.length:0,i<0?"before":"after")}function Ja(e,t,n,r){var i=he(t,e.doc.direction);if(!i)return Ya(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ce(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ya(t,n,r);var s,l=function(e,n){return Ga(t,e instanceof ot?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||nr(e,t),Cr(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,h=l(n,f?1:-1);if(null!=h&&(f?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var d=f?"before":"after";return new ot(n.line,h,d)}}var p=function(e,t,r){for(var o=function(e,t){return t?new ot(n.line,l(e,1),"before"):new ot(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},v=p(o+r,r,c);if(v)return v;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==t.text.length||!(v=p(r>0?0:i.length-1,r,u(g)))?null:v}Wa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Wa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Wa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Wa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Wa.default=y?Wa.macDefault:Wa.pcDefault;var Xa={selectAll:Jo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return qa(e,(function(t){if(t.empty()){var n=Xe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return qa(e,(function(t){return{from:ot(t.from().line,0),to:ht(e.doc,ot(t.to().line+1,0))}}))},delLineLeft:function(e){return qa(e,(function(e){return{from:ot(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Qa(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Za(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),U)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),U)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?es(e,t.head):r}),U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=W(e.getLine(o.line),o.ch,r);t.push(Y(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ni(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Xe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ot(i.line,i.ch-1)),i.ch>0)i=new ot(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ot(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Xe(e.doc,i.line-1).text;a&&(i=new ot(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ot(i.line-1,a.length-1),i,"+transpose"))}n.push(new oo(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Ni(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);si(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Qa(e,t){var n=Xe(e.doc,t),r=Qt(n);return r!=n&&(t=tt(r)),Ka(!0,e,r,t,1)}function Za(e,t){var n=Xe(e.doc,t),r=Zt(n);return r!=n&&(t=tt(r)),Ka(!0,e,n,t,-1)}function es(e,t){var n=Qa(e,t.line),r=Xe(e.doc,n.line),i=he(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ot(n.line,a?0:o,n.sticky)}return n}function ts(e,t,n){if("string"==typeof t&&!(t=Xa[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=B}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ns(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Fa(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Fa(t,e.options.extraKeys,n,e)||Fa(t,e.options.keyMap,n,e)}var rs=new D;function is(e,t,n,r){var i=e.state.keySeq;if(i){if(Ba(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rs.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),os(e,i+" "+t,n,r))return!0}return os(e,t,n,r)}function os(e,t,n,r){var i=ns(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Mn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(ke(n),Yr(e)),!!i}function as(e,t){var n=Va(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?is(e,"Shift-"+n,t,(function(t){return ts(e,t,!0)}))||is(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(e,t)})):is(e,n,t,(function(t){return ts(e,t)})))}function ss(e,t,n){return is(e,"'"+n+"'",t,(function(t){return ts(e,t,!0)}))}var ls=null;function us(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=E(),ye(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=as(t,e);f&&(ls=i?r:null,i||88!=r||Ie||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cs(t)}}function cs(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}j(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n)}function fs(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function hs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Vn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(f&&n==ls)return ls=null,void ke(e);if(!f||e.which&&!(e.which<10)||!as(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(ss(t,e,i)||t.display.input.onKeyPress(e))}}}var ds,ps,vs=400,gs=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ms(e,t){var n=+new Date;return ps&&ps.compare(n,e,t)?(ds=ps=null,"triple"):ds&&ds.compare(n,e,t)?(ps=new gs(n,e,t),ds=null,"double"):(ds=new gs(n,e,t),ps=null,"single")}function ys(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Vn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ls(t,e)){var r=_r(t,e),i=Le(e),o=r?ms(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&bs(t,i,r,o,e)||(1==i?r?xs(t,r,o,e):Te(e)==n.scroller&&ke(e):2==i?(r&&Io(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(S?t.display.input.onContextMenu(e):Jr(t)))}}function bs(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),is(e,Ha(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Xa[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=B}finally{e.state.suppressEdits=!1}return r}))}function ws(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}function xs(e,t,n,r){a?setTimeout(I(Kr,e),0):e.curOp.focus=E();var i,o=ws(e,n,r),s=e.doc.sel;e.options.dragDrop&&Ae&&!e.isReadOnly()&&"single"==n&&(i=s.contains(t))>-1&&(at((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(at(i.to(),t)>0||t.xRel<0)?ks(e,r,t,o):Cs(e,r,t,o)}function ks(e,t,n,r){var i=e.display,o=!1,u=Ei(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Jr(e)),ge(i.wrapper.ownerDocument,"mouseup",u),ge(i.wrapper.ownerDocument,"mousemove",c),ge(i.scroller,"dragstart",f),ge(i.scroller,"drop",u),o||(ke(t),r.addNew||Io(e.doc,n,null,null,r.extend),l&&!h||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,pe(i.wrapper.ownerDocument,"mouseup",u),pe(i.wrapper.ownerDocument,"mousemove",c),pe(i.scroller,"dragstart",f),pe(i.scroller,"drop",u),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Ss(e,t,n){if("char"==n)return new oo(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new oo(ot(t.line,0),ht(e.doc,ot(t.line+1,0)));var r=n(e,t);return new oo(r.from,r.to)}function Cs(e,t,n,r){a&&Jr(e);var i=e.display,o=e.doc;ke(t);var s,l,u=o.sel,c=u.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),s=l>-1?c[l]:new oo(n,n)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(s=new oo(n,n)),n=_r(e,t,!0,!0),l=-1;else{var f=Ss(e,n,r.unit);s=r.extend?_o(s,f.anchor,f.head,r.extend):f}r.addNew?-1==l?(l=c.length,Bo(o,ao(e,c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==r.unit&&!r.extend?(Bo(o,ao(e,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Wo(o,l,s,V):(l=0,Bo(o,new io([s],0),V),u=o.sel);var h=n;function d(t){if(0!=at(h,t))if(h=t,"rectangle"==r.unit){for(var i=[],a=e.options.tabSize,c=W(Xe(o,n.line).text,n.ch,a),f=W(Xe(o,t.line).text,t.ch,a),d=Math.min(c,f),p=Math.max(c,f),v=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=g;v++){var m=Xe(o,v).text,y=q(m,d,a);d==p?i.push(new oo(ot(v,y),ot(v,y))):m.length>y&&i.push(new oo(ot(v,y),ot(v,q(m,p,a))))}i.length||i.push(new oo(n,n)),Bo(o,ao(e,u.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=s,x=Ss(e,t,r.unit),k=w.anchor;at(x.anchor,k)>0?(b=x.head,k=ct(w.from(),x.anchor)):(b=x.anchor,k=ut(w.to(),x.head));var S=u.ranges.slice(0);S[l]=Os(e,new oo(ht(o,k),b)),Bo(o,ao(e,S,l),V)}}var p=i.wrapper.getBoundingClientRect(),v=0;function g(t){var n=++v,a=_r(e,t,!0,"rectangle"==r.unit);if(a)if(0!=at(a,h)){e.curOp.focus=E(),d(a);var s=ti(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(Ei(e,(function(){v==n&&g(t)})),150)}else{var l=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;l&&setTimeout(Ei(e,(function(){v==n&&(i.scroller.scrollTop+=l,g(t))})),50)}}function m(t){e.state.selectingText=!1,v=1/0,t&&(ke(t),i.input.focus()),ge(i.wrapper.ownerDocument,"mousemove",y),ge(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var y=Ei(e,(function(e){0!==e.buttons&&Le(e)?g(e):m(e)})),b=Ei(e,m);e.state.selectingText=b,pe(i.wrapper.ownerDocument,"mousemove",y),pe(i.wrapper.ownerDocument,"mouseup",b)}function Os(e,t){var n=t.anchor,r=t.head,i=Xe(e.doc,n.line);if(0==at(n,r)&&n.sticky==r.sticky)return t;var o=he(i);if(!o)return t;var a=ce(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ce(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?f<0:f>0}var h=o[u+(l?-1:0)],d=l==(1==h.level),p=d?h.from:h.to,v=d?"after":"before";return n.ch==p&&n.sticky==v?t:new oo(new ot(n.line,p,v),r)}function Ts(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ke(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!we(e,n))return Ce(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i)return me(e,n,e,nt(e.doc,o),e.display.gutterSpecs[l].className,t),Ce(t)}}function Ls(e,t){return Ts(e,t,"gutterClick",!0)}function $s(e,t){Vn(e.display,t)||Ms(e,t)||ye(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Ms(e,t){return!!we(e,"gutterContextMenu")&&Ts(e,t,"gutterContextMenu",!1)}function As(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hr(e)}gs.prototype.compare=function(e,t,n){return this.time+vs>e&&0==at(t,this.pos)&&n==this.button};var Ns={toString:function(){return"CodeMirror.Init"}},Es={},js={};function Ps(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Ns&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Ns,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,po(e)}),!0),n("indentUnit",2,po,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){vo(e),hr(e),Rr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(ot(r,o))}r++}));for(var i=n.length-1;i>=0;i--)ia(e.doc,t,n[i],ot(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ns&&e.refresh()})),n("specialCharPlaceholder",gn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){As(e),Xi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Ua(t),i=n!=Ns&&Ua(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Is,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Ki(t,e.options.lineNumbers),Xi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Er(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return yi(e)}),!0),n("scrollbarStyle","native",(function(e){xi(e),yi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Ki(e.options.gutters,t),Xi(e)}),!0),n("firstLineNumber",1,Xi,!0),n("lineNumberFormatter",(function(e){return e}),Xi,!0),n("showCursorWhenSelecting",!1,Hr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Qr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,_s),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Hr,!0),n("singleCursorHeightPerLine",!0,Hr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,vo,!0),n("addModeClass",!1,vo,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,vo,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function _s(e,t,n){if(!t!=!(n&&n!=Ns)){var r=e.display.dragFunctions,i=t?pe:ge;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Is(e){e.options.lineWrapping?(j(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),ln(e)),Pr(e),Rr(e),hr(e),setTimeout((function(){return yi(e)}),100)}function Rs(e,t){var n=this;if(!(this instanceof Rs))return new Rs(e,t);this.options=t=t?R(t):{},R(Es,t,!1);var r=t.value;"string"==typeof r?r=new Sa(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Rs.inputStyles[t.inputStyle](this),o=this.display=new Qi(e,r,i,t);for(var u in o.wrapper.CodeMirror=this,As(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),xi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new D,keySeq:null,specialChars:null},t.autofocus&&!m&&o.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Ws(this),Na(),Si(this),this.curOp.forceUpdate=!0,bo(this,r),t.autofocus&&!m||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Xr(n)}),20):Qr(this),js)js.hasOwnProperty(u)&&js[u](this,t[u],Ns);Yi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Ds.length;++c)Ds[c](this);Ci(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ws(e){var t=e.display;pe(t.scroller,"mousedown",Ei(e,ys)),pe(t.scroller,"dblclick",a&&s<11?Ei(e,(function(t){if(!ye(e,t)){var n=_r(e,t);if(n&&!Ls(e,t)&&!Vn(e.display,t)){ke(t);var r=e.findWordAt(n);Io(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||ke(t)}),pe(t.scroller,"contextmenu",(function(t){return $s(e,t)})),pe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||$s(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}pe(t.scroller,"touchstart",(function(i){if(!ye(e,i)&&!o(i)&&!Ls(e,i)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),pe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),pe(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Vn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!r.prev||l(r,r.prev)?new oo(a,a):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(a):new oo(ot(a.line,0),ht(e.doc,ot(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),ke(n)}i()})),pe(t.scroller,"touchcancel",i),pe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(hi(e,t.scroller.scrollTop),pi(e,t.scroller.scrollLeft,!0),me(e,"scroll",e))})),pe(t.scroller,"mousewheel",(function(t){return ro(e,t)})),pe(t.scroller,"DOMMouseScroll",(function(t){return ro(e,t)})),pe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||Oe(t)},over:function(t){ye(e,t)||(La(e,t),Oe(t))},start:function(t){return Ta(e,t)},drop:Ei(e,Oa),leave:function(t){ye(e,t)||$a(e)}};var u=t.input.getField();pe(u,"keyup",(function(t){return fs.call(e,t)})),pe(u,"keydown",Ei(e,us)),pe(u,"keypress",Ei(e,hs)),pe(u,"focus",(function(t){return Xr(e,t)})),pe(u,"blur",(function(t){return Qr(e,t)}))}Rs.defaults=Es,Rs.optionHandlers=js;var Ds=[];function zs(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=bt(e,t).state:n="prev");var a=e.options.tabSize,s=Xe(o,t),l=W(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==B||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?W(Xe(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",h=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/a);d;--d)h+=a,f+="\t";if(h<u&&(f+=Y(u-h)),f!=c)return ia(o,f,ot(t,0),ot(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var v=o.sel.ranges[p];if(v.head.line==t&&v.head.ch<c.length){var g=ot(t,c.length);Wo(o,p,new oo(g,g));break}}}Rs.defineInitHook=function(e){return Ds.push(e)};var Fs=null;function Bs(e){Fs=e}function Hs(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=Pe(t),u=null;if(s&&r.ranges.length>1)if(Fs&&Fs.text.join("\n")==t){if(r.ranges.length%Fs.text.length==0){u=[];for(var c=0;c<Fs.text.length;c++)u.push(o.splitLines(Fs.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=J(l,(function(e){return[e]})));for(var f=e.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],p=d.from(),v=d.to();d.empty()&&(n&&n>0?p=ot(p.line,p.ch-n):e.state.overwrite&&!s?v=ot(v.line,Math.min(Xe(o,v.line).text.length,v.ch+K(l).length)):s&&Fs&&Fs.lineWise&&Fs.text.join("\n")==l.join("\n")&&(p=v=ot(p.line,0)));var g={from:p,to:v,text:u?u[h%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Qo(e.doc,g),Mn(e,"inputRead",e,g)}t&&!s&&Us(e,t),si(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Vs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ni(t,(function(){return Hs(t,n,0,null,"paste")})),!0}function Us(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=zs(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Xe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=zs(e,i.head.line,"smart"));a&&Mn(e,"electricInput",e,i.head.line)}}}function qs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ot(i,0),head:ot(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Gs(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ys(){var e=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=M("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),v&&(e.style.border="1px solid black"),Gs(e),t}function Ks(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Ei(this,t[e])(this,n,i),me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ua(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ji((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");X(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Rr(this)})),removeOverlay:ji((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Rr(this)}})),indentLine:ji((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),rt(this.doc,e)&&zs(this,e,t,n)})),indentSelection:ji((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(zs(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&si(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)zs(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Wo(this.doc,r,new oo(o,u[r].to()),H)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t,n=yt(this,Xe(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(o,this)&&-1==z(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return bt(this,(e=ft(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return br(this,null==e?n.head:"object"==typeof e?ht(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return yr(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return kr(this,(e=mr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=mr(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Xe(this.doc,e)}else r=e;return gr(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-an(r):0)},defaultTextHeight:function(){return Mr(this.display)},defaultCharWidth:function(){return Ar(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=br(this,ht(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&ii(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:ji(us),triggerOnKeyPress:ji(hs),triggerOnKeyUp:fs,triggerOnMouseDown:ji(ys),execCommand:function(e){if(Xa.hasOwnProperty(e))return Xa[e].call(null,this)},triggerElectric:ji((function(e){Us(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=ht(this.doc,e),a=0;a<t&&!(o=Js(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:ji((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Js(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),U)})),deleteH:ji((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qa(this,(function(n){var i=Js(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=ht(this.doc,e),s=0;s<t;++s){var l=br(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Xs(this,l,i,n)).hitSide)break}return a},moveV:ji((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=br(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Xs(n,s,e,t);return"page"==t&&a==r.sel.primary()&&ai(n,yr(n,l,"div").top-s.top),l}),U),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Xe(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=ne(o,i)?function(e){return ne(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new oo(ot(e.line,n),ot(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?j(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ji((function(e,t){li(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Yn(this)-this.display.barHeight,width:e.scrollWidth-Yn(this)-this.display.barWidth,clientHeight:Jn(this),clientWidth:Kn(this)}},scrollIntoView:ji((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?ui(this,e):fi(this,e.from,e.to,e.margin)})),setSize:ji((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&fr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Wr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,me(this,"refresh",this)})),operation:function(e){return Ni(this,e)},startOperation:function(){return Si(this)},endOperation:function(){return Ci(this)},refresh:ji((function(){var e=this.display.cachedTextHeight;Rr(this),this.curOp.forceUpdate=!0,hr(this),li(this,this.doc.scrollLeft,this.doc.scrollTop),Ui(this.display),(null==e||Math.abs(e-Mr(this.display))>.5||this.options.lineWrapping)&&Pr(this),me(this,"refresh",this)})),swapDoc:ji((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),bo(this,e),hr(this),this.display.input.reset(),li(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Mn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xe(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Js(e,t,n,r,i){var o=t,a=n,s=Xe(e,t.line),l=i&&"rtl"==e.direction?-n:n;function u(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new ot(n,t.ch,t.sticky),s=Xe(e,n))}function c(o){var a;if("codepoint"==r){var c=s.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(c))a=null;else{var f=n>0?c>=55296&&c<56320:c>=56320&&c<57343;a=new ot(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(f?2:1))),-n)}}else a=i?Ja(e.cm,s,t,n):Ya(s,t,n);if(null==a){if(o||!u())return!1;t=Ka(i,e.cm,s,t.line,l)}else t=a;return!0}if("char"==r||"codepoint"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var f=null,h="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||c(!p);p=!1){var v=s.text.charAt(t.ch)||"\n",g=ne(v,d)?"w":h&&"\n"==v?"n":!h||/\s/.test(v)?null:"p";if(!h||p||g||(g="s"),f&&f!=g){n<0&&(n=1,c(),t.sticky="after");break}if(g&&(f=g),n>0&&!c(!p))break}var m=Yo(e,t,o,a,!0);return st(o,m)&&(m.hitSide=!0),m}function Xs(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Mr(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=kr(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Qs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new D,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Zs(e,t){var n=tr(e,t.line);if(!n||n.hidden)return null;var r=Xe(e.doc,t.line),i=Qn(n,r,t.line),o=he(r,e.doc.direction),a="left";o&&(a=ce(o,t.ch)%2?"right":"left");var s=ar(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function el(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function tl(e,t){return t&&(e.bad=!0),e}function nl(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function f(e){e&&(c(),o+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void f(n);var o,d=t.getAttribute("cm-marker");if(d){var p=e.findMarks(ot(r,0),ot(i+1,0),u(+d));return void(p.length&&(o=p[0].find(0))&&f(Qe(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var v=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;v&&c();for(var g=0;g<t.childNodes.length;g++)h(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),v&&(a=!0)}else 3==t.nodeType&&f(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(t),t!=n;)t=t.nextSibling,l=!1;return o}function rl(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return tl(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return il(o,t,n)}}function il(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!N(r,t))return tl(ot(tt(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?K(e.rest):e.line;return tl(ot(tt(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var c=tt(i<0?e.line:e.rest[i]),f=o[a]+r;return(r<0||s!=t)&&(f=o[a+(r?1:0)]),ot(c,f)}}}var f=c(a,s,n);if(f)return tl(f,i);for(var h=s.nextSibling,d=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(f=c(h,h.firstChild,0))return tl(ot(f.line,f.ch-d),i);d+=h.textContent.length}for(var p=s.previousSibling,v=n;p;p=p.previousSibling){if(f=c(p,p.firstChild,-1))return tl(ot(f.line,f.ch+v),i);v+=p.textContent.length}}Qs.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!ye(r,e)){if(r.somethingSelected())Bs({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Bs({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,H),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Fs.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Ys(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=Fs.text.join("\n");var u=E();_(l),setTimeout((function(){r.display.lineSpace.removeChild(s),u.focus(),u==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,Gs(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,"paste",(function(e){!o(e)||ye(r,e)||Vs(e,r)||s<=11&&setTimeout(Ei(r,(function(){return t.updateFromDOM()})),20)})),pe(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),pe(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),pe(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),pe(i,"touchstart",(function(){return n.forceCompositionEnd()})),pe(i,"input",(function(){t.composing||t.readFromDOMSoon()})),pe(i,"copy",a),pe(i,"cut",a)},Qs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Qs.prototype.prepareSelection=function(){var e=Vr(this.cm,!1);return e.focus=E()==this.div,e},Qs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Qs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=rl(t,e.anchorNode,e.anchorOffset),s=rl(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=at(ct(a,s),i)||0!=at(ut(a,s),o)){var l=t.display.view,u=i.line>=t.display.viewFrom&&Zs(t,i)||{node:l[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Zs(t,o);if(!c){var f=l[l.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(u&&c){var d,p=e.rangeCount&&e.getRangeAt(0);try{d=O(u.node,u.offset,c.offset,c.node)}catch(e){}d&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Qs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Qs.prototype.showMultipleSelections=function(e){$(this.cm.display.cursorDiv,e.cursors),$(this.cm.display.selectionDiv,e.selection)},Qs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Qs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Qs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&E()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Qs.prototype.blur=function(){this.div.blur()},Qs.prototype.getField=function(){return this.div},Qs.prototype.supportsTouch=function(){return!0},Qs.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Ni(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Qs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Qs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&el(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=rl(t,e.anchorNode,e.anchorOffset),r=rl(t,e.focusNode,e.focusOffset);n&&r&&Ni(t,(function(){Bo(t.doc,so(n,r),H),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Qs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=ot(a.line-1,Xe(r.doc,a.line-1).length)),s.ch==Xe(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=ot(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Ir(r,a.line))?(t=tt(i.view[0].line),n=i.view[0].node):(t=tt(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,u,c=Ir(r,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=tt(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(nl(r,n,u,t,l)),h=Qe(r.doc,ot(t,0),ot(l,Xe(r.doc,l).text.length));f.length>1&&h.length>1;)if(K(f)==K(h))f.pop(),h.pop(),l--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),t++}for(var d=0,p=0,v=f[0],g=h[0],m=Math.min(v.length,g.length);d<m&&v.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=K(f),b=K(h),w=Math.min(y.length-(1==f.length?d:0),b.length-(1==h.length?d:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==f.length&&1==h.length&&t==a.line)for(;d&&d>a.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var x=ot(t,d),k=ot(l,h.length?K(h).length-p:0);return f.length>1||f[0]||at(x,k)?(ia(r.doc,f,x,k,"+input"),!0):void 0},Qs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qs.prototype.reset=function(){this.forceCompositionEnd()},Qs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Qs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Qs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ni(this.cm,(function(){return Rr(e.cm)}))},Qs.prototype.setUneditable=function(e){e.contentEditable="false"},Qs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ei(this.cm,Hs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Qs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Qs.prototype.onContextMenu=function(){},Qs.prototype.resetPosition=function(){},Qs.prototype.needsContentAttribute=!0;var ol=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new D,this.hasSelection=!1,this.composing=null};function al(e,t){if((t=t?R(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=E();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(pe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Rs((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function sl(e){e.off=ge,e.on=pe,e.wheelEventPixels=no,e.Doc=Sa,e.splitLines=Pe,e.countColumn=W,e.findColumn=q,e.isWordChar=te,e.Pass=B,e.signal=me,e.Line=un,e.changeEnd=lo,e.scrollbarModel=wi,e.Pos=ot,e.cmpPos=at,e.modes=De,e.mimeModes=ze,e.resolveMode=He,e.getMode=Ve,e.modeExtensions=Ue,e.extendMode=qe,e.copyState=Ge,e.startState=Ke,e.innerMode=Ye,e.commands=Xa,e.keyMap=Wa,e.keyName=Va,e.isModifierKey=Ba,e.lookupKey=Fa,e.normalizeKeyMap=za,e.StringStream=Je,e.SharedTextMarker=ma,e.TextMarker=va,e.LineWidget=fa,e.e_preventDefault=ke,e.e_stopPropagation=Se,e.e_stop=Oe,e.addClass=j,e.contains=N,e.rmClass=T,e.keyNames=Pa}ol.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ye(r,e)){if(r.somethingSelected())Bs({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Bs({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,H):(n.prevInput="",i.value=t.text.join("\n"),_(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),v&&(i.style.width="0px"),pe(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),pe(i,"paste",(function(e){ye(r,e)||Vs(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pe(i,"cut",o),pe(i,"copy",o),pe(e.scroller,"paste",(function(t){if(!Vn(e,t)&&!ye(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),pe(e.lineSpace,"selectstart",(function(t){Vn(e,t)||ke(t)})),pe(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),pe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},ol.prototype.createField=function(e){this.wrapper=Ys(),this.textarea=this.wrapper.firstChild},ol.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ol.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Vr(e);if(e.options.moveInputWithCursor){var i=br(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},ol.prototype.showSelection=function(e){var t=this.cm.display;$(t.cursorDiv,e.cursors),$(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ol.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&_(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},ol.prototype.getField=function(){return this.textarea},ol.prototype.supportsTouch=function(){return!1},ol.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||E()!=this.textarea))try{this.textarea.focus()}catch(e){}},ol.prototype.blur=function(){this.textarea.blur()},ol.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ol.prototype.receivedFocus=function(){this.slowPoll()},ol.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},ol.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},ol.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||_e(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="â€‹"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(r.length,i.length);l<u&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Ni(t,(function(){Hs(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ol.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ol.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},ol.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=_r(n,e),u=r.scroller.scrollTop;if(o&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Ei(n,Bo)(n.doc,so(o),H);var c,h=i.style.cssText,d=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),r.input.focus(),l&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=m,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&g(),S){Oe(e);var v=function(){ge(window,"mouseup",v),setTimeout(m,20)};pe(window,"mouseup",v)}else setTimeout(m,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="â€‹"+(e?i.value:"");i.value="â‡š",i.value=o,t.prevInput=e?"":"â€‹",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&s<9)&&g();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"â€‹"==t.prevInput?Ei(n,Jo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},ol.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},ol.prototype.setUneditable=function(){},ol.prototype.needsContentAttribute=!1,Ps(Rs),Ks(Rs);var ll="iter insert remove copy getEditor constructor".split(" ");for(var ul in Sa.prototype)Sa.prototype.hasOwnProperty(ul)&&z(ll,ul)<0&&(Rs.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}(Sa.prototype[ul]));return xe(Sa),Rs.inputStyles={textarea:ol,contenteditable:Qs},Rs.defineMode=function(e){Rs.defaults.mode||"null"==e||(Rs.defaults.mode=e),Fe.apply(this,arguments)},Rs.defineMIME=Be,Rs.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Rs.defineMIME("text/plain","null"),Rs.defineExtension=function(e,t){Rs.prototype[e]=t},Rs.defineDocExtension=function(e,t){Sa.prototype[e]=t},Rs.fromTextArea=al,sl(Rs),Rs.version="5.62.3",Rs}()}));function $i(t){let n;return{c(){n=w("textarea")},m(e,r){m(e,n,r),t[3](n)},p:e,i:e,o:e,d(e){e&&y(n),t[3](null)}}}function Mi(e,t,n){let r,i,{config:o={}}=t,{accessEditor:a}=t;var s;return I((()=>{i=Li.fromTextArea(r,o),a&&a(i)})),s=()=>{i.toTextArea()},_().$$.on_destroy.push(s),e.$$set=e=>{"config"in e&&n(1,o=e.config),"accessEditor"in e&&n(2,a=e.accessEditor)},[r,o,a,function(e){z[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class Ai extends le{constructor(e){super(),se(this,e,Mi,$i,a,{config:1,accessEditor:2})}}function Ni(e){let t,n;return{c(){t=w("div"),n=k(e[0]),O(t,"class","error svelte-a5vymm")},m(e,r){m(e,t,r),g(t,n)},p(e,t){1&t&&L(n,e[0])},d(e){e&&y(t)}}}function Ei(e){let t,n,r,i;n=new Ai({props:{config:e[1],accessEditor:e[2]}});let o=e[0]&&Ni(e);return{c(){t=w("div"),re(n.$$.fragment),r=S(),o&&o.c(),O(t,"class","yaml-editor svelte-a5vymm")},m(e,a){m(e,t,a),ie(n,t,null),g(t,r),o&&o.m(t,null),i=!0},p(e,[n]){e[0]?o?o.p(e,n):(o=Ni(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i(e){i||(ee(n.$$.fragment,e),i=!0)},o(e){te(n.$$.fragment,e),i=!1},d(e){e&&y(t),oe(n),o&&o.d()}}}function ji(e,t,n){let r,i,o="";const a=()=>Ti.parse(null==i?void 0:i.getValue()),s=e=>{o=e?Ti.stringify(e):"",null==i||i.setValue(o)},l=R();return[r,{lineNumbers:!0,lineWrapping:!0,mode:"yaml"},e=>{i=e,e.setSize("100%","100%"),e.on("change",((e,t)=>{var o;(()=>{try{Ti.parse(null==i?void 0:i.getValue()),n(0,r="")}catch(e){n(0,r=e.message)}})(),console.log(`YAML editor change.origin:${null==t?void 0:t.origin}`),o=(null==t?void 0:t.origin)&&t.origin.includes("setValue")?"set":"input",l("changed",{origin:o})})),null==e||e.setValue(o)},a,s,()=>{s(a())}]}Le((function(e,t){var n;(n=Li).defineMode("yaml",(function(){var e=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(t,n){var r=t.peek(),i=n.escaped;if(n.escaped=!1,"#"==r&&(0==t.pos||/\s/.test(t.string.charAt(t.pos-1))))return t.skipToEnd(),"comment";if(t.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&t.indentation()>n.keyCol)return t.skipToEnd(),"string";if(n.literal&&(n.literal=!1),t.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,t.match("---"))return"def";if(t.match("..."))return"def";if(t.match(/\s*-\s+/))return"meta"}if(t.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!i&&","==r)return t.next(),"meta";if(n.inlinePairs>0&&!i&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,t.next(),"meta";if(n.pairStart){if(t.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(t.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&t.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&t.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(t.match(e))return"keyword"}return!n.pair&&t.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=t.indentation(),"atom"):n.pair&&t.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,t.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}})),n.defineMIME("text/x-yaml","yaml"),n.defineMIME("text/yaml","yaml")})),Le((function(e,t){var n;(n=Li).defineMode("scheme",(function(){var e="builtin",t="comment",n="string",r="atom",i="number",o="bracket",a=2;function s(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var l=s("Î» case-lambda call/cc class cond-expand define-class define-values exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax define-macro defmacro delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"),u=s("define let letrec let* lambda define-macro defmacro let-syntax letrec-syntax let-values let*-values define-syntax syntax-rules define-values when unless");function c(e,t,n){this.indent=e,this.type=t,this.prev=n}function f(e,t,n){e.indentStack=new c(t,n,e.indentStack)}function h(e){e.indentStack=e.indentStack.prev}var d=new RegExp(/^(?:[-+]i|[-+][01]+#*(?:\/[01]+#*)?i|[-+]?[01]+#*(?:\/[01]+#*)?@[-+]?[01]+#*(?:\/[01]+#*)?|[-+]?[01]+#*(?:\/[01]+#*)?[-+](?:[01]+#*(?:\/[01]+#*)?)?i|[-+]?[01]+#*(?:\/[01]+#*)?)(?=[()\s;"]|$)/i),p=new RegExp(/^(?:[-+]i|[-+][0-7]+#*(?:\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?)(?=[()\s;"]|$)/i),v=new RegExp(/^(?:[-+]i|[-+][\da-f]+#*(?:\/[\da-f]+#*)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?@[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?[-+](?:[\da-f]+#*(?:\/[\da-f]+#*)?)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?)(?=[()\s;"]|$)/i),g=new RegExp(/^(?:[-+]i|[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)i|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)@[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)?i|(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*))(?=[()\s;"]|$)/i);function m(e){return e.match(d)}function y(e){return e.match(p)}function b(e,t){return!0===t&&e.backUp(1),e.match(g)}function w(e){return e.match(v)}return{startState:function(){return{indentStack:null,indentation:0,mode:!1,sExprComment:!1,sExprQuote:!1}},token:function(s,c){if(null==c.indentStack&&s.sol()&&(c.indentation=s.indentation()),s.eatSpace())return null;var d=null;switch(c.mode){case"string":for(var p=!1;null!=(v=s.next());){if('"'==v&&!p){c.mode=!1;break}p=!p&&"\\"==v}d=n;break;case"comment":for(var v,g=!1;null!=(v=s.next());){if("#"==v&&g){c.mode=!1;break}g="|"==v}d=t;break;case"s-expr-comment":if(c.mode=!1,"("!=s.peek()&&"["!=s.peek()){s.eatWhile(/[^\s\(\)\[\]]/),d=t;break}c.sExprComment=0;default:var x=s.next();if('"'==x)c.mode="string",d=n;else if("'"==x)"("==s.peek()||"["==s.peek()?("number"!=typeof c.sExprQuote&&(c.sExprQuote=0),d=r):(s.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/),d=r);else if("#"==x)if(s.eat("|"))c.mode="comment",d=t;else if(s.eat(/[tf]/i))d=r;else if(s.eat(";"))c.mode="s-expr-comment",d=t;else{var k=null,S=!1,C=!0;s.eat(/[ei]/i)?S=!0:s.backUp(1),s.match(/^#b/i)?k=m:s.match(/^#o/i)?k=y:s.match(/^#x/i)?k=w:s.match(/^#d/i)?k=b:s.match(/^[-+0-9.]/,!1)?(C=!1,k=b):S||s.eat("#"),null!=k&&(C&&!S&&s.match(/^#[ei]/i),k(s)&&(d=i))}else if(/^[-+0-9.]/.test(x)&&b(s,!0))d=i;else if(";"==x)s.skipToEnd(),d=t;else if("("==x||"["==x){for(var O,T="",L=s.column();null!=(O=s.eat(/[^\s\(\[\;\)\]]/));)T+=O;T.length>0&&u.propertyIsEnumerable(T)?f(c,L+a,x):(s.eatSpace(),s.eol()||";"==s.peek()?f(c,L+1,x):f(c,L+s.current().length,x)),s.backUp(s.current().length-1),"number"==typeof c.sExprComment&&c.sExprComment++,"number"==typeof c.sExprQuote&&c.sExprQuote++,d=o}else")"==x||"]"==x?(d=o,null!=c.indentStack&&c.indentStack.type==(")"==x?"(":"[")&&(h(c),"number"==typeof c.sExprComment&&0==--c.sExprComment&&(d=t,c.sExprComment=!1),"number"==typeof c.sExprQuote&&0==--c.sExprQuote&&(d=r,c.sExprQuote=!1))):(s.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/),d=l&&l.propertyIsEnumerable(s.current())?e:"variable")}return"number"==typeof c.sExprComment?t:"number"==typeof c.sExprQuote?r:d},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}})),n.defineMIME("text/x-scheme","scheme")}));class Pi extends le{constructor(e){super(),se(this,e,ji,Ei,a,{get:3,set:4,format:5})}get get(){return this.$$.ctx[3]}get set(){return this.$$.ctx[4]}get format(){return this.$$.ctx[5]}}function _i(e){let t,n,r;return n=new Pi({props:{}}),e[8](n),n.$on("changed",e[9]),{c(){t=w("div"),re(n.$$.fragment),O(t,"class","intents svelte-16dfigy")},m(e,i){m(e,t,i),ie(n,t,null),r=!0},p(e,t){n.$set({})},i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(r){r&&y(t),e[8](null),oe(n)}}}function Ii(e){let t,n,r;return n=new Pi({props:{}}),e[6](n),n.$on("changed",e[7]),{c(){t=w("div"),re(n.$$.fragment),O(t,"class","shared svelte-16dfigy")},m(e,i){m(e,t,i),ie(n,t,null),r=!0},p(e,t){n.$set({})},i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(r){r&&y(t),e[6](null),oe(n)}}}function Ri(e){let t,n,r;return n=new Se({props:{horizontal:!0,resetOnDoubleClick:!0,initialPrimarySize:"50%",$$slots:{secondary:[Ii],primary:[_i]},$$scope:{ctx:e}}}),{c(){t=w("div"),re(n.$$.fragment),O(t,"class","editor svelte-16dfigy")},m(e,i){m(e,t,i),ie(n,t,null),r=!0},p(e,[t]){const r={};8195&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(e){e&&y(t),oe(n)}}}function Wi(e,t,n){let r,i,o;const a=R(),s=e=>{var t;t=e.detail.origin,a("changed",{origin:t})};return[i,o,s,()=>{if(r)return Object.assign(Object.assign({},r),{intents:(null==i?void 0:i.get())||[],shared:null==o?void 0:o.get()})},e=>{r=e,null==i||i.set((null==r?void 0:r.intents)||[]),null==o||o.set(null==r?void 0:r.shared)},()=>{null==i||i.format(),null==o||o.format()},function(e){z[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},e=>s(e),function(e){z[e?"unshift":"push"]((()=>{i=e,n(0,i)}))},e=>s(e)]}class Di extends le{constructor(e){super(),se(this,e,Wi,Ri,a,{get:3,set:4,format:5})}get get(){return this.$$.ctx[3]}get set(){return this.$$.ctx[4]}get format(){return this.$$.ctx[5]}}function zi(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function Fi(e){let t,n,r,i,o,a=e[7]+"";function s(){return e[4](e[9])}return{c(){t=w("button"),n=k(a),r=S(),O(t,"class","tab svelte-1e903vc"),j(t,"selected",e[1]===e[9])},m(e,a){m(e,t,a),g(t,n),g(t,r),i||(o=C(t,"click",s),i=!0)},p(r,i){e=r,1&i&&a!==(a=e[7]+"")&&L(n,a),2&i&&j(t,"selected",e[1]===e[9])},d(e){e&&y(t),i=!1,o()}}}function Bi(t){let n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=Fi(zi(t,r,e));return{c(){n=w("div");for(let e=0;e<i.length;e+=1)i[e].c();O(n,"class","tabs svelte-1e903vc")},m(e,t){m(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(7&t){let o;for(r=e[0],o=0;o<r.length;o+=1){const a=zi(e,r,o);i[o]?i[o].p(a,t):(i[o]=Fi(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:e,o:e,d(e){e&&y(n),b(i,e)}}}function Hi(e,t,n){let{tabs:r}=t,{initialIndex:i=0}=t,o=i;const a=R(),s=e=>{n(1,o=e),a("changed",{index:o})};return e.$$set=e=>{"tabs"in e&&n(0,r=e.tabs),"initialIndex"in e&&n(3,i=e.initialIndex)},[r,o,s,i,e=>s(e)]}class Vi extends le{constructor(e){super(),se(this,e,Hi,Bi,a,{tabs:0,initialIndex:3})}}function Ui(e){let t,n,r,o,a,s,l,u,c,f,h,d;n=new Vi({props:{tabs:e[1],initialIndex:e[2]}}),n.$on("changed",e[8]);return c=new Di({props:{}}),e[9](c),c.$on("changed",e[3]),{c(){t=w("div"),re(n.$$.fragment),r=S(),o=w("div"),a=w("button"),a.textContent="Format",s=S(),l=w("button"),l.textContent="Reset",u=S(),re(c.$$.fragment),O(a,"class","svelte-jb27w6"),O(l,"class","svelte-jb27w6"),O(o,"class","toolbar svelte-jb27w6"),O(t,"class","editor svelte-jb27w6")},m(i,p){m(i,t,p),ie(n,t,null),g(t,r),g(t,o),g(o,a),g(o,s),g(o,l),g(t,u),ie(c,t,null),f=!0,h||(d=[C(a,"click",e[5]),C(l,"click",e[6])],h=!0)},p(e,[t]){const r={};2&t&&(r.tabs=e[1]),4&t&&(r.initialIndex=e[2]),n.$set(r);c.$set({})},i(e){f||(ee(n.$$.fragment,e),ee(c.$$.fragment,e),f=!0)},o(e){te(n.$$.fragment,e),te(c.$$.fragment,e),f=!1},d(r){r&&y(t),oe(n),e[9](null),oe(c),h=!1,i(d)}}}function qi(e,t,n){let r,i,o,a;l(e,rt,(e=>n(7,i=e))),l(e,it,(e=>n(2,o=e)));let s=!1;const u=tt((()=>{a&&(v(rt,i[o]=a.get(),i),console.log("set $document")),s=!1}),500);I((()=>{null==a||a.set(i[o])}));const c=e=>{if(s){const t=setInterval((()=>{console.log("waitForUpdate"),s||(console.log(`setting tab to ${e}`),v(it,o=e,o),null==a||a.set(i[o]),clearInterval(t))}),500)}else console.log(`setting tab to ${e}`),v(it,o=e,o),null==a||a.set(i[o])};return e.$$.update=()=>{128&e.$$.dirty&&n(1,r=i.map((e=>e.name)))},[a,r,o,e=>{"input"===e.detail.origin&&(s=!0,u())},c,()=>{null==a||a.format()},()=>{o<nt.length&&(null==a||a.set(nt[o]))},i,e=>c(e.detail.index),function(e){z[e?"unshift":"push"]((()=>{a=e,n(0,a)}))}]}class Gi extends le{constructor(e){super(),se(this,e,qi,Ui,a,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Yi,Ki,Ji=function(){return(Ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e.toString=function(e){var t,n,r;return"["+(null!==(t=null==e?void 0:e.start)&&void 0!==t?t:"")+".."+(null!==(n=null==e?void 0:e.end)&&void 0!==n?n:"")+"]("+(null!==(r=null==e?void 0:e.length)&&void 0!==r?r:"")+")"+(e.kind?" kind:"+e.kind:"")},e.create=function(t){var n=t.kind,r=void 0===n?"linearRange":n,i=t.start,o=t.end,a=t.length;if(void 0!==i&&i<0)throw new Error("The range start is negative. "+e.toString(t));if(void 0!==o&&o<0)throw new Error("The range end is negative. "+e.toString(t));if(void 0!==a&&a<0)throw new Error("The range length is negative. "+e.toString(t));if(void 0!==i&&void 0!==o&&i>o)throw new Error("The range start is greater than end. "+e.toString(t));if(void 0!==i&&void 0!==o&&void 0!==a&&a!==o-i)throw new Error("The range length doesn't equal end minus start. "+e.toString(t));return void 0!==i&&void 0!==o&&void 0!==a?{kind:r,start:i,end:o,length:a}:void 0!==i&&void 0!==o?{kind:r,start:i,end:o,length:o-i}:void 0!==i&&void 0!==a?{kind:r,start:i,end:i+a,length:a}:void 0!==i?{kind:r,start:i,end:i,length:0}:void 0!==o&&void 0!==a?{kind:r,start:o-a,end:o,length:a}:void 0!==o?{kind:r,start:o,end:o,length:0}:void 0!==a?{kind:r,start:0,end:a,length:a}:{kind:r,start:0,end:0,length:0}},e.isValid=function(e){if(void 0===e)return!1;var t=e.kind,n=e.start,r=e.end,i=e.length;return void 0!==t&&void 0!==n&&void 0!==r&&void 0!==i&&n>=0&&r>=0&&i>=0&&n<=r&&i===r-n},e.validate=function(t){if(void 0===t)throw new Error("The range is undefined. "+e.toString(t));var n=t.kind,r=t.start,i=t.end,o=t.length;if(void 0===n)throw new Error("The range kind is undefined. "+e.toString(t));if(void 0===r)throw new Error("The range start is undefined. "+e.toString(t));if(void 0===i)throw new Error("The range end is undefined. "+e.toString(t));if(void 0===o)throw new Error("The range length is undefined. "+e.toString(t));if(r<0)throw new Error("The range start is negative. "+e.toString(t));if(i<0)throw new Error("The range end is negative. "+e.toString(t));if(o<0)throw new Error("The range length is negative. "+e.toString(t));if(o!==i-r)throw new Error("The range length doesn't equal end minus start. "+e.toString(t))},e.equals=function(t,n){return e.validate(t),e.validate(n),t.kind===n.kind&&t.start===n.start&&t.end===n.end&&t.length===n.length},e.contains=function(t,n){return e.validate(t),e.validate(n),t.start<=n.start&&t.end>=n.end},e.overlaps=function(t,n){return e.validate(t),e.validate(n),t.end>n.start&&t.start<n.end}}(Yi||(Yi={})),function(e){e.create=function(e){return Yi.create(Ji(Ji({},e),{kind:"characterRange"}))},e.equals=Yi.equals,e.contains=Yi.contains,e.overlaps=Yi.overlaps,e.isValid=Yi.isValid,e.toString=Yi.toString,e.validate=function(t,n){if(Yi.validate(t),void 0!==n){if(t.start>n.length)throw new Error("The range start is beyond the end of the text. "+e.toString(t));if(t.end>n.length)throw new Error("The range end is beyond the end of the text. "+e.toString(t))}}}(Ki||(Ki={}));var Xi,Qi=[" ",".",",",":",";","?","!","(",")","[","]","{","}","<",">","\\","|","/"],Zi=function(e){if(!e||0===e.trim().length)return{text:"",characterRanges:[]};for(var t=[],n=-1,r=0;r<e.length;r++)Qi.includes(e[r])?(n>=0&&t.push(Ki.create({start:n,end:r})),n=-1):-1==n&&(n=r);return n>=0&&t.push(Ki.create({start:n,end:e.length})),{characterRanges:t,text:e}};!function(e){e.create=function(e){return Yi.create(Ji(Ji({},e),{kind:"tokenRange"}))},e.equals=Yi.equals,e.contains=Yi.contains,e.overlaps=Yi.overlaps,e.isValid=Yi.isValid,e.toString=Yi.toString,e.validate=Yi.validate}(Xi||(Xi={}));var eo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var to=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},no="object"==typeof eo&&eo&&eo.Object===Object&&eo,ro=no,io="object"==typeof self&&self&&self.Object===Object&&self,oo=ro||io||Function("return this")(),ao=oo.Symbol,so=ao,lo=Object.prototype,uo=lo.hasOwnProperty,co=lo.toString,fo=so?so.toStringTag:void 0;var ho=function(e){var t=uo.call(e,fo),n=e[fo];try{e[fo]=void 0;var r=!0}catch(e){}var i=co.call(e);return r&&(t?e[fo]=n:delete e[fo]),i},po=Object.prototype.toString;var vo=ho,go=function(e){return po.call(e)},mo=ao?ao.toStringTag:void 0;var yo=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mo&&mo in Object(e)?vo(e):go(e)};var bo=function(e){return null!=e&&"object"==typeof e},wo=yo,xo=bo;var ko=function(e){return xo(e)&&"[object Arguments]"==wo(e)},So=bo,Co=Object.prototype,Oo=Co.hasOwnProperty,To=Co.propertyIsEnumerable,Lo=ko(function(){return arguments}())?ko:function(e){return So(e)&&Oo.call(e,"callee")&&!To.call(e,"callee")},$o=Array.isArray,Mo=Lo,Ao=$o,No=ao?ao.isConcatSpreadable:void 0;var Eo=to,jo=function(e){return Ao(e)||Mo(e)||!!(No&&e&&e[No])};var Po=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=jo),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):Eo(o,l):i||(o[o.length]=l)}return o};var _o=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Io=yo,Ro=bo;var Wo=function(e){return"symbol"==typeof e||Ro(e)&&"[object Symbol]"==Io(e)},Do=$o,zo=Wo,Fo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bo=/^\w*$/;var Ho=function(e,t){if(Do(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!zo(e))||(Bo.test(e)||!Fo.test(e)||null!=t&&e in Object(t))};var Vo=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Uo=yo,qo=Vo;var Go,Yo=function(e){if(!qo(e))return!1;var t=Uo(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ko=oo["__core-js_shared__"],Jo=(Go=/[^.]+$/.exec(Ko&&Ko.keys&&Ko.keys.IE_PROTO||""))?"Symbol(src)_1."+Go:"";var Xo=function(e){return!!Jo&&Jo in e},Qo=Function.prototype.toString;var Zo=function(e){if(null!=e){try{return Qo.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ea=Yo,ta=Xo,na=Vo,ra=Zo,ia=/^\[object .+?Constructor\]$/,oa=Function.prototype,aa=Object.prototype,sa=oa.toString,la=aa.hasOwnProperty,ua=RegExp("^"+sa.call(la).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ca=function(e){return!(!na(e)||ta(e))&&(ea(e)?ua:ia).test(ra(e))},fa=function(e,t){return null==e?void 0:e[t]};var ha=function(e,t){var n=fa(e,t);return ca(n)?n:void 0},da=ha(Object,"create"),pa=da;var va=function(){this.__data__=pa?pa(null):{},this.size=0};var ga=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ma=da,ya=Object.prototype.hasOwnProperty;var ba=function(e){var t=this.__data__;if(ma){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ya.call(t,e)?t[e]:void 0},wa=da,xa=Object.prototype.hasOwnProperty;var ka=da;var Sa=va,Ca=ga,Oa=ba,Ta=function(e){var t=this.__data__;return wa?void 0!==t[e]:xa.call(t,e)},La=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ka&&void 0===t?"__lodash_hash_undefined__":t,this};function $a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$a.prototype.clear=Sa,$a.prototype.delete=Ca,$a.prototype.get=Oa,$a.prototype.has=Ta,$a.prototype.set=La;var Ma=$a;var Aa=function(){this.__data__=[],this.size=0};var Na=function(e,t){return e===t||e!=e&&t!=t},Ea=Na;var ja=function(e,t){for(var n=e.length;n--;)if(Ea(e[n][0],t))return n;return-1},Pa=ja,_a=Array.prototype.splice;var Ia=ja;var Ra=ja;var Wa=ja;var Da=Aa,za=function(e){var t=this.__data__,n=Pa(t,e);return!(n<0)&&(n==t.length-1?t.pop():_a.call(t,n,1),--this.size,!0)},Fa=function(e){var t=this.__data__,n=Ia(t,e);return n<0?void 0:t[n][1]},Ba=function(e){return Ra(this.__data__,e)>-1},Ha=function(e,t){var n=this.__data__,r=Wa(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Va(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Va.prototype.clear=Da,Va.prototype.delete=za,Va.prototype.get=Fa,Va.prototype.has=Ba,Va.prototype.set=Ha;var Ua=Va,qa=ha(oo,"Map"),Ga=Ma,Ya=Ua,Ka=qa;var Ja=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Xa=function(e,t){var n=e.__data__;return Ja(t)?n["string"==typeof t?"string":"hash"]:n.map},Qa=Xa;var Za=Xa;var es=Xa;var ts=Xa;var ns=function(){this.size=0,this.__data__={hash:new Ga,map:new(Ka||Ya),string:new Ga}},rs=function(e){var t=Qa(this,e).delete(e);return this.size-=t?1:0,t},is=function(e){return Za(this,e).get(e)},os=function(e){return es(this,e).has(e)},as=function(e,t){var n=ts(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ss(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ss.prototype.clear=ns,ss.prototype.delete=rs,ss.prototype.get=is,ss.prototype.has=os,ss.prototype.set=as;var ls=ss,us=ls;function cs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cs.Cache||us),n}cs.Cache=us;var fs=cs;var hs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ds=/\\(\\)?/g,ps=function(e){var t=fs(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(hs,(function(e,n,r,i){t.push(r?i.replace(ds,"$1"):n||e)})),t})),vs=_o,gs=$o,ms=Wo,ys=ao?ao.prototype:void 0,bs=ys?ys.toString:void 0;var ws=function e(t){if("string"==typeof t)return t;if(gs(t))return vs(t,e)+"";if(ms(t))return bs?bs.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var xs=$o,ks=Ho,Ss=ps,Cs=function(e){return null==e?"":ws(e)};var Os=function(e,t){return xs(e)?e:ks(e,t)?[e]:Ss(Cs(e))},Ts=Wo;var Ls=function(e){if("string"==typeof e||Ts(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},$s=Os,Ms=Ls;var As=function(e,t){for(var n=0,r=(t=$s(t,e)).length;null!=e&&n<r;)e=e[Ms(t[n++])];return n&&n==r?e:void 0},Ns=Ua;var Es=Ua,js=qa,Ps=ls;var _s=Ua,Is=function(){this.__data__=new Ns,this.size=0},Rs=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ws=function(e){return this.__data__.get(e)},Ds=function(e){return this.__data__.has(e)},zs=function(e,t){var n=this.__data__;if(n instanceof Es){var r=n.__data__;if(!js||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ps(r)}return n.set(e,t),this.size=n.size,this};function Fs(e){var t=this.__data__=new _s(e);this.size=t.size}Fs.prototype.clear=Is,Fs.prototype.delete=Rs,Fs.prototype.get=Ws,Fs.prototype.has=Ds,Fs.prototype.set=zs;var Bs=Fs;var Hs=ls,Vs=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Us=function(e){return this.__data__.has(e)};function qs(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hs;++t<n;)this.add(e[t])}qs.prototype.add=qs.prototype.push=Vs,qs.prototype.has=Us;var Gs=qs;var Ys=function(e,t){return e.has(t)},Ks=Gs,Js=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Xs=Ys;var Qs=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,d=2&n?new Ks:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!Js(t,(function(e,t){if(!Xs(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Zs=oo.Uint8Array;var el=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},tl=Zs,nl=Na,rl=Qs,il=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},ol=el,al=ao?ao.prototype:void 0,sl=al?al.valueOf:void 0;var ll=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new tl(e),new tl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nl(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=il;case"[object Set]":var l=1&r;if(s||(s=ol),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=rl(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(sl)return sl.call(e)==sl.call(t)}return!1},ul=to,cl=$o;var fl=function(e,t,n){var r=t(e);return cl(e)?r:ul(r,n(e))};var hl=function(){return[]},dl=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},pl=hl,vl=Object.prototype.propertyIsEnumerable,gl=Object.getOwnPropertySymbols,ml=gl?function(e){return null==e?[]:(e=Object(e),dl(gl(e),(function(t){return vl.call(e,t)})))}:pl;var yl=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},bl={exports:{}};var wl=function(){return!1};!function(e,t){var n=oo,r=wl,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}(bl,bl.exports);var xl=/^(?:0|[1-9]\d*)$/;var kl=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&xl.test(e))&&e>-1&&e%1==0&&e<t};var Sl=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Cl=yo,Ol=Sl,Tl=bo,Ll={};Ll["[object Float32Array]"]=Ll["[object Float64Array]"]=Ll["[object Int8Array]"]=Ll["[object Int16Array]"]=Ll["[object Int32Array]"]=Ll["[object Uint8Array]"]=Ll["[object Uint8ClampedArray]"]=Ll["[object Uint16Array]"]=Ll["[object Uint32Array]"]=!0,Ll["[object Arguments]"]=Ll["[object Array]"]=Ll["[object ArrayBuffer]"]=Ll["[object Boolean]"]=Ll["[object DataView]"]=Ll["[object Date]"]=Ll["[object Error]"]=Ll["[object Function]"]=Ll["[object Map]"]=Ll["[object Number]"]=Ll["[object Object]"]=Ll["[object RegExp]"]=Ll["[object Set]"]=Ll["[object String]"]=Ll["[object WeakMap]"]=!1;var $l=function(e){return Tl(e)&&Ol(e.length)&&!!Ll[Cl(e)]};var Ml=function(e){return function(t){return e(t)}},Al={exports:{}};!function(e,t){var n=no,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}(Al,Al.exports);var Nl=$l,El=Ml,jl=Al.exports,Pl=jl&&jl.isTypedArray,_l=Pl?El(Pl):Nl,Il=yl,Rl=Lo,Wl=$o,Dl=bl.exports,zl=kl,Fl=_l,Bl=Object.prototype.hasOwnProperty;var Hl=function(e,t){var n=Wl(e),r=!n&&Rl(e),i=!n&&!r&&Dl(e),o=!n&&!r&&!i&&Fl(e),a=n||r||i||o,s=a?Il(e.length,String):[],l=s.length;for(var u in e)!t&&!Bl.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||zl(u,l))||s.push(u);return s},Vl=Object.prototype;var Ul=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Vl)};var ql=function(e,t){return function(n){return e(t(n))}},Gl=ql(Object.keys,Object),Yl=Ul,Kl=Gl,Jl=Object.prototype.hasOwnProperty;var Xl=Yo,Ql=Sl;var Zl=function(e){return null!=e&&Ql(e.length)&&!Xl(e)},eu=Hl,tu=function(e){if(!Yl(e))return Kl(e);var t=[];for(var n in Object(e))Jl.call(e,n)&&"constructor"!=n&&t.push(n);return t},nu=Zl;var ru=function(e){return nu(e)?eu(e):tu(e)},iu=fl,ou=ml,au=ru;var su=function(e){return iu(e,au,ou)},lu=su,uu=Object.prototype.hasOwnProperty;var cu=function(e,t,n,r,i,o){var a=1&n,s=lu(e),l=s.length;if(l!=lu(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:uu.call(t,c)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var v=e[c=s[u]],g=t[c];if(r)var m=a?r(g,v,c,t,e,o):r(v,g,c,e,t,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d},fu=ha(oo,"DataView"),hu=ha(oo,"Promise"),du=ha(oo,"Set"),pu=fu,vu=qa,gu=hu,mu=du,yu=ha(oo,"WeakMap"),bu=yo,wu=Zo,xu="[object Map]",ku="[object Promise]",Su="[object Set]",Cu="[object WeakMap]",Ou="[object DataView]",Tu=wu(pu),Lu=wu(vu),$u=wu(gu),Mu=wu(mu),Au=wu(yu),Nu=bu;(pu&&Nu(new pu(new ArrayBuffer(1)))!=Ou||vu&&Nu(new vu)!=xu||gu&&Nu(gu.resolve())!=ku||mu&&Nu(new mu)!=Su||yu&&Nu(new yu)!=Cu)&&(Nu=function(e){var t=bu(e),n="[object Object]"==t?e.constructor:void 0,r=n?wu(n):"";if(r)switch(r){case Tu:return Ou;case Lu:return xu;case $u:return ku;case Mu:return Su;case Au:return Cu}return t});var Eu=Nu,ju=Bs,Pu=Qs,_u=ll,Iu=cu,Ru=Eu,Wu=$o,Du=bl.exports,zu=_l,Fu="[object Arguments]",Bu="[object Array]",Hu="[object Object]",Vu=Object.prototype.hasOwnProperty;var Uu=function(e,t,n,r,i,o){var a=Wu(e),s=Wu(t),l=a?Bu:Ru(e),u=s?Bu:Ru(t),c=(l=l==Fu?Hu:l)==Hu,f=(u=u==Fu?Hu:u)==Hu,h=l==u;if(h&&Du(e)){if(!Du(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ju),a||zu(e)?Pu(e,t,n,r,i,o):_u(e,t,l,n,r,i,o);if(!(1&n)){var d=c&&Vu.call(e,"__wrapped__"),p=f&&Vu.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,g=p?t.value():t;return o||(o=new ju),i(v,g,n,r,o)}}return!!h&&(o||(o=new ju),Iu(e,t,n,r,i,o))},qu=bo;var Gu=function e(t,n,r,i,o){return t===n||(null==t||null==n||!qu(t)&&!qu(n)?t!=t&&n!=n:Uu(t,n,r,i,e,o))},Yu=Bs,Ku=Gu;var Ju=Vo;var Xu=function(e){return e==e&&!Ju(e)},Qu=Xu,Zu=ru;var ec=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},tc=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new Yu;if(r)var h=r(u,c,l,e,t,f);if(!(void 0===h?Ku(c,u,3,r,f):h))return!1}}return!0},nc=function(e){for(var t=Zu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qu(i)]}return t},rc=ec;var ic=As;var oc=Os,ac=Lo,sc=$o,lc=kl,uc=Sl,cc=Ls;var fc=function(e,t){return null!=e&&t in Object(e)},hc=function(e,t,n){for(var r=-1,i=(t=oc(t,e)).length,o=!1;++r<i;){var a=cc(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&uc(i)&&lc(a,i)&&(sc(e)||ac(e))};var dc=Gu,pc=function(e,t,n){var r=null==e?void 0:ic(e,t);return void 0===r?n:r},vc=function(e,t){return null!=e&&hc(e,t,fc)},gc=Ho,mc=Xu,yc=ec,bc=Ls;var wc=function(e){return e};var xc=As;var kc=function(e){return function(t){return null==t?void 0:t[e]}},Sc=function(e){return function(t){return xc(t,e)}},Cc=Ho,Oc=Ls;var Tc=function(e){var t=nc(e);return 1==t.length&&t[0][2]?rc(t[0][0],t[0][1]):function(n){return n===e||tc(n,e,t)}},Lc=function(e,t){return gc(e)&&mc(t)?yc(bc(e),t):function(n){var r=pc(n,e);return void 0===r&&r===t?vc(n,e):dc(t,r,3)}},$c=wc,Mc=$o,Ac=function(e){return Cc(e)?kc(Oc(e)):Sc(e)};var Nc=function(e){return"function"==typeof e?e:null==e?$c:"object"==typeof e?Mc(e)?Lc(e[0],e[1]):Tc(e):Ac(e)};var Ec=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}(),jc=ru;var Pc=Zl;var _c=function(e,t){return function(n,r){if(null==n)return n;if(!Pc(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&Ec(e,t,jc)})),Ic=Zl;var Rc=Wo;var Wc=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Rc(e),a=void 0!==t,s=null===t,l=t==t,u=Rc(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};var Dc=_o,zc=As,Fc=Nc,Bc=function(e,t){var n=-1,r=Ic(e)?Array(e.length):[];return _c(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},Hc=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},Vc=Ml,Uc=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Wc(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},qc=wc,Gc=$o;var Yc=function(e,t,n){t=t.length?Dc(t,(function(e){return Gc(e)?function(t){return zc(t,1===e.length?e[0]:e)}:e})):[qc];var r=-1;t=Dc(t,Vc(Fc));var i=Bc(e,(function(e,n,i){return{criteria:Dc(t,(function(t){return t(e)})),index:++r,value:e}}));return Hc(i,(function(e,t){return Uc(e,t,n)}))};var Kc=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Jc=Math.max;var Xc=function(e,t,n){return t=Jc(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Jc(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Kc(e,this,s)}};var Qc=function(e){return function(){return e}},Zc=ha,ef=function(){try{var e=Zc(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),tf=Qc,nf=ef,rf=nf?function(e,t){return nf(e,"toString",{configurable:!0,enumerable:!1,value:tf(t),writable:!0})}:wc,of=Date.now;var af=function(e){var t=0,n=0;return function(){var r=of(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(rf),sf=wc,lf=Xc,uf=af;var cf=Na,ff=Zl,hf=kl,df=Vo;var pf,vf=Po,gf=Yc,mf=function(e,t,n){if(!df(n))return!1;var r=typeof t;return!!("number"==r?ff(n)&&hf(t,n.length):"string"==r&&t in n)&&cf(n[t],e)},yf=function(e,t){return uf(lf(e,t,sf),e+"")}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mf(e,t[0],t[1])?t=[]:n>2&&mf(t[0],t[1],t[2])&&(t=[t[0]]),gf(e,vf(t,1),[])}));!function(e){e.getCharacterRange=function(t,n){e.validate(t),Xi.validate(n);var r=t.characterRanges;if(n.start>=r.length)throw new Error("Token range start is greater than the number of character ranges.");if(n.end>r.length)throw new Error("Token range end is greater than the number of character ranges.");if(0===n.length)return Ki.create({});var i=r[n.start].start,o=r[n.end-1].end;return Ki.create({start:i,end:o})},e.getTokens=function(t){return e.validate(t),t.characterRanges.map((function(e){return t.text.substring(e.start,e.end)}))},e.getTextForCharacterRange=function(t,n){e.validate(t);var r=t.text;return Ki.validate(n,r),r.substring(n.start,n.end)},e.getTextForTokenRange=function(t,n){return e.validate(t),Xi.validate(n),e.getTextForCharacterRange(t,e.getCharacterRange(t,n))},e.getTokenAtIndex=function(t,n){if(e.validate(t),n<0)throw new Error("The tokenIndex is negative.");if(n>=t.characterRanges.length)throw new Error("The tokenIndex is greater than the number of tokens.");var r=t.characterRanges[n];return t.text.substring(r.start,r.end)},e.validate=function(e){if(void 0===e)throw new Error("The tokenMap is undefined.");var t=e.characterRanges,n=e.text;if(void 0===n)throw new Error("The text is undefined.");if(void 0===t)throw new Error("The characterRanges array is undefined.");for(var r=yf(t,["start","end"]),i=-1,o=0;o<r.length;o++){var a=r[o];if(Ki.validate(a,n),a.start<i)throw new Error("Token map character range overlaps previous character range end. "+Ki.toString(t[o]));i=a.end}}}(pf||(pf={}));var bf=Wo;var wf=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!bf(a):n(a,s)))var s=a,l=o}return l},xf=function(e,t){return e>t},kf=Nc;var Sf=function(e,t){return e&&e.length?wf(e,kf(t),xf):void 0},Cf=function(e,t){var n={};return t.parts.forEach((function(t){if(t.variable){var r=t.variable;t.matches.length>0?t.matches.forEach((function(t){var i=e.substring(t.start,t.end),o=n[r];o?o.push(i):n[r]=[i]})):n[r]=[]}})),n};var Of=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},Tf=function(e){return e!=e},Lf=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var $f=function(e,t,n){return t==t?Lf(e,t,n):Of(e,Tf,n)};var Mf=function(e,t){return!!(null==e?0:e.length)&&$f(e,t,0)>-1};var Af=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Nf=du,Ef=function(){},jf=Nf&&1/el(new Nf([,-0]))[1]==1/0?function(e){return new Nf(e)}:Ef,Pf=Gs,_f=Mf,If=Af,Rf=Ys,Wf=jf,Df=el;var zf=Nc,Ff=function(e,t,n){var r=-1,i=_f,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=If;else if(o>=200){var u=t?null:Wf(e);if(u)return Df(u);a=!1,i=Rf,l=new Pf}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s};var Bf=function(e,t){return e&&e.length?Ff(e,zf(t)):[]},Hf=function(e,t){var n=[];return e&&e.forEach((function(e){e&&function(e,t,n){for(var r=new RegExp(t,"g"),i=r.exec(e);null!==i;)n.push(Ki.create({start:i.index,length:i[0].length})),i=r.exec(e)}(t,e,n)})),n},Vf=function(e){if(!e)throw new Error("The pattern is undefined, null, or empty.");for(var t=[],n=!1,r=0;r<e.length;r++){var i=e[r];if(n)t.push("\\"+i),n=!1;else switch(i){case"\\":n=!0;break;case"#":t.push("\\d");break;case"@":t.push("[a-zA-Z]");break;case"$":t.push("\\w");break;case"!":t.push("\\W");break;case"*":t.push("\\w*");break;case"^":case"(":case")":case"+":case"[":case"]":case"{":case"}":case"|":case".":case"?":t.push("\\"+i);break;default:t.push(i)}}return t.join("")},Uf=function(e,t,n){var r=e.startIds&&e.startIds.length>0;if(n){if(!r)throw new Error("The "+t+" node is missing a start ID.")}else if(r)throw new Error("The "+t+" node is an intermediate or end node but has a start ID.");if(e.children&&0!==Object.keys(e.children).length){var i=e.children;Object.keys(i).forEach((function(e){var t=i[e];if(!t)throw new Error("The "+e+" node is not defined.");Uf(t,e,!1)}))}else if(!e.endIds||0===e.endIds.length)throw new Error("The "+t+" node is missing an end ID and has no children.")},qf=function(e){if(!e)throw new Error("The node parameter is not defined.");if(e.startIds&&e.startIds.length>0)throw new Error("The root node has start IDs. Direct children of the root node should start phrases.");if(e.endIds&&e.endIds.length>0)throw new Error("The root node has end IDs. Descendants of the root node should end phrases.");if(e.children){var t=e.children;Object.keys(t).forEach((function(e){var n=t[e];if(!n)throw new Error("The "+e+" node is not defined.");Uf(n,e,!0)}))}},Gf=function(e,t,n){if(e){var r={};return e.forEach((function(e){!function(e,t){if(!e)throw new Error("The searchTokens array argument is undefined or null.");if(qf(t),0!==e.length){t.children||(t.children={});var n=Object.values(t.children).reduce((function(e,t){return e+t.startIds.length}),0),r=e.map((function(e){return null==e?void 0:e.trim()})).filter(Boolean),i=t;r.forEach((function(e,t){var o=e.toLowerCase();i.children=i.children||{},i.children[o]=i.children[o]||{},i=i.children[o],0===t&&(i.startIds=i.startIds||[],i.startIds.push(n)),t===r.length-1&&(i.endIds=i.endIds||[],i.endIds.push(n))}))}}(pf.getTokens(n(e)),r)})),function(e,t){if(!e)throw new Error("The textTokens array argument is undefined or null.");qf(t);var n=[],r=[],i={};return e.forEach((function(e,o){for(var a,s,l,u=e.trim().toLowerCase(),c=0;c<r.length;){var f=r[c].children[u];f?(null===(a=f.endIds)||void 0===a||a.forEach((function(e){var t=i[e],r=Xi.create({start:t,end:o+1});n.push(r)})),f.children&&Object.keys(f.children).length>0?(r[c]=f,c++):r.splice(c,1)):r.splice(c,1)}var h=null===(s=t.children)||void 0===s?void 0:s[u];h&&(h.startIds.forEach((function(e){return i[e]=o})),null===(l=h.endIds)||void 0===l||l.forEach((function(e){var t=i[e],r=Xi.create({start:t,end:o+1});n.push(r)})),h.children&&Object.keys(h.children).length>0&&r.push(h))})),n}(pf.getTokens(t),r).map((function(e){return pf.getCharacterRange(t,e)}))}return[]},Yf=function(e,t,n){var r=[];return e.phrases&&r.push.apply(r,Gf(e.phrases,t,n)),e.patterns&&r.push.apply(r,function(e,t){return e?Hf(e.map(Vf),t):[]}(e.patterns,t.text)),e.regularExpressions&&r.push.apply(r,Hf(e.regularExpressions,t.text)),{name:e.name,matches:Bf(r,(function(e){return e.start+".."+e.end})),ignoreOrder:e.ignoreOrder,required:e.required,weight:e.weight,variable:e.variable}},Kf=function(e,t,n,r,i){var o,a,s,l=e.name,u=e.parts,c=e.neverParts,f=(o=-1,a=[],s=function(e,t){var n=a.every((function(t){return!Ki.overlaps(e,t)}));if(n==a.every((function(e){return!Ki.overlaps(t,e)}))){var r=e.start>=o;return r==t.start>=o?e.start==t.start?t.length-e.length:e.start-t.start:r?-1:1}return n?-1:1},function(e){var t,n;e&&0!=e.length&&(e.sort(s),o=null!==(n=null===(t=e[0])||void 0===t?void 0:t.end)&&void 0!==n?n:o,a.push.apply(a,e.filter(Boolean)))}),h=u.map((function(e){var r=Yf(e,t,n);return f(r.matches),r})),d=(null==c?void 0:c.map((function(e){var r=Yf(e,t,n);return f(r.matches),r})))||[],p=function(e,t,n,r){var i=e.parts,o=e.neverParts,a=0,s=0,l=0,u=0,c=0,f=-1,h=[];i.forEach((function(e){var t=void 0!==e.weight?e.weight:1;s+=t,e.matches.length>0?(a++,l+=t,e.ignoreOrder?c++:((-1==f||e.matches[0].start>=f)&&c++,f=e.matches[0].end),h.push(e.matches[0])):e.required&&u++}));var d=o.filter((function(e){return e.matches.length>0})).length,p=t.characterRanges.length,v=t.characterRanges.filter((function(e){return h.some((function(t){return Ki.contains(t,e)}))})).length,g=0;return s>0&&(g=l/s),0!==d&&(g=0),0!==u&&(g=0),g-=(a>0?(a-c)/a:0)*n,g-=(p>0?(t.characterRanges.length-v)/p:0)*r,{score:g=Math.max(0,Math.min(1,g)),metrics:{partCount:i.length,matchedPartCount:a,missingRequiredPartCount:u,inOrderMatchedPartCount:c,matchedNeverPartCount:d,partWeightSum:s,matchedPartWeightSum:l,tokenCount:p,matchedTokenCount:v}}}({parts:h,neverParts:d},t,r,i);return{name:l,parts:h,neverParts:d,score:p.score,scoreMetrics:p.metrics}};var Jf=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Xf=ef;var Qf=function(e,t,n){"__proto__"==t&&Xf?Xf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Zf=Qf,eh=Na,th=Object.prototype.hasOwnProperty;var nh=function(e,t,n){var r=e[t];th.call(e,t)&&eh(r,n)&&(void 0!==n||t in e)||Zf(e,t,n)},rh=nh,ih=Qf;var oh=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?ih(n,s,l):rh(n,s,l)}return n},ah=oh,sh=ru;var lh=function(e,t){return e&&ah(t,sh(t),e)};var uh=Vo,ch=Ul,fh=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},hh=Object.prototype.hasOwnProperty;var dh=Hl,ph=function(e){if(!uh(e))return fh(e);var t=ch(e),n=[];for(var r in e)("constructor"!=r||!t&&hh.call(e,r))&&n.push(r);return n},vh=Zl;var gh=function(e){return vh(e)?dh(e,!0):ph(e)},mh=oh,yh=gh;var bh=function(e,t){return e&&mh(t,yh(t),e)},wh={exports:{}};!function(e,t){var n=oo,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}(wh,wh.exports);var xh=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},kh=oh,Sh=ml;var Ch=function(e,t){return kh(e,Sh(e),t)},Oh=ql(Object.getPrototypeOf,Object),Th=to,Lh=Oh,$h=ml,Mh=hl,Ah=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Th(t,$h(e)),e=Lh(e);return t}:Mh,Nh=oh,Eh=Ah;var jh=function(e,t){return Nh(e,Eh(e),t)},Ph=fl,_h=Ah,Ih=gh;var Rh=function(e){return Ph(e,Ih,_h)},Wh=Object.prototype.hasOwnProperty;var Dh=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Wh.call(e,"index")&&(n.index=e.index,n.input=e.input),n},zh=Zs;var Fh=function(e){var t=new e.constructor(e.byteLength);return new zh(t).set(new zh(e)),t},Bh=Fh;var Hh=function(e,t){var n=t?Bh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Vh=/\w*$/;var Uh=function(e){var t=new e.constructor(e.source,Vh.exec(e));return t.lastIndex=e.lastIndex,t},qh=ao?ao.prototype:void 0,Gh=qh?qh.valueOf:void 0;var Yh=Fh;var Kh=Fh,Jh=Hh,Xh=Uh,Qh=function(e){return Gh?Object(Gh.call(e)):{}},Zh=function(e,t){var n=t?Yh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var ed=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Kh(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Jh(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Zh(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Xh(e);case"[object Set]":return new r;case"[object Symbol]":return Qh(e)}},td=Vo,nd=Object.create,rd=function(){function e(){}return function(t){if(!td(t))return{};if(nd)return nd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),id=Oh,od=Ul;var ad=function(e){return"function"!=typeof e.constructor||od(e)?{}:rd(id(e))},sd=Eu,ld=bo;var ud=function(e){return ld(e)&&"[object Map]"==sd(e)},cd=Ml,fd=Al.exports,hd=fd&&fd.isMap,dd=hd?cd(hd):ud,pd=Eu,vd=bo;var gd=function(e){return vd(e)&&"[object Set]"==pd(e)},md=Ml,yd=Al.exports,bd=yd&&yd.isSet,wd=bd?md(bd):gd,xd=Bs,kd=Jf,Sd=nh,Cd=lh,Od=bh,Td=wh.exports,Ld=xh,$d=Ch,Md=jh,Ad=su,Nd=Rh,Ed=Eu,jd=Dh,Pd=ed,_d=ad,Id=$o,Rd=bl.exports,Wd=dd,Dd=Vo,zd=wd,Fd=ru,Bd=gh,Hd="[object Arguments]",Vd="[object Function]",Ud="[object Object]",qd={};qd[Hd]=qd["[object Array]"]=qd["[object ArrayBuffer]"]=qd["[object DataView]"]=qd["[object Boolean]"]=qd["[object Date]"]=qd["[object Float32Array]"]=qd["[object Float64Array]"]=qd["[object Int8Array]"]=qd["[object Int16Array]"]=qd["[object Int32Array]"]=qd["[object Map]"]=qd["[object Number]"]=qd[Ud]=qd["[object RegExp]"]=qd["[object Set]"]=qd["[object String]"]=qd["[object Symbol]"]=qd["[object Uint8Array]"]=qd["[object Uint8ClampedArray]"]=qd["[object Uint16Array]"]=qd["[object Uint32Array]"]=!0,qd["[object Error]"]=qd[Vd]=qd["[object WeakMap]"]=!1;var Gd=function e(t,n,r,i,o,a){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!Dd(t))return t;var f=Id(t);if(f){if(s=jd(t),!l)return Ld(t,s)}else{var h=Ed(t),d=h==Vd||"[object GeneratorFunction]"==h;if(Rd(t))return Td(t,l);if(h==Ud||h==Hd||d&&!o){if(s=u||d?{}:_d(t),!l)return u?Md(t,Od(s,t)):$d(t,Cd(s,t))}else{if(!qd[h])return o?t:{};s=Pd(t,h,l)}}a||(a=new xd);var p=a.get(t);if(p)return p;a.set(t,s),zd(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Wd(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var v=f?void 0:(c?u?Nd:Ad:u?Bd:Fd)(t);return kd(v||t,(function(i,o){v&&(i=t[o=i]),Sd(s,o,e(i,n,r,o,t,a))})),s};var Yd=function(e){return Gd(e,5)},Kd=function(e,t){var n=[];return e.forEach((function(e){if(/^\$ref=.*/gim.test(e)){var r=e.substring(5).trim();t[r]?n.push.apply(n,t[r]):n.push(e)}else n.push(e)})),n},Jd=function(e,t){e.phrases&&(e.phrases=Kd(e.phrases,t)),e.patterns&&(e.patterns=Kd(e.patterns,t)),e.regularExpressions&&(e.regularExpressions=Kd(e.regularExpressions,t))},Xd=function(e,t,n){var r,i=n||{},o=i.maxOutOfOrderPenalty,a=void 0===o?.15:o,s=i.maxNoisePenalty,l=void 0===s?.05:s,u=i.shared,c=i.tokenizer,f=void 0===c?Zi:c;if(a<0||a>1)throw new Error("The maxOutOfOrderPenalty must be between 0 and 1 (inclusive).");if(l<0||l>1)throw new Error("The maxNoisePenalty must be between 0 and 1 (inclusive).");var h=u?function(e,t){var n=Yd(e);return n.examples.forEach((function(e){var n;e.parts.forEach((function(e){Jd(e,t)})),null===(n=e.neverParts)||void 0===n||n.forEach((function(e){Jd(e,t)}))})),n}(t,u):t,d=(null!==(r=null==n?void 0:n.tokenizer)&&void 0!==r?r:Zi)(e),p=h.examples.map((function(e){return Kf(e,d,f,a,l)})),v=Sf(p,"score");return{name:h.name,score:v?v.score:0,details:{examples:p,textTokenMap:d},variableValues:v?Cf(e,v):{}}};function Qd(t){let n,r,o,a,s,l,u,c,f,h,d,p,v,b;return{c(){n=w("div"),r=w("div"),o=w("label"),a=k("Type something to recognize\r\n      "),s=w("input"),l=S(),u=w("button"),u.textContent="Go",c=S(),f=w("div"),h=w("label"),d=w("input"),p=k("\r\n      Auto recognize"),O(s,"id","TextInput"),O(s,"type","text"),O(o,"class","svelte-udfvo5"),O(u,"class","update-button svelte-udfvo5"),O(r,"class","input-field svelte-udfvo5"),O(d,"type","checkbox"),O(h,"class","svelte-udfvo5"),O(f,"class","options svelte-udfvo5"),O(n,"class","input-view svelte-udfvo5")},m(e,i){m(e,n,i),g(n,r),g(r,o),g(o,a),g(o,s),$(s,t[1]),g(r,l),g(r,u),g(n,c),g(n,f),g(f,h),g(h,d),d.checked=t[0],g(h,p),v||(b=[C(s,"input",t[5]),C(s,"keypress",t[2]),C(u,"click",t[3]),C(d,"change",t[6])],v=!0)},p(e,[t]){2&t&&s.value!==e[1]&&$(s,e[1]),1&t&&(d.checked=e[0])},i:e,o:e,d(e){e&&y(n),v=!1,i(b)}}}function Zd(e,t,n){let{text:r=""}=t,i=!0,o="";const a=R(),s=()=>{n(4,r=o),a("change",{})};return e.$$set=e=>{"text"in e&&n(4,r=e.text)},e.$$.update=()=>{16&e.$$.dirty&&n(1,o=r),1&e.$$.dirty&&i&&s(),19&e.$$.dirty&&i&&r!==o&&s()},[i,o,e=>{"Enter"===e.key&&s()},()=>{r!==o&&s()},r,function(){o=this.value,n(1,o),n(4,r)},function(){i=this.checked,n(0,i)}]}class ep extends le{constructor(e){super(),se(this,e,Zd,Qd,a,{text:4})}}function tp(t){let n;return{c(){n=w("div"),n.innerHTML='<h1>Welcome!</h1> \n    <p>This demonstrates the <a href="https://github.com/GeoffCox/pretty-good-nlp" target="_blank">pretty-good-nlp</a> recognizer.</p> \n    <h2>Intents</h2> \n    <p>On the left you can choose from one of the intent documents. Whichever tab\n      you select becomes the active document for recognition.</p> \n    <ul><li class="svelte-14t0600"><b>Coffee Order</b> demonstrates a single basic intent.</li> \n      <li class="svelte-14t0600"><b>Vacation</b> demonstrates multiple intents that share phrases, patterns, and regular expressions.</li> \n      <li class="svelte-14t0600"><b>Playground</b> provides a starting point for writing your own intents.</li></ul>     \n    <p>The top pane contains the list of intents. Each intent is made up of a\n      list of examples. Each example is a list of parts. A part can have phrases,\n      patterns, and/or regular expressions.</p> \n    <p>You can edit any of the intent documents to try and make them better.</p> \n    <p>The bottom pane contains the shared phrases, patterns, and regular\n      expressions for the current document. Shared items can be used by multiple\n      intents in the document using the $ref= expression.</p> \n    <h2>Recognition</h2> \n    <p>On the right you can try out how an intent is recognized.\n        Type something into the text box above and the recognizer will run using the currently selected intent document.</p> \n    <p>If you want to see these instructions again, clear the text box above.</p> \n    <p>For each intent, this pane will show recognition results.  \n        These will include the results of the matches and scoring for each example.</p>',O(n,"class","instructions svelte-14t0600")},m(e,t){m(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}class np extends le{constructor(e){super(),se(this,e,null,tp,a,{})}}var rp=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var ip=function(e,t){return rp(t,(function(t){return[t,e[t]]}))};var op=function(e){if(!Ce(e))return!1;var t=Ue(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ap=Ae["__core-js_shared__"],sp=function(){var e=/[^.]+$/.exec(ap&&ap.keys&&ap.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var lp=function(e){return!!sp&&sp in e},up=Function.prototype.toString;var cp=function(e){if(null!=e){try{return up.call(e)}catch(e){}try{return e+""}catch(e){}}return""},fp=/^\[object .+?Constructor\]$/,hp=Function.prototype,dp=Object.prototype,pp=hp.toString,vp=dp.hasOwnProperty,gp=RegExp("^"+pp.call(vp).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var mp=function(e){return!(!Ce(e)||lp(e))&&(op(e)?gp:fp).test(cp(e))};var yp=function(e,t){return null==e?void 0:e[t]};var bp=function(e,t){var n=yp(e,t);return mp(n)?n:void 0},wp=bp(Ae,"DataView"),xp=bp(Ae,"Map"),kp=bp(Ae,"Promise"),Sp=bp(Ae,"Set"),Cp=bp(Ae,"WeakMap"),Op="[object Map]",Tp="[object Promise]",Lp="[object Set]",$p="[object WeakMap]",Mp="[object DataView]",Ap=cp(wp),Np=cp(xp),Ep=cp(kp),jp=cp(Sp),Pp=cp(Cp),_p=Ue;(wp&&_p(new wp(new ArrayBuffer(1)))!=Mp||xp&&_p(new xp)!=Op||kp&&_p(kp.resolve())!=Tp||Sp&&_p(new Sp)!=Lp||Cp&&_p(new Cp)!=$p)&&(_p=function(e){var t=Ue(e),n="[object Object]"==t?e.constructor:void 0,r=n?cp(n):"";if(r)switch(r){case Ap:return Mp;case Np:return Op;case Ep:return Tp;case jp:return Lp;case Pp:return $p}return t});var Ip=_p;var Rp=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Wp=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n};var Dp=function(e){return function(t){var n=Ip(t);return"[object Map]"==n?Rp(t):"[object Set]"==n?Wp(t):ip(t,e(t))}};var zp=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Fp=function(e){return qe(e)&&"[object Arguments]"==Ue(e)},Bp=Object.prototype,Hp=Bp.hasOwnProperty,Vp=Bp.propertyIsEnumerable,Up=Fp(function(){return arguments}())?Fp:function(e){return qe(e)&&Hp.call(e,"callee")&&!Vp.call(e,"callee")},qp=Array.isArray;var Gp=function(){return!1},Yp=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?Ae.Buffer:void 0,o=(i?i.isBuffer:void 0)||Gp;e.exports=o})),Kp=/^(?:0|[1-9]\d*)$/;var Jp=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Kp.test(e))&&e>-1&&e%1==0&&e<t};var Xp=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Qp={};Qp["[object Float32Array]"]=Qp["[object Float64Array]"]=Qp["[object Int8Array]"]=Qp["[object Int16Array]"]=Qp["[object Int32Array]"]=Qp["[object Uint8Array]"]=Qp["[object Uint8ClampedArray]"]=Qp["[object Uint16Array]"]=Qp["[object Uint32Array]"]=!0,Qp["[object Arguments]"]=Qp["[object Array]"]=Qp["[object ArrayBuffer]"]=Qp["[object Boolean]"]=Qp["[object DataView]"]=Qp["[object Date]"]=Qp["[object Error]"]=Qp["[object Function]"]=Qp["[object Map]"]=Qp["[object Number]"]=Qp["[object Object]"]=Qp["[object RegExp]"]=Qp["[object Set]"]=Qp["[object String]"]=Qp["[object WeakMap]"]=!1;var Zp=function(e){return qe(e)&&Xp(e.length)&&!!Qp[Ue(e)]};var ev=function(e){return function(t){return e(t)}},tv=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&$e.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),nv=tv&&tv.isTypedArray,rv=nv?ev(nv):Zp,iv=Object.prototype.hasOwnProperty;var ov=function(e,t){var n=qp(e),r=!n&&Up(e),i=!n&&!r&&Yp(e),o=!n&&!r&&!i&&rv(e),a=n||r||i||o,s=a?zp(e.length,String):[],l=s.length;for(var u in e)!t&&!iv.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Jp(u,l))||s.push(u);return s},av=Object.prototype;var sv=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||av)};var lv=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),uv=Object.prototype.hasOwnProperty;var cv=function(e){if(!sv(e))return lv(e);var t=[];for(var n in Object(e))uv.call(e,n)&&"constructor"!=n&&t.push(n);return t};var fv=function(e){return null!=e&&Xp(e.length)&&!op(e)};var hv=function(e){return fv(e)?ov(e):cv(e)},dv=Dp(hv),pv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vv=/^\w*$/;var gv=function(e,t){if(qp(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ge(e))||(vv.test(e)||!pv.test(e)||null!=t&&e in Object(t))},mv=bp(Object,"create");var yv=function(){this.__data__=mv?mv(null):{},this.size=0};var bv=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wv=Object.prototype.hasOwnProperty;var xv=function(e){var t=this.__data__;if(mv){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return wv.call(t,e)?t[e]:void 0},kv=Object.prototype.hasOwnProperty;var Sv=function(e){var t=this.__data__;return mv?void 0!==t[e]:kv.call(t,e)};var Cv=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mv&&void 0===t?"__lodash_hash_undefined__":t,this};function Ov(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ov.prototype.clear=yv,Ov.prototype.delete=bv,Ov.prototype.get=xv,Ov.prototype.has=Sv,Ov.prototype.set=Cv;var Tv=Ov;var Lv=function(){this.__data__=[],this.size=0};var $v=function(e,t){return e===t||e!=e&&t!=t};var Mv=function(e,t){for(var n=e.length;n--;)if($v(e[n][0],t))return n;return-1},Av=Array.prototype.splice;var Nv=function(e){var t=this.__data__,n=Mv(t,e);return!(n<0)&&(n==t.length-1?t.pop():Av.call(t,n,1),--this.size,!0)};var Ev=function(e){var t=this.__data__,n=Mv(t,e);return n<0?void 0:t[n][1]};var jv=function(e){return Mv(this.__data__,e)>-1};var Pv=function(e,t){var n=this.__data__,r=Mv(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function _v(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_v.prototype.clear=Lv,_v.prototype.delete=Nv,_v.prototype.get=Ev,_v.prototype.has=jv,_v.prototype.set=Pv;var Iv=_v;var Rv=function(){this.size=0,this.__data__={hash:new Tv,map:new(xp||Iv),string:new Tv}};var Wv=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Dv=function(e,t){var n=e.__data__;return Wv(t)?n["string"==typeof t?"string":"hash"]:n.map};var zv=function(e){var t=Dv(this,e).delete(e);return this.size-=t?1:0,t};var Fv=function(e){return Dv(this,e).get(e)};var Bv=function(e){return Dv(this,e).has(e)};var Hv=function(e,t){var n=Dv(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Vv(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vv.prototype.clear=Rv,Vv.prototype.delete=zv,Vv.prototype.get=Fv,Vv.prototype.has=Bv,Vv.prototype.set=Hv;var Uv=Vv;function qv(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(qv.Cache||Uv),n}qv.Cache=Uv;var Gv=qv;var Yv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kv=/\\(\\)?/g,Jv=function(e){var t=Gv(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Yv,(function(e,n,r,i){t.push(r?i.replace(Kv,"$1"):n||e)})),t})),Xv=Ie?Ie.prototype:void 0,Qv=Xv?Xv.toString:void 0;var Zv=function e(t){if("string"==typeof t)return t;if(qp(t))return rp(t,e)+"";if(Ge(t))return Qv?Qv.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var eg=function(e){return null==e?"":Zv(e)};var tg=function(e,t){return qp(e)?e:gv(e,t)?[e]:Jv(eg(e))};var ng=function(e){if("string"==typeof e||Ge(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var rg=function(e,t){for(var n=0,r=(t=tg(t,e)).length;null!=e&&n<r;)e=e[ng(t[n++])];return n&&n==r?e:void 0};var ig=function(){this.__data__=new Iv,this.size=0};var og=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ag=function(e){return this.__data__.get(e)};var sg=function(e){return this.__data__.has(e)};var lg=function(e,t){var n=this.__data__;if(n instanceof Iv){var r=n.__data__;if(!xp||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Uv(r)}return n.set(e,t),this.size=n.size,this};function ug(e){var t=this.__data__=new Iv(e);this.size=t.size}ug.prototype.clear=ig,ug.prototype.delete=og,ug.prototype.get=ag,ug.prototype.has=sg,ug.prototype.set=lg;var cg=ug;var fg=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var hg=function(e){return this.__data__.has(e)};function dg(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Uv;++t<n;)this.add(e[t])}dg.prototype.add=dg.prototype.push=fg,dg.prototype.has=hg;var pg=dg;var vg=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var gg=function(e,t){return e.has(t)};var mg=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,d=2&n?new pg:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!vg(t,(function(e,t){if(!gg(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},yg=Ae.Uint8Array;var bg=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},wg=Ie?Ie.prototype:void 0,xg=wg?wg.valueOf:void 0;var kg=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new yg(e),new yg(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $v(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Rp;case"[object Set]":var l=1&r;if(s||(s=bg),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=mg(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(xg)return xg.call(e)==xg.call(t)}return!1};var Sg=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var Cg=function(e,t,n){var r=t(e);return qp(e)?r:Sg(r,n(e))};var Og=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var Tg=function(){return[]},Lg=Object.prototype.propertyIsEnumerable,$g=Object.getOwnPropertySymbols,Mg=$g?function(e){return null==e?[]:(e=Object(e),Og($g(e),(function(t){return Lg.call(e,t)})))}:Tg;var Ag=function(e){return Cg(e,hv,Mg)},Ng=Object.prototype.hasOwnProperty;var Eg=function(e,t,n,r,i,o){var a=1&n,s=Ag(e),l=s.length;if(l!=Ag(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:Ng.call(t,c)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var v=e[c=s[u]],g=t[c];if(r)var m=a?r(g,v,c,t,e,o):r(v,g,c,e,t,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d},jg="[object Arguments]",Pg="[object Array]",_g="[object Object]",Ig=Object.prototype.hasOwnProperty;var Rg=function(e,t,n,r,i,o){var a=qp(e),s=qp(t),l=a?Pg:Ip(e),u=s?Pg:Ip(t),c=(l=l==jg?_g:l)==_g,f=(u=u==jg?_g:u)==_g,h=l==u;if(h&&Yp(e)){if(!Yp(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new cg),a||rv(e)?mg(e,t,n,r,i,o):kg(e,t,l,n,r,i,o);if(!(1&n)){var d=c&&Ig.call(e,"__wrapped__"),p=f&&Ig.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,g=p?t.value():t;return o||(o=new cg),i(v,g,n,r,o)}}return!!h&&(o||(o=new cg),Eg(e,t,n,r,i,o))};var Wg=function e(t,n,r,i,o){return t===n||(null==t||null==n||!qe(t)&&!qe(n)?t!=t&&n!=n:Rg(t,n,r,i,e,o))};var Dg=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new cg;if(r)var h=r(u,c,l,e,t,f);if(!(void 0===h?Wg(c,u,3,r,f):h))return!1}}return!0};var zg=function(e){return e==e&&!Ce(e)};var Fg=function(e){for(var t=hv(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,zg(i)]}return t};var Bg=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Hg=function(e){var t=Fg(e);return 1==t.length&&t[0][2]?Bg(t[0][0],t[0][1]):function(n){return n===e||Dg(n,e,t)}};var Vg=function(e,t,n){var r=null==e?void 0:rg(e,t);return void 0===r?n:r};var Ug=function(e,t){return null!=e&&t in Object(e)};var qg=function(e,t,n){for(var r=-1,i=(t=tg(t,e)).length,o=!1;++r<i;){var a=ng(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Xp(i)&&Jp(a,i)&&(qp(e)||Up(e))};var Gg=function(e,t){return null!=e&&qg(e,t,Ug)};var Yg=function(e,t){return gv(e)&&zg(t)?Bg(ng(e),t):function(n){var r=Vg(n,e);return void 0===r&&r===t?Gg(n,e):Wg(t,r,3)}};var Kg=function(e){return e};var Jg=function(e){return function(t){return null==t?void 0:t[e]}};var Xg=function(e){return function(t){return rg(t,e)}};var Qg=function(e){return gv(e)?Jg(ng(e)):Xg(e)};var Zg=function(e){return"function"==typeof e?e:null==e?Kg:"object"==typeof e?qp(e)?Yg(e[0],e[1]):Hg(e):Qg(e)};var em=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}();var tm=function(e,t){return function(n,r){if(null==n)return n;if(!fv(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&em(e,t,hv)}));var nm=function(e,t){var n=-1,r=fv(e)?Array(e.length):[];return tm(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};var rm=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var im=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Ge(e),a=void 0!==t,s=null===t,l=t==t,u=Ge(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};var om=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=im(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index};var am=function(e,t,n){t=t.length?rp(t,(function(e){return qp(e)?function(t){return rg(t,1===e.length?e[0]:e)}:e})):[Kg];var r=-1;t=rp(t,ev(Zg));var i=nm(e,(function(e,n,i){return{criteria:rp(t,(function(t){return t(e)})),index:++r,value:e}}));return rm(i,(function(e,t){return om(e,t,n)}))};var sm=function(e,t,n,r){return null==e?[]:(qp(t)||(t=null==t?[]:[t]),qp(n=r?void 0:n)||(n=null==n?[]:[n]),am(e,t,n))};function lm(e,t,n){const r=e.slice();return r[8]=t[n],r}function um(e){let t,n;return{c(){t=w("div"),O(t,"class","line svelte-1dwp5oi"),O(t,"style",n=e[8])},m(e,n){m(e,t,n)},p(e,r){4&r&&n!==(n=e[8])&&O(t,"style",n)},d(e){e&&y(t)}}}function cm(t){let n,r,i,o,a,s,l,u=t[2].segments,c=[];for(let e=0;e<u.length;e+=1)c[e]=um(lm(t,u,e));return{c(){n=w("div"),r=w("div"),r.textContent="W",i=S(),o=w("div"),a=k(t[0]),s=S(),l=w("div");for(let e=0;e<c.length;e+=1)c[e].c();O(r,"class","measure-character svelte-1dwp5oi"),O(o,"class","utterance svelte-1dwp5oi"),O(l,"class","lines svelte-1dwp5oi"),O(l,"style",t[3]),O(n,"class","match-label svelte-1dwp5oi")},m(e,u){m(e,n,u),g(n,r),t[7](r),g(n,i),g(n,o),g(o,a),g(n,s),g(n,l);for(let e=0;e<c.length;e+=1)c[e].m(l,null)},p(e,[t]){if(1&t&&L(a,e[0]),4&t){let n;for(u=e[2].segments,n=0;n<u.length;n+=1){const r=lm(e,u,n);c[n]?c[n].p(r,t):(c[n]=um(r),c[n].c(),c[n].m(l,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=u.length}8&t&&O(l,"style",e[3])},i:e,o:e,d(e){e&&y(n),t[7](null),b(c,e)}}}function fm(e,t,n){let r,i,o,a,s,{text:l}=t,{exampleRecognition:u}=t;return e.$$set=e=>{"text"in e&&n(0,l=e.text),"exampleRecognition"in e&&n(4,u=e.exampleRecognition)},e.$$.update=()=>{2&e.$$.dirty&&n(5,r=s&&s.getBoundingClientRect()),32&e.$$.dirty&&n(6,i=(null==r?void 0:r.width)||0),80&e.$$.dirty&&n(2,o=((e,t,n,r)=>{var i,o;let a=[];null===(i=e.neverParts)||void 0===i||i.forEach((e=>{var t;null===(t=e.matches)||void 0===t||t.forEach((e=>{a.push(Object.assign(Object.assign({},e),{isBestMatch:!1,isNeverMatch:!0}))}))})),null===(o=e.parts)||void 0===o||o.forEach((e=>{var t;null===(t=e.matches)||void 0===t||t.forEach(((e,t)=>{a.push(Object.assign(Object.assign({},e),{isBestMatch:0===t,isNeverMatch:!1}))}))})),a=sm(a,["isNeverMatch","isSecondary"],["desc","asc"]);const s=[],l=[];let u=-1,c=0;return a.forEach((e=>{const i=l.filter((t=>t.end>e.start&&t.start<e.end)).length;l.push(e),u=Math.max(u,e.end),c=Math.max(c,i),s.push(`--line-left:${e.start*t}px;--line-top:${i*(r+n)}px;--line-width:${e.length*t}px;--line-height: ${n}px;--line-color: `+(e.isNeverMatch?"darkRed":e.isBestMatch?"darkGreen":"gray"))})),{segments:s,lineCount:c}})(u,i,3,2)),4&e.$$.dirty&&n(3,a=`--lines-height:${5*o.lineCount}px;`)},[l,s,o,a,u,r,i,function(e){z[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class hm extends le{constructor(e){super(),se(this,e,fm,cm,a,{text:0,exampleRecognition:4})}}function dm(e){let t,n,r,i,o,a,s,l,u,c,f,h,d,p,v,b,x,C,T,$,M,A=e[9](e[4])+"",N=e[9](e[2])+"",E=e[9](e[3])+"",j=e[9](e[0])+"",P=e[1].missingRequiredPartCount>0&&pm();return{c(){t=w("div"),n=k(A),r=k(" weighted matches"),i=S(),o=w("div"),o.textContent="-",a=S(),s=w("div"),l=k(N),u=k(" out of order"),c=S(),f=w("div"),f.textContent="-",h=S(),d=w("div"),p=k(E),v=k(" noise"),b=S(),x=w("div"),x.textContent="=",C=S(),T=w("div"),$=k(j),M=S(),P&&P.c(),O(t,"class","matches"),O(t,"title",e[5]),O(o,"class","math-operator svelte-2jsfjb"),O(s,"class","out-of-order"),O(s,"title",e[6]),O(f,"class","math-operator svelte-2jsfjb"),O(d,"class","noise"),O(d,"title",e[7]),O(x,"class","math-operator svelte-2jsfjb"),O(T,"class","score"),O(T,"title",e[8])},m(e,y){m(e,t,y),g(t,n),g(t,r),m(e,i,y),m(e,o,y),m(e,a,y),m(e,s,y),g(s,l),g(s,u),m(e,c,y),m(e,f,y),m(e,h,y),m(e,d,y),g(d,p),g(d,v),m(e,b,y),m(e,x,y),m(e,C,y),m(e,T,y),g(T,$),g(T,M),P&&P.m(T,null)},p(e,r){16&r&&A!==(A=e[9](e[4])+"")&&L(n,A),32&r&&O(t,"title",e[5]),4&r&&N!==(N=e[9](e[2])+"")&&L(l,N),64&r&&O(s,"title",e[6]),8&r&&E!==(E=e[9](e[3])+"")&&L(p,E),128&r&&O(d,"title",e[7]),1&r&&j!==(j=e[9](e[0])+"")&&L($,j),e[1].missingRequiredPartCount>0?P||(P=pm(),P.c(),P.m(T,null)):P&&(P.d(1),P=null),256&r&&O(T,"title",e[8])},d(e){e&&y(t),e&&y(i),e&&y(o),e&&y(a),e&&y(s),e&&y(c),e&&y(f),e&&y(h),e&&y(d),e&&y(b),e&&y(x),e&&y(C),e&&y(T),P&&P.d()}}}function pm(e){let t;return{c(){t=w("sup"),t.textContent="*",O(t,"class","issue svelte-2jsfjb")},m(e,n){m(e,t,n)},d(e){e&&y(t)}}}function vm(t){let n,r=t[1]&&dm(t);return{c(){n=w("div"),r&&r.c(),O(n,"class","metrics svelte-2jsfjb")},m(e,t){m(e,n,t),r&&r.m(n,null)},p(e,[t]){e[1]?r?r.p(e,t):(r=dm(e),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&y(n),r&&r.d()}}}function gm(e,t,n){let r,i,o,a,s,l,u,c,f,h,d,{score:p}=t,{metrics:v}=t;const g=e=>`${Math.floor(100*e)}%`;return e.$$set=e=>{"score"in e&&n(0,p=e.score),"metrics"in e&&n(1,v=e.metrics)},e.$$.update=()=>{2&e.$$.dirty&&n(4,r=0===v.matchedNeverPartCount&&v.partWeightSum>0?v.matchedPartWeightSum/v.partWeightSum:0),2&e.$$.dirty&&n(5,i=0===v.matchedNeverPartCount?`${v.matchedPartCount}/${v.partCount} matches, ${v.matchedPartWeightSum}/${v.partWeightSum} weighted sum`:`${v.matchedNeverPartCount} never matches`),2&e.$$.dirty&&v.missingRequiredPartCount>0&&(v.missingRequiredPartCount,v.missingRequiredPartCount),2&e.$$.dirty&&n(10,o=v.matchedPartCount>0?v.matchedPartCount-v.inOrderMatchedPartCount:0),1026&e.$$.dirty&&n(11,a=v.matchedPartCount>0?o/v.matchedPartCount:0),2048&e.$$.dirty&&n(2,s=.15*a),3078&e.$$.dirty&&n(6,l=`${o}/${v.matchedPartCount} tokens out of order  = ${g(a)} x 15% penalty weight = ${g(s)}`),2&e.$$.dirty&&n(12,u=v.tokenCount>0?v.tokenCount-v.matchedTokenCount:0),4098&e.$$.dirty&&n(13,c=v.tokenCount>0?u/v.tokenCount:0),8192&e.$$.dirty&&n(3,f=.05*c),12298&e.$$.dirty&&n(7,h=`${u}/${v.tokenCount} noise tokens =  ${g(c)} x 5% penalty weight = ${g(f)}`),2&e.$$.dirty&&n(8,d=v.missingRequiredPartCount>0?`${v.missingRequiredPartCount} required ${v.missingRequiredPartCount>1?"parts":"part"} missing`:"")},[p,v,s,f,r,i,l,h,d,g,o,a,u,c]}class mm extends le{constructor(e){super(),se(this,e,gm,vm,a,{score:0,metrics:1})}}function ym(e){let t,n,r,i,o,a,s,l,u,c,f,h,d,p,v,b,x,C=e[0].name+"";return d=new hm({props:{exampleRecognition:e[0],text:e[1]}}),b=new mm({props:{score:e[0].score,metrics:e[0].scoreMetrics}}),{c(){t=w("div"),n=w("div"),r=w("div"),i=w("div"),o=k(e[2]),a=k("%"),s=S(),l=w("div"),u=k(C),c=S(),f=w("div"),h=w("div"),re(d.$$.fragment),p=S(),v=w("div"),re(b.$$.fragment),O(i,"class","score-value svelte-1kntzf"),O(r,"class","score svelte-1kntzf"),O(l,"class","example-name svelte-1kntzf"),O(n,"class","header svelte-1kntzf"),O(h,"class","labels"),O(v,"class","metrics svelte-1kntzf"),O(f,"class","details svelte-1kntzf"),O(t,"class","example-result svelte-1kntzf")},m(e,y){m(e,t,y),g(t,n),g(n,r),g(r,i),g(i,o),g(i,a),g(n,s),g(n,l),g(l,u),g(t,c),g(t,f),g(f,h),ie(d,h,null),g(f,p),g(f,v),ie(b,v,null),x=!0},p(e,t){(!x||4&t)&&L(o,e[2]),(!x||1&t)&&C!==(C=e[0].name+"")&&L(u,C);const n={};1&t&&(n.exampleRecognition=e[0]),2&t&&(n.text=e[1]),d.$set(n);const r={};1&t&&(r.score=e[0].score),1&t&&(r.metrics=e[0].scoreMetrics),b.$set(r)},i(e){x||(ee(d.$$.fragment,e),ee(b.$$.fragment,e),x=!0)},o(e){te(d.$$.fragment,e),te(b.$$.fragment,e),x=!1},d(e){e&&y(t),oe(d),oe(b)}}}function bm(e){let t,n,r=e[0]&&ym(e);return{c(){t=w("div"),r&&r.c()},m(e,i){m(e,t,i),r&&r.m(t,null),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&ee(r,1)):(r=ym(e),r.c(),ee(r,1),r.m(t,null)):r&&(Q(),te(r,1,1,(()=>{r=null})),Z())},i(e){n||(ee(r),n=!0)},o(e){te(r),n=!1},d(e){e&&y(t),r&&r.d()}}}function wm(e,t,n){let r,{exampleRecognition:i}=t,{text:o}=t;return e.$$set=e=>{"exampleRecognition"in e&&n(0,i=e.exampleRecognition),"text"in e&&n(1,o=e.text)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=i?Math.floor(100*i.score):0)},[i,o,r]}class xm extends le{constructor(e){super(),se(this,e,wm,bm,a,{exampleRecognition:0,text:1})}}function km(e,t,n){const r=e.slice();return r[10]=t[n],r}function Sm(e,t,n){const r=e.slice();return r[13]=t[n],r}function Cm(e){let t,n,r,i,o,a,s,l,u,c,f,h,d,p,v,x,C,T,$=e[0].name+"",M=e[5],A=[];for(let t=0;t<M.length;t+=1)A[t]=Om(Sm(e,M,t));const N=[Lm,Tm],E=[];function j(e,t){return e[3]?0:1}v=j(e),x=E[v]=N[v](e);let P=e[2].length>1&&Mm(e);return{c(){t=w("div"),n=w("div"),r=w("div"),i=k(e[4]),o=k("%"),a=S(),s=w("div"),l=w("div"),u=k($),c=S(),f=w("div");for(let e=0;e<A.length;e+=1)A[e].c();h=S(),d=w("div"),p=w("div"),x.c(),C=S(),P&&P.c(),O(r,"class","score-value svelte-1vwy47o"),O(n,"class","score svelte-1vwy47o"),O(l,"class","intent-name svelte-1vwy47o"),O(f,"class","variables svelte-1vwy47o"),O(p,"class","examples"),O(d,"class","examples-area"),O(s,"class","summary svelte-1vwy47o"),O(t,"class","intent-result svelte-1vwy47o")},m(e,y){m(e,t,y),g(t,n),g(n,r),g(r,i),g(r,o),g(t,a),g(t,s),g(s,l),g(l,u),g(s,c),g(s,f);for(let e=0;e<A.length;e+=1)A[e].m(f,null);g(s,h),g(s,d),g(d,p),E[v].m(p,null),g(d,C),P&&P.m(d,null),T=!0},p(e,t){if((!T||16&t)&&L(i,e[4]),(!T||1&t)&&$!==($=e[0].name+"")&&L(u,$),32&t){let n;for(M=e[5],n=0;n<M.length;n+=1){const r=Sm(e,M,n);A[n]?A[n].p(r,t):(A[n]=Om(r),A[n].c(),A[n].m(f,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=M.length}let n=v;v=j(e),v===n?E[v].p(e,t):(Q(),te(E[n],1,1,(()=>{E[n]=null})),Z(),x=E[v],x?x.p(e,t):(x=E[v]=N[v](e),x.c()),ee(x,1),x.m(p,null)),e[2].length>1?P?P.p(e,t):(P=Mm(e),P.c(),P.m(d,null)):P&&(P.d(1),P=null)},i(e){T||(ee(x),T=!0)},o(e){te(x),T=!1},d(e){e&&y(t),b(A,e),E[v].d(),P&&P.d()}}}function Om(e){let t,n,r,i,o,a,s=e[13][0]+"",l=e[13][1].join(" | ")+"";return{c(){t=w("div"),n=k(s),r=S(),i=w("div"),o=k(l),a=S(),O(t,"class","variable-name svelte-1vwy47o"),O(i,"class","variable-value svelte-1vwy47o")},m(e,s){m(e,t,s),g(t,n),m(e,r,s),m(e,i,s),g(i,o),g(i,a)},p(e,t){32&t&&s!==(s=e[13][0]+"")&&L(n,s),32&t&&l!==(l=e[13][1].join(" | ")+"")&&L(o,l)},d(e){e&&y(t),e&&y(r),e&&y(i)}}}function Tm(e){let t,n,r;return n=new xm({props:{exampleRecognition:e[6],text:e[1]}}),{c(){t=w("div"),re(n.$$.fragment),O(t,"class","example svelte-1vwy47o")},m(e,i){m(e,t,i),ie(n,t,null),r=!0},p(e,t){const r={};64&t&&(r.exampleRecognition=e[6]),2&t&&(r.text=e[1]),n.$set(r)},i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(e){e&&y(t),oe(n)}}}function Lm(e){let t,n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=$m(km(e,r,t));const o=e=>te(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=k("")},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);m(e,t,r),n=!0},p(e,n){if(6&n){let a;for(r=e[2],a=0;a<r.length;a+=1){const o=km(e,r,a);i[a]?(i[a].p(o,n),ee(i[a],1)):(i[a]=$m(o),i[a].c(),ee(i[a],1),i[a].m(t.parentNode,t))}for(Q(),a=r.length;a<i.length;a+=1)o(a);Z()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ee(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)te(i[e]);n=!1},d(e){b(i,e),e&&y(t)}}}function $m(e){let t,n,r,i;return n=new xm({props:{exampleRecognition:e[10],text:e[1]}}),{c(){t=w("div"),re(n.$$.fragment),r=S(),O(t,"class","example svelte-1vwy47o")},m(e,o){m(e,t,o),ie(n,t,null),g(t,r),i=!0},p(e,t){const r={};4&t&&(r.exampleRecognition=e[10]),2&t&&(r.text=e[1]),n.$set(r)},i(e){i||(ee(n.$$.fragment,e),i=!0)},o(e){te(n.$$.fragment,e),i=!1},d(e){e&&y(t),oe(n)}}}function Mm(e){let t,n,r,i,o=e[3]?"Hide Other Example Recognitions":"Show All Example Recognitions";return{c(){t=w("button"),n=k(o),O(t,"class","toggle-examples-button svelte-1vwy47o")},m(o,a){m(o,t,a),g(t,n),r||(i=C(t,"click",e[7]),r=!0)},p(e,t){8&t&&o!==(o=e[3]?"Hide Other Example Recognitions":"Show All Example Recognitions")&&L(n,o)},d(e){e&&y(t),r=!1,i()}}}function Am(e){let t,n,r=e[0]&&Cm(e);return{c(){t=w("div"),r&&r.c()},m(e,i){m(e,t,i),r&&r.m(t,null),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&ee(r,1)):(r=Cm(e),r.c(),ee(r,1),r.m(t,null)):r&&(Q(),te(r,1,1,(()=>{r=null})),Z())},i(e){n||(ee(r),n=!0)},o(e){te(r),n=!1},d(e){e&&y(t),r&&r.d()}}}function Nm(e,t,n){let r,i,o,a;var s,l;let{intentRecognition:u}=t,{text:c}=t;let f=!1;return e.$$set=e=>{"intentRecognition"in e&&n(0,u=e.intentRecognition),"text"in e&&n(1,c=e.text)},e.$$.update=()=>{1&e.$$.dirty&&n(4,r=u?Math.floor(100*u.score):0),1&e.$$.dirty&&n(5,i=u?dv(u.variableValues):void 0),769&e.$$.dirty&&n(2,o=(null===n(8,s=null==u?void 0:u.details)||void 0===s?void 0:s.examples)?sm(null===n(9,l=null==u?void 0:u.details)||void 0===l?void 0:l.examples,["score"],["desc"]):[]),4&e.$$.dirty&&n(6,a=null==o?void 0:o[0])},[u,c,o,f,r,i,a,()=>{n(3,f=!f)},s,l]}class Em extends le{constructor(e){super(),se(this,e,Nm,Am,a,{intentRecognition:0,text:1})}}function jm(e){let n,r,o,a,s;const l=e[2].default,c=u(l,e,e[1],null);let h=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],d={};for(let e=0;e<h.length;e+=1)d=t(d,h[e]);return{c(){n=x("svg"),c&&c.c(),r=x("path"),O(r,"d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"),T(n,d),j(n,"bi",!0),j(n,"bi-circle",!0)},m(t,i){m(t,n,i),c&&c.m(n,null),g(n,r),o=!0,a||(s=[C(n,"click",e[3]),C(n,"mouseover",e[4]),C(n,"mouseenter",e[5]),C(n,"mouseleave",e[6]),C(n,"keydown",e[7])],a=!0)},p(e,[t]){c&&c.p&&2&t&&f(c,l,e,e[1],t,null,null),T(n,d=ne(h,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&t&&e[0]])),j(n,"bi",!0),j(n,"bi-circle",!0)},i(e){o||(ee(c,e),o=!0)},o(e){te(c,e),o=!1},d(e){e&&y(n),c&&c.d(e),a=!1,i(s)}}}function Pm(e,n,r){const i=[];let o=d(n,i),{$$slots:a={},$$scope:s}=n;return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=d(n,i)),"$$scope"in e&&r(1,s=e.$$scope)},[o,s,a,function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)}]}var _m=class extends le{constructor(e){super(),se(this,e,Pm,jm,a,{})}};function Im(e){let n,r,o,a,s,l;const c=e[2].default,h=u(c,e,e[1],null);let d=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],p={};for(let e=0;e<d.length;e+=1)p=t(p,d[e]);return{c(){n=x("svg"),h&&h.c(),r=x("path"),o=x("path"),O(r,"d","M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"),O(o,"d","M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"),T(n,p),j(n,"bi",!0),j(n,"bi-clock",!0)},m(t,i){m(t,n,i),h&&h.m(n,null),g(n,r),g(n,o),a=!0,s||(l=[C(n,"click",e[3]),C(n,"mouseover",e[4]),C(n,"mouseenter",e[5]),C(n,"mouseleave",e[6]),C(n,"keydown",e[7])],s=!0)},p(e,[t]){h&&h.p&&2&t&&f(h,c,e,e[1],t,null,null),T(n,p=ne(d,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&t&&e[0]])),j(n,"bi",!0),j(n,"bi-clock",!0)},i(e){a||(ee(h,e),a=!0)},o(e){te(h,e),a=!1},d(e){e&&y(n),h&&h.d(e),s=!1,i(l)}}}function Rm(e,n,r){const i=[];let o=d(n,i),{$$slots:a={},$$scope:s}=n;return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=d(n,i)),"$$scope"in e&&r(1,s=e.$$scope)},[o,s,a,function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)}]}var Wm=class extends le{constructor(e){super(),se(this,e,Rm,Im,a,{})}};function Dm(e){let n,r,o,a,s;const l=e[2].default,c=u(l,e,e[1],null);let h=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],d={};for(let e=0;e<h.length;e+=1)d=t(d,h[e]);return{c(){n=x("svg"),c&&c.c(),r=x("path"),O(r,"d","M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"),T(n,d),j(n,"bi",!0),j(n,"bi-cpu",!0)},m(t,i){m(t,n,i),c&&c.m(n,null),g(n,r),o=!0,a||(s=[C(n,"click",e[3]),C(n,"mouseover",e[4]),C(n,"mouseenter",e[5]),C(n,"mouseleave",e[6]),C(n,"keydown",e[7])],a=!0)},p(e,[t]){c&&c.p&&2&t&&f(c,l,e,e[1],t,null,null),T(n,d=ne(h,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&t&&e[0]])),j(n,"bi",!0),j(n,"bi-cpu",!0)},i(e){o||(ee(c,e),o=!0)},o(e){te(c,e),o=!1},d(e){e&&y(n),c&&c.d(e),a=!1,i(s)}}}function zm(e,n,r){const i=[];let o=d(n,i),{$$slots:a={},$$scope:s}=n;return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=d(n,i)),"$$scope"in e&&r(1,s=e.$$scope)},[o,s,a,function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)},function(t){W(e,t)}]}var Fm=class extends le{constructor(e){super(),se(this,e,zm,Dm,a,{})}};function Bm(t){let n,r;return n=new _m({props:{width:qm,height:qm}}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p:e,i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}function Hm(t){let n,r;return n=new Wm({props:{width:qm,height:qm}}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p:e,i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}function Vm(t){let n,r;return n=new Fm({props:{width:qm,height:qm}}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p:e,i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}function Um(e){let t,n,r,i,o,a,s,l,u,c="ready"===e[0]&&Bm(),f="waiting"===e[0]&&Hm(),h="recognizing"===e[0]&&Vm();return{c(){t=w("div"),n=w("div"),r=S(),i=w("div"),c&&c.c(),o=S(),f&&f.c(),a=S(),h&&h.c(),s=S(),l=w("div"),O(n,"class","line svelte-eggm2k"),O(i,"class","status svelte-eggm2k"),O(l,"class","line svelte-eggm2k"),O(t,"class","indicator svelte-eggm2k")},m(e,d){m(e,t,d),g(t,n),g(t,r),g(t,i),c&&c.m(i,null),g(i,o),f&&f.m(i,null),g(i,a),h&&h.m(i,null),g(t,s),g(t,l),u=!0},p(e,[t]){"ready"===e[0]?c?(c.p(e,t),1&t&&ee(c,1)):(c=Bm(),c.c(),ee(c,1),c.m(i,o)):c&&(Q(),te(c,1,1,(()=>{c=null})),Z()),"waiting"===e[0]?f?(f.p(e,t),1&t&&ee(f,1)):(f=Hm(),f.c(),ee(f,1),f.m(i,a)):f&&(Q(),te(f,1,1,(()=>{f=null})),Z()),"recognizing"===e[0]?h?(h.p(e,t),1&t&&ee(h,1)):(h=Vm(),h.c(),ee(h,1),h.m(i,null)):h&&(Q(),te(h,1,1,(()=>{h=null})),Z())},i(e){u||(ee(c),ee(f),ee(h),u=!0)},o(e){te(c),te(f),te(h),u=!1},d(e){e&&y(t),c&&c.d(),f&&f.d(),h&&h.d()}}}const qm=24;function Gm(e,t,n){let{status:r="ready"}=t;return e.$$set=e=>{"status"in e&&n(0,r=e.status)},[r]}class Ym extends le{constructor(e){super(),se(this,e,Gm,Um,a,{status:0})}}function Km(e,t,n){const r=e.slice();return r[8]=t[n],r}function Jm(t){let n,r,i;return r=new np({}),{c(){n=w("div"),re(r.$$.fragment),O(n,"class","recognitions svelte-cy6yvs")},m(e,t){m(e,n,t),ie(r,n,null),i=!0},p:e,i(e){i||(ee(r.$$.fragment,e),i=!0)},o(e){te(r.$$.fragment,e),i=!1},d(e){e&&y(n),oe(r)}}}function Xm(e){let t,n,r=e[2],i=[];for(let t=0;t<r.length;t+=1)i[t]=Qm(Km(e,r,t));const o=e=>te(i[e],1,1,(()=>{i[e]=null}));return{c(){t=w("div");for(let e=0;e<i.length;e+=1)i[e].c();O(t,"class","recognitions svelte-cy6yvs")},m(e,r){m(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(6&n){let a;for(r=e[2],a=0;a<r.length;a+=1){const o=Km(e,r,a);i[a]?(i[a].p(o,n),ee(i[a],1)):(i[a]=Qm(o),i[a].c(),ee(i[a],1),i[a].m(t,null))}for(Q(),a=r.length;a<i.length;a+=1)o(a);Z()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ee(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)te(i[e]);n=!1},d(e){e&&y(t),b(i,e)}}}function Qm(e){let t,n;return t=new Em({props:{intentRecognition:e[8],text:e[1]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.intentRecognition=e[8]),2&n&&(r.text=e[1]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Zm(e){let t,n,r,i,o,a,s,l,u,c;function f(t){e[6](t)}let h={};void 0!==e[0]&&(h.text=e[0]),r=new ep({props:h}),z.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(r,"text",f))),r.$on("change",e[4]),a=new Ym({props:{status:e[3]}});const d=[Xm,Jm],p=[];function v(e,t){return e[2].length>0?0:1}return l=v(e),u=p[l]=d[l](e),{c(){t=w("div"),n=w("div"),re(r.$$.fragment),o=S(),re(a.$$.fragment),s=S(),u.c(),O(n,"class","input-view svelte-cy6yvs"),O(t,"class","eval-view svelte-cy6yvs")},m(e,i){m(e,t,i),g(t,n),ie(r,n,null),g(t,o),ie(a,t,null),g(t,s),p[l].m(t,null),c=!0},p(e,[n]){const o={};var s;!i&&1&n&&(i=!0,o.text=e[0],s=()=>i=!1,B.push(s)),r.$set(o);const c={};8&n&&(c.status=e[3]),a.$set(c);let f=l;l=v(e),l===f?p[l].p(e,n):(Q(),te(p[f],1,1,(()=>{p[f]=null})),Z(),u=p[l],u?u.p(e,n):(u=p[l]=d[l](e),u.c()),ee(u,1),u.m(t,null))},i(e){c||(ee(r.$$.fragment,e),ee(a.$$.fragment,e),ee(u),c=!0)},o(e){te(r.$$.fragment,e),te(a.$$.fragment,e),te(u),c=!1},d(e){e&&y(t),oe(r),oe(a),p[l].d()}}}function ey(e,t,n){let r;l(e,ot,(e=>n(5,r=e)));let i="",o="",a=[],s="ready";const u=tt(((e,t)=>{n(3,s="recognizing"),n(1,o=e),n(2,a=t.intents.map((e=>Xd(o,e,{shared:t.shared})))),setTimeout((()=>{n(3,s="ready")}),1e3)}),1e3);return e.$$.update=()=>{33&e.$$.dirty&&(r&&i&&i.length>0?(n(3,s="waiting"),u(i,r)):(n(3,s="ready"),n(1,o=""),n(2,a=[])))},[i,o,a,s,e=>{},r,function(e){i=e,n(0,i)}]}class ty extends le{constructor(e){super(),se(this,e,ey,Zm,a,{})}}function ny(e){let t,n;return t=new Gi({}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function ry(e){let t,n;return t=new ty({}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function iy(e){let t,n,r,i,o,a,s,l,u;return a=new Se({props:{initialPrimarySize:"35%",resetOnDoubleClick:!0,$$slots:{secondary:[ry],primary:[ny]},$$scope:{ctx:e}}}),{c(){t=w("div"),n=w("div"),r=w("div"),r.textContent="@geoffcox/pretty-good-nlp demo",i=S(),o=w("div"),re(a.$$.fragment),s=S(),l=w("div"),O(r,"class","header svelte-nkdwh4"),O(o,"class","content svelte-nkdwh4"),O(l,"class","footer svelte-nkdwh4"),O(n,"class","app svelte-nkdwh4"),O(t,"class","root svelte-nkdwh4")},m(e,c){m(e,t,c),g(t,n),g(n,r),g(n,i),g(n,o),ie(a,o,null),g(n,s),g(n,l),u=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){u||(ee(a.$$.fragment,e),u=!0)},o(e){te(a.$$.fragment,e),u=!1},d(e){e&&y(t),oe(a)}}}return new class extends le{constructor(e){super(),se(this,e,null,iy,a,{})}}({target:document.body})}();
