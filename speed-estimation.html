<!DOCTYPE html>
<html lang="en" class="light-mode">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="./favicon.png" />
		<link rel="stylesheet" type="text/css" href="./site.css" />
 		<meta name="viewport" content="width=device-width" />
		
		<link href="./_app/immutable/assets/3.84abd576.css" rel="stylesheet">
		<link href="./_app/immutable/assets/sterling.3ad06903.css" rel="stylesheet">
		<link href="./_app/immutable/assets/Post.a1c147c5.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.233f7d80.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/scheduler.75f5293f.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons.98f8b1d9.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/paths.d055f7d8.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.bbad78d0.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.36074062.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.1375ff03.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/3.a717e87e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/sterling.77de94fc.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/spread.8a54911c.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Button.fb729d6d.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/9.8281a622.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Post.19bcd7ab.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">  <div class="root"><div class="header svelte-7d51k5"><a href="/" class="svelte-7d51k5" data-svelte-h="svelte-bk6u5r">geoffcox.github.io</a><span class="logo svelte-7d51k5" role="button" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60px" height="60px" viewBox="0 0 36 36" aria-hidden="true" role="img" preserveAspectRatio="xMidYMid meet" class="rooster"><path fill="#FFAC33" d="M24.88 33.097a.977.977 0 0 0-.418-.391C22.865 31 24 28.999 24 28.999c0-.553 1-2 0-2l-1 1c-1 1-1 4-1 4h-2a1 1 0 1 0 0 2h1.107l-.222.12a1 1 0 1 0 .952 1.759l2.639-1.427a.998.998 0 0 0 .404-1.354zm-7 0a.974.974 0 0 0-.417-.391C15.866 31 17 28.999 17 28.999c0-.553 1-2 0-2l-1 1c-1 1-1 4-1 4h-2a1 1 0 1 0 0 2h1.108l-.222.12a1 1 0 1 0 .952 1.759l2.639-1.427a.998.998 0 0 0 .403-1.354zM7.516 10c0 1.104-1.119 2-2.5 2s-3.5-1-3.5-2s2.119-2 3.5-2c1.38 0 2.5.896 2.5 2z"></path><path fill="#DD2E44" d="M13.516 2c-2-1-3 1-3 1s0-3-3-3s-3 3-3 3s-3-.938-3 2c0 1.482 1.101 2.411 2.484 2.387V12c0 1 .263 3-.737 4s-2.484 4 .516 4s3-4 3-7c1 1 4 1 4-4c0-.867-.213-1.512-.55-2h1.287c4 0 4-4 2-5z"></path><path fill="#E1E8ED" d="M32.516 9c4 10 0 22-13 22c-7.732 0-13-6-14-11c-1.177-5.883-1-8-1-12c0-2.738 2.118-4.824 5-4c7 2 5 10 12 10c10 0 8.23-11.923 11-5z"></path><circle fill="#292F33" cx="7.516" cy="8" r="1"></circle></svg></span> </div> <div class="content-container svelte-5oz901"> <div class="split svelte-5oz901"><div class="nav svelte-5oz901"><div class="nav-header svelte-5oz901" role="separator">Open Source</div> <a href="./binary-search" class="svelte-5oz901">binary-search</a><a href="./recoil-examples" class="svelte-5oz901">recoil-examples</a><a href="./splitters" class="svelte-5oz901">react-splitter / svelte-splitter</a><a href="./sterling-svelte" class="svelte-5oz901">sterling-svelte</a><a href="./trie-search" class="svelte-5oz901">trie-search</a><div class="nav-header svelte-5oz901" role="separator">Opinion</div> <a href="./why-i-love-svelte" class="svelte-5oz901">Why I love Svelte</a><div class="nav-header svelte-5oz901" role="separator">Stories</div> <a href="./unpredictable-users" class="svelte-5oz901">Unpredictable users</a><a href="./speed-estimation" class="svelte-5oz901">Speed Estimation</a><div class="nav-header svelte-5oz901" role="separator">Bookshelf</div> <a href="./software-architecture-books" class="svelte-5oz901">Software Architecture Books</a></div> <div class="content svelte-5oz901"><div class="post svelte-nmvp7s"><div class="category svelte-nmvp7s">Story</div> <div class="headline svelte-nmvp7s"><a href="speed-estimation" class="svelte-nmvp7s">Speed Estimation</a></div> <div class="content-section svelte-nmvp7s"><div class="container svelte-nmvp7s"><div class="content"><p data-svelte-h="svelte-zi2g9c">One evening, when I was working on a large customer data store, there was an emergency team
		meeting to figure out how to handle a bug that had incorrectly hashed the Passport
		authentication identifiers in our SQL databases. About 20 of us were called into a 10 person
		conference room to discuss options.</p> <p data-svelte-h="svelte-139gv2o">A dev on my team reported he had already patched the code and had a SQL script to repair the
		existing data. However, some random guy from another team had been talking to my boss and
		followed us into the meeting room. He decided to take over the meeting and loudly declared that
		we first had to estimate how long running the script would take. My boss, normally outspoken and
		decisive, deferred to him. Everyone assumed he must be important and knew what he was doing.</p> <p data-svelte-h="svelte-1qkpabd">He grabbed a whiteboard pen and starting doing a calculation on the board. He stated that
		updating a row in SQL probably takes at best 1 millisecond when within a transaction. He also
		wrote out a bunch of hash algorithm statements that he said added up to 2.5 milliseconds per
		row. We had 400 million rows that needed updating. He then calculated this would take 400
		million x 3.5 = 1.4 billion milliseconds =&gt; 1.4 million seconds =&gt; 23 thousand minutes
		=&gt; 388 hours =&gt; 16 days.</p> <p data-svelte-h="svelte-11ih7t0">No one could use the system until all the rows were updated. The room was in a panic. I thought
		that we should get the script started ASAP. I pulled the dev and a service engineer into the
		hallway to confirm they had confidence in the script and to ask them to get it running.</p> <p data-svelte-h="svelte-o6jwum">In the meantime, random guy started drawing up a shift rotation schedule for each person to be
		on site watching the script run over the next 16 days. After 15 minutes, as random guy was
		finalizing the shift schedule, the dev and service engineer returned. The dev whispered in my
		ear the results.</p> <p data-svelte-h="svelte-9eoe3a">Random guy was literally giving a pep talk to the room about how hard it was going to be working
		24 hours a day, but that it would be a worthy and valiant effort. I tried to interrupt him, but
		he didn&#39;t give me any opportunity.</p> <p data-svelte-h="svelte-1j8jwfq">Finally, he finished. I let the room know that we had run the script and it completed in under
		15 minutes. The script updated over 400 rows per millisecond. He muttered that was impossible as
		his chest caved and he hung his head.</p> <p data-svelte-h="svelte-bcazty">While this guy was a bit of a blow hard, he followed how developers are taught to estimate
		algorithms. We mentally walk through the steps, estimate the cost of each instruction, account
		for loops, and multiply by the number of items to get the result.</p> <p data-svelte-h="svelte-a3ynid">The problem was that computation speed had exceeded human imagination. It is hard for humans to
		understand how fast 1/400th of a millisecond goes by. We like to think we can understand that
		kind of processing power, but we can&#39;t be precise enough to avoid exponential errors. This was
		back in 2005. Today, that script would likely complete in seconds.</p> <p data-svelte-h="svelte-1prs90w">We shouldn&#39;t manually think through estimates. Instead, we have to run the code in a
		production/test environment and measure the real performance. Don&#39;t be that (random) guy.</p></div></div> </div>  </div></div></div></div> </div> 
			
			<script>
				{
					__sveltekit_ybhec7 = {
						base: new URL(".", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("./_app/immutable/entry/start.233f7d80.js"),
						import("./_app/immutable/entry/app.bbad78d0.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3, 9],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
