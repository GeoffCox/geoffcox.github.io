<!DOCTYPE html>
<html lang="en" class="light-mode">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="./favicon.png" />
		<link rel="stylesheet" type="text/css" href="./site.css" />
 		<meta name="viewport" content="width=device-width" />
		
		<link href="./_app/immutable/assets/3.84abd576.css" rel="stylesheet">
		<link href="./_app/immutable/assets/sterling.3ad06903.css" rel="stylesheet">
		<link href="./_app/immutable/assets/Post.a1c147c5.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.d96314bd.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/scheduler.75f5293f.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons.ae1d38cf.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/paths.f77467a3.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.720de06f.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.36074062.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.1375ff03.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/3.e89c54b9.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/sterling.77de94fc.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/spread.8a54911c.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Button.fb729d6d.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/9.8281a622.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Post.19bcd7ab.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">  <div class="root"><div class="header svelte-7d51k5"><a href="/" class="svelte-7d51k5" data-svelte-h="svelte-bk6u5r">geoffcox.github.io</a><span class="logo svelte-7d51k5" role="button" tabindex="-1"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" fill="#000000" width="60px" height="60px" class="rooster"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#E7EDF1" d="M256 66.299c-93.73 0-169.713 81.729-169.713 175.459v230.865C92.758 484.747 105.528 493 120.229 493c14.702 0 27.472-8.253 33.943-20.376C160.643 484.747 173.413 493 188.115 493s27.472-8.253 33.943-20.376C228.528 484.747 241.298 493 256 493c14.063 0 26.343-7.561 33.048-18.828C295.754 485.439 308.034 493 322.096 493c14.702 0 27.472-8.253 33.943-20.376h1.789C364.299 484.747 377.069 493 391.77 493c14.702 0 27.472-8.253 33.943-20.376V241.759c0-93.73-75.983-175.46-169.713-175.46z"></path><path fill="#2B3B47" d="M189.904 219.001v33.621h-.05c0 .05.05.068.05.094c0 13.204-10.713 23.916-23.916 23.916c-13.204 0-23.916-10.713-23.916-23.916v-.094h-.102v-33.621h.288c1.067-12.247 11.204-21.884 23.731-21.884c12.492 0 22.629 9.637 23.68 21.884h.235zm179.892 0c-1.052-12.247-11.188-21.884-23.68-21.884c-12.527 0-22.663 9.637-23.731 21.884h-.288v33.621h.102v.094c0 13.204 10.713 23.916 23.916 23.916s23.916-10.713 23.916-23.916c0-.026-.05-.043-.05-.094h.05v-33.621h-.235z"></path><path fill="#FF473E" d="M276.742 335.293l.425 1.208l1.122 3.414l1.607 5.305c.594 2.049 1.245 4.36 1.914 6.881a334.563 334.563 0 0 1 2.068 8.142c.715 2.889 1.394 5.936 2.107 9.087c.672 3.152 1.381 6.408 2.019 9.717c.68 3.309 1.267 6.671 1.895 10.033c.571 3.362 1.17 6.723 1.682 10.033c.501 3.309 1.05 6.566 1.445 9.718c.401 3.152.692 6.198.881 9.087c.167 2.889.274 5.62.263 8.142c.013 2.521-.089 4.833-.215 6.881c-.142 2.049-.319 3.834-.524 5.305c-.385 2.942-.835 4.622-.835 4.622c-5.412 20.212-26.184 32.21-46.396 26.799c-13.529-3.622-23.388-14.187-26.799-26.799c0 0-.45-1.681-.835-4.622c-.205-1.471-.382-3.257-.524-5.305c-.126-2.049-.229-4.36-.215-6.881c-.011-2.521.096-5.253.263-8.142c.189-2.889.48-5.936.881-9.087c.396-3.152.944-6.408 1.445-9.718c.512-3.309 1.111-6.671 1.682-10.033c.627-3.362 1.214-6.723 1.895-10.033c.638-3.309 1.348-6.566 2.019-9.717c.713-3.152 1.392-6.198 2.107-9.087c.687-2.889 1.402-5.62 2.068-8.142a316.832 316.832 0 0 1 1.914-6.881l1.607-5.305l1.122-3.414l.425-1.208c4.026-11.456 16.576-17.478 28.032-13.453c6.51 2.287 11.3 7.427 13.455 13.453zm-25.367-206.252c5.4 2.554 11.848.248 14.402-5.152c0 0 .172-.363.448-1.043c.279-.68.699-1.678 1.159-2.948c.485-1.27 1.049-2.812 1.635-4.581c.589-1.769 1.23-3.765 1.861-5.942a176.902 176.902 0 0 0 1.922-7.03c.638-2.495 1.26-5.125 1.841-7.847c.306-1.361.583-2.744.856-4.144c.286-1.4.555-2.818.8-4.246c.533-2.857.967-5.76 1.443-8.663c.423-2.903.874-5.806 1.229-8.663c.39-2.857.703-5.669 1.01-8.391c.286-2.721.539-5.352.742-7.847c.199-2.495.367-4.853.483-7.03c.242-4.354.32-7.983.318-10.523c-.011-2.54-.078-3.991-.078-3.991c-.638-12.961-11.047-23.666-24.274-24.274c-14.054-.647-25.97 10.221-26.617 24.274c0 0-.067 1.451-.078 3.991c-.002 2.54.076 6.168.318 10.523c.116 2.177.284 4.536.483 7.03c.203 2.495.456 5.125.742 7.847c.307 2.721.62 5.533 1.01 8.391c.355 2.857.807 5.76 1.229 8.663c.476 2.903.91 5.806 1.443 8.663c.245 1.429.514 2.846.8 4.246c.273 1.4.55 2.784.856 4.144a202.112 202.112 0 0 0 1.841 7.847c.63 2.495 1.275 4.853 1.922 7.03a157.515 157.515 0 0 0 1.861 5.942c.586 1.769 1.15 3.311 1.635 4.581c.461 1.27.88 2.268 1.159 2.948c.276.68.448 1.043.448 1.043a10.795 10.795 0 0 0 5.151 5.152z"></path><path fill="#FFB636" d="M176.614 301.21c0-12.324 35.542-11.484 79.386-11.484s79.386-.84 79.386 11.484S282.75 353.441 256 353.441s-79.386-39.907-79.386-52.231z"></path><path fill="#FFD833" d="M335.386 298.438c0 12.391-35.542 17.579-79.386 17.579s-79.386-5.188-79.386-17.579S229.25 247.759 256 247.759s79.386 38.288 79.386 50.679z"></path></g></svg></span> </div> <div class="content-container svelte-5oz901"> <div class="split svelte-5oz901"><div class="nav svelte-5oz901"><div class="nav-header svelte-5oz901" role="separator">Open Source</div> <a href="./binary-search" class="svelte-5oz901">binary-search</a><a href="./recoil-examples" class="svelte-5oz901">recoil-examples</a><a href="./splitters" class="svelte-5oz901">react-splitter / svelte-splitter</a><a href="./sterling-svelte" class="svelte-5oz901">sterling-svelte</a><a href="./trie-search" class="svelte-5oz901">trie-search</a><div class="nav-header svelte-5oz901" role="separator">Opinion</div> <a href="./why-i-love-svelte" class="svelte-5oz901">Why I love Svelte</a><div class="nav-header svelte-5oz901" role="separator">Stories</div> <a href="./unpredictable-users" class="svelte-5oz901">Unpredictable users</a><a href="./speed-estimation" class="svelte-5oz901">Speed Estimation</a><div class="nav-header svelte-5oz901" role="separator">Bookshelf</div> <a href="./software-architecture-books" class="svelte-5oz901">Software Architecture Books</a></div> <div class="content svelte-5oz901"><div class="post svelte-nmvp7s"><div class="category svelte-nmvp7s">Story</div> <div class="headline svelte-nmvp7s"><a href="speed-estimation" class="svelte-nmvp7s">Speed Estimation</a></div> <div class="content-section svelte-nmvp7s"><div class="container svelte-nmvp7s"><div class="content"><p data-svelte-h="svelte-zi2g9c">One evening, when I was working on a large customer data store, there was an emergency team
		meeting to figure out how to handle a bug that had incorrectly hashed the Passport
		authentication identifiers in our SQL databases. About 20 of us were called into a 10 person
		conference room to discuss options.</p> <p data-svelte-h="svelte-139gv2o">A dev on my team reported he had already patched the code and had a SQL script to repair the
		existing data. However, some random guy from another team had been talking to my boss and
		followed us into the meeting room. He decided to take over the meeting and loudly declared that
		we first had to estimate how long running the script would take. My boss, normally outspoken and
		decisive, deferred to him. Everyone assumed he must be important and knew what he was doing.</p> <p data-svelte-h="svelte-1qkpabd">He grabbed a whiteboard pen and starting doing a calculation on the board. He stated that
		updating a row in SQL probably takes at best 1 millisecond when within a transaction. He also
		wrote out a bunch of hash algorithm statements that he said added up to 2.5 milliseconds per
		row. We had 400 million rows that needed updating. He then calculated this would take 400
		million x 3.5 = 1.4 billion milliseconds =&gt; 1.4 million seconds =&gt; 23 thousand minutes
		=&gt; 388 hours =&gt; 16 days.</p> <p data-svelte-h="svelte-11ih7t0">No one could use the system until all the rows were updated. The room was in a panic. I thought
		that we should get the script started ASAP. I pulled the dev and a service engineer into the
		hallway to confirm they had confidence in the script and to ask them to get it running.</p> <p data-svelte-h="svelte-o6jwum">In the meantime, random guy started drawing up a shift rotation schedule for each person to be
		on site watching the script run over the next 16 days. After 15 minutes, as random guy was
		finalizing the shift schedule, the dev and service engineer returned. The dev whispered in my
		ear the results.</p> <p data-svelte-h="svelte-9eoe3a">Random guy was literally giving a pep talk to the room about how hard it was going to be working
		24 hours a day, but that it would be a worthy and valiant effort. I tried to interrupt him, but
		he didn&#39;t give me any opportunity.</p> <p data-svelte-h="svelte-1j8jwfq">Finally, he finished. I let the room know that we had run the script and it completed in under
		15 minutes. The script updated over 400 rows per millisecond. He muttered that was impossible as
		his chest caved and he hung his head.</p> <p data-svelte-h="svelte-bcazty">While this guy was a bit of a blow hard, he followed how developers are taught to estimate
		algorithms. We mentally walk through the steps, estimate the cost of each instruction, account
		for loops, and multiply by the number of items to get the result.</p> <p data-svelte-h="svelte-a3ynid">The problem was that computation speed had exceeded human imagination. It is hard for humans to
		understand how fast 1/400th of a millisecond goes by. We like to think we can understand that
		kind of processing power, but we can&#39;t be precise enough to avoid exponential errors. This was
		back in 2005. Today, that script would likely complete in seconds.</p> <p data-svelte-h="svelte-1prs90w">We shouldn&#39;t manually think through estimates. Instead, we have to run the code in a
		production/test environment and measure the real performance. Don&#39;t be that (random) guy.</p></div></div> </div>  </div></div></div></div> </div> 
			
			<script>
				{
					__sveltekit_1i9b4yj = {
						base: new URL(".", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("./_app/immutable/entry/start.d96314bd.js"),
						import("./_app/immutable/entry/app.720de06f.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3, 9],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
