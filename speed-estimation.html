<!DOCTYPE html>
<html lang="en" class="light-mode">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="./favicon.png" />
		<link rel="stylesheet" type="text/css" href="./site.css" />
 		<meta name="viewport" content="width=device-width" />
		
		<link href="./_app/immutable/assets/3.84abd576.css" rel="stylesheet">
		<link href="./_app/immutable/assets/sterling.3ad06903.css" rel="stylesheet">
		<link href="./_app/immutable/assets/Post.a1c147c5.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.215d37c0.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/scheduler.75f5293f.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons.dbaa4cb8.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/paths.1caa2c9a.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.ef3cf8ef.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.36074062.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.1375ff03.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/3.172adb13.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/sterling.77de94fc.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/spread.8a54911c.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Button.fb729d6d.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/9.d090f44e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Post.19bcd7ab.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">  <div class="root"><div class="header svelte-7d51k5"><a href="/" class="svelte-7d51k5" data-svelte-h="svelte-bk6u5r">geoffcox.github.io</a><span class="logo svelte-7d51k5" role="button" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60px" height="60px" viewBox="0 0 128 128" preserveAspectRatio="xMidYMid meet" class="rooster"><path d="M113.97 96.23L37.1 98.91s-3 13.81-2.25 16.05c.28.84 9.85-8.45 9.85-8.45s11.97 14.78 12.81 14.64c.84-.14 10-9.43 10-9.43s13.66 11.4 14.64 11.4s9.29-12.11 9.29-12.11s10.56 7.6 11.26 7.46c.7-.14 7.88-11.54 7.88-11.54s11.22 3.33 12.34 3.05c1.14-.28-5.01-12.2-8.95-13.75z" fill="#b1b1b1"></path><path d="M33.16 54.98l-.66-17.69l11.97-11.54l26.56.38s7.04 6.34 8.87 7.46c1.83 1.13 8.24 4.38 19.83 18.59c6.17 7.57 11.15 20.26 12.55 23.64s10.84 33.08 10.84 33.93s-11.54-9.43-12.25-8.87c-.7.56-7.46 13.51-8.31 13.8c-.84.28-10.28-9.15-11.26-8.73s-8.73 13.8-9.29 13.8s-12.1-14.37-13.51-14.65c-1.41-.28-10 11.68-11.12 11.68c-1.13 0-11.4-16.61-12.67-16.61s-9.2 13.05-9.9 13.61s-2.21-20.51-2.49-23.04s.84-35.76.84-35.76z" fill="#e0e0e0"></path><path d="M59.44 83.06c-1.07 0-2.06-.69-2.39-1.77l-1.78-5.82a2.5 2.5 0 0 1 4.78-1.46l1.78 5.82a2.5 2.5 0 0 1-2.39 3.23z" fill="#ffffff"></path><path d="M79.81 89.63c-.98 0-1.91-.58-2.31-1.54l-2.82-6.76c-.53-1.28.07-2.74 1.35-3.27c1.28-.53 2.74.07 3.27 1.35l2.82 6.76a2.497 2.497 0 0 1-2.31 3.46z" fill="#ffffff"></path><path d="M93.32 81.18a2.5 2.5 0 0 1-2.26-1.43l-2.53-5.35a2.499 2.499 0 0 1 1.19-3.33c1.25-.59 2.74-.06 3.33 1.19l2.53 5.35a2.499 2.499 0 0 1-2.26 3.57z" fill="#ffffff"></path><path d="M77.18 63.91c-.79 0-1.57-.38-2.06-1.08l-4.6-6.66c-.78-1.14-.5-2.69.64-3.48c1.14-.79 2.69-.5 3.48.64l4.6 6.66c.78 1.14.5 2.69-.64 3.48c-.43.3-.93.44-1.42.44z" fill="#ffffff"></path><path d="M44.43 69.48c3 .23 29.14-4.04 19.8-24.68c-7.22-15.97-27.5-1.97-31.25 3.57c-.68 1.01-1.92 16.89-1.92 16.89S22.04 78.21 25 85.39s11.74 8.54 17.03 2.39c4.37-5.06 2.82-15.9 2.4-18.3z" fill="#ff615e"></path><path d="M35.13 38.23c2.08-3.22 8.87-10 19.57-10.42c10.7-.42 16.19 1.69 18.16 2.53c1.97.84 7.6 3.66 7.6 3.66s10.58-5 10.16-15.98s-11.7-11.75-16.07-9.35s-5.07 5.91-8.31 6.05c-3.24.14-5.77-7.74-15.91-3.8c-8.63 3.36-5.85 11.63-9.01 13.66c-3.52 2.25-11.12-2.53-16.47 4.93s1.27 14.22 2.67 15.35c1.41 1.13 6.05 3.71 6.05 3.71s-1.53-5.55 1.56-10.34z" fill="#ff615e"></path><path d="M41.42 65.07c1.3-.69.28-6.29-2.91-10.7s-5.63-6.29-5.63-6.29s-11.54 2.63-18.96 6.76c-4.14 2.31-9.24 7.37-8.68 9.24c.56 1.88 11.19 1.39 20.13 1.13c9.48-.28 14.46.71 16.05-.14z" fill="#fbbb02"></path><path d="M5.19 63.34s10.75-.75 15.58-1.41c4.83-.66 7.96-1.11 9.81-1.55c1.97-.47 6.19-1.69 6.19-1.69l.28 1.97s-10.23 2.3-16.14 2.82c-5.2.45-13.7 1.08-14.41 1.08s-1.13-.33-1.31-.56s0-.66 0-.66z" fill="#fe5f12"></path><ellipse cx="37.83" cy="59.51" rx="1.62" ry="1.67" fill="#fe5f12"></ellipse><path d="M56.15 54.6c-.76 3.42-3.84 5.78-7.78 4.37c-2.93-1.05-4.01-4.6-2.9-7.92s4.29-4.85 7.34-4.23c3.07.61 4.1 4.36 3.34 7.78z" fill="#2c2b2c"></path></svg></span> </div> <div class="content-container svelte-5oz901"> <div class="split svelte-5oz901"><div class="nav svelte-5oz901"><div class="nav-header svelte-5oz901" role="separator">Open Source</div> <a href="./binary-search" class="svelte-5oz901">binary-search</a><a href="./recoil-examples" class="svelte-5oz901">recoil-examples</a><a href="./splitters" class="svelte-5oz901">react-splitter / svelte-splitter</a><a href="./sterling-svelte" class="svelte-5oz901">sterling-svelte</a><a href="./trie-search" class="svelte-5oz901">trie-search</a><div class="nav-header svelte-5oz901" role="separator">Opinion</div> <a href="./why-i-love-svelte" class="svelte-5oz901">Why I love Svelte</a><div class="nav-header svelte-5oz901" role="separator">Stories</div> <a href="./unpredictable-users" class="svelte-5oz901">Unpredictable users</a><a href="./speed-estimation" class="svelte-5oz901">Speed Estimation</a><div class="nav-header svelte-5oz901" role="separator">Bookshelf</div> <a href="./software-architecture-books" class="svelte-5oz901">Software Architecture Books</a></div> <div class="content svelte-5oz901"><div class="post svelte-nmvp7s"><div class="category svelte-nmvp7s">Story</div> <div class="headline svelte-nmvp7s"><a href="speed-estimation" class="svelte-nmvp7s">Speed Estimation</a></div> <div class="content-section svelte-nmvp7s"><div class="container svelte-nmvp7s"><div class="content"><p data-svelte-h="svelte-nc59g0">One evening, when I was working on a large customer data store, there was an emergency team
		meeting to figure out how to handle a bug that had incorrectly hashed the Passport
		authentication identifiers in our SQL databases. About 20 of us were called into a 10 person conference
		room to discuss options.</p> <p data-svelte-h="svelte-10cij54">A dev on my team reported he had already patched the code and had a SQL script to repair the
		existing data. However, some random guy from another team had been talking to my boss and
		followed us into the meeting room. He decided to loudly take over the meeting and declared that
		we first had to estimate how long running the script would take. My boss, normally outspoken
		and decisive, deferred to him. Everyone assumed he must be important and knew
		what he was doing.</p> <p data-svelte-h="svelte-1qkpabd">He grabbed a whiteboard pen and starting doing a calculation on the board. He stated that
		updating a row in SQL probably takes at best 1 millisecond when within a transaction. He also
		wrote out a bunch of hash algorithm statements that he said added up to 2.5 milliseconds per
		row. We had 400 million rows that needed updating. He then calculated this would take 400
		million x 3.5 = 1.4 billion milliseconds =&gt; 1.4 million seconds =&gt; 23 thousand minutes
		=&gt; 388 hours =&gt; 16 days.</p> <p data-svelte-h="svelte-11ih7t0">No one could use the system until all the rows were updated. The room was in a panic. I thought
		that we should get the script started ASAP. I pulled the dev and a service engineer into the
		hallway to confirm they had confidence in the script and to ask them to get it running.</p> <p data-svelte-h="svelte-1alwxvx">In the meantime, random guy started drawing up a shift rotation schedule for each person to be
		on site watching the script run over the next 16 days. After 15 minutes, as the guy was
		finalizing the shift schedule, the dev and service engineer returned to the room. The dev
		whispered in my ear the results.</p> <p data-svelte-h="svelte-1fi90uq">The random guy was literally giving a pep talk to the room about how hard it was going to be to
		watch this 24 hours a day, but that it would be a worthy and valiant effort. I tried to
		interrupt him, but he wasn&#39;t allowing anyone to talk.</p> <p data-svelte-h="svelte-jti4uy">Finally he finished. I let the room know that we had run the script and it completed in under 15
		minutes. The script updated over 400 rows per millisecond. He said that was impossible as his
		chest caved and he hung his head. I had never seen someone have the wind taken out of their
		sails like him.</p> <p data-svelte-h="svelte-1vf9kpu">While this guy was a total blow hard, he followed how developers are taught to estimate
		algorithm duration. We mentally walk through the steps, deciding what each instruction should
		cost, look for loops, and multiply to get the result. The problem is that computation speeds had
		wildly exceeded human imagination. It is hard for humans to understand how fast 1/400th of a
		millisecond goes by.</p> <p data-svelte-h="svelte-166v96l">This was back in 2005. The XBOX 360 had just come out and everyone was amazed at its 240 GFLOPS
		speed. We like to imagine we can understand that kid of processing power. Today, the script
		would likely complete in a few seconds today. Humans simply can perceive time in those units. We
		can&#39;t just think through estimates anymore. Instead, we have to run the code in a simulation and
		measure the performance. Don&#39;t be like that random guy.</p></div></div> </div>  </div></div></div></div> </div> 
			
			<script>
				{
					__sveltekit_recqxc = {
						base: new URL(".", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("./_app/immutable/entry/start.215d37c0.js"),
						import("./_app/immutable/entry/app.ef3cf8ef.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3, 9],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
